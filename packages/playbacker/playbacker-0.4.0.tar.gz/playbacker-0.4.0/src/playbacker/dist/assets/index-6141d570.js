(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();const N={};function Ve(e){N.context=e}const ke=(e,t)=>e===t,je=Symbol("solid-track"),Z={equals:ke};let Ce=Pe;const V=1,ee=2,Ne={owned:null,cleanups:null,context:null,owner:null},oe={};var C=null;let R=null,p=null,A=null,U=null,re=0;function Y(e,t){const n=p,i=C,l=e.length===0,r=l?Ne:{owned:null,cleanups:null,context:null,owner:t===void 0?i:t},o=l?e:()=>e(()=>H(()=>se(r)));C=r,p=null;try{return D(o,!0)}finally{p=n,C=i}}function M(e,t){t=t?Object.assign({},Z,t):Z;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=l=>(typeof l=="function"&&(l=l(n.value)),Le(n,l));return[Te.bind(n),i]}function me(e,t,n){const i=W(e,t,!0,V);q(i)}function z(e,t,n){const i=W(e,t,!1,V);q(i)}function X(e,t,n){Ce=Re;const i=W(e,t,!1,V);i.user=!0,U?U.push(i):q(i)}function te(e,t,n){n=n?Object.assign({},Z,n):Z;const i=W(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,q(i),Te.bind(i)}function ye(e,t,n){let i,l,r;arguments.length===2&&typeof t=="object"||arguments.length===1?(i=!0,l=e,r=t||{}):(i=e,l=t,r=n||{});let o=null,s=oe,f=null,c=!1,a="initialValue"in r,y=typeof i=="function"&&te(i);const u=new Set,[g,d]=(r.storage||M)(r.initialValue),[E,O]=M(void 0),[I,T]=M(void 0,{equals:!1}),[m,v]=M(a?"ready":"unresolved");if(N.context){f=`${N.context.id}${N.context.count++}`;let b;r.ssrLoadFrom==="initial"?s=r.initialValue:N.load&&(b=N.load(f))&&(s=b[0])}function $(b,S,_,L){return o===b&&(o=null,a=!0,(b===s||S===s)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(L,{value:S})),s=oe,h(S,_)),S}function h(b,S){D(()=>{S===void 0&&d(()=>b),v(S!==void 0?"errored":"ready"),O(S);for(const _ of u.keys())_.decrement();u.clear()},!1)}function w(){const b=He,S=g(),_=E();if(_!==void 0&&!o)throw _;return p&&!p.user&&b&&me(()=>{I(),o&&(b.resolved||u.has(b)||(b.increment(),u.add(b)))}),S}function j(b=!0){if(b!==!1&&c)return;c=!1;const S=y?y():i;if(S==null||S===!1){$(o,H(g));return}const _=s!==oe?s:H(()=>l(S,{value:g(),refetching:b}));return typeof _!="object"||!(_&&"then"in _)?($(o,_,void 0,S),_):(o=_,c=!0,queueMicrotask(()=>c=!1),D(()=>{v(a?"refreshing":"pending"),T()},!1),_.then(L=>$(_,L,void 0,S),L=>$(_,void 0,Ie(L),S)))}return Object.defineProperties(w,{state:{get:()=>m()},error:{get:()=>E()},loading:{get(){const b=m();return b==="pending"||b==="refreshing"}},latest:{get(){if(!a)return w();const b=E();if(b&&!o)throw b;return g()}}}),y?me(()=>j(!1)):j(!1),[w,{refetch:j,mutate:d}]}function ve(e,t=ke,n){const i=new Map,l=W(r=>{const o=e();for(const[s,f]of i.entries())if(t(s,o)!==t(s,r))for(const c of f.values())c.state=V,c.pure?A.push(c):U.push(c);return o},void 0,!0,V);return q(l),r=>{const o=p;if(o){let s;(s=i.get(r))?s.add(o):i.set(r,s=new Set([o])),Q(()=>{s.delete(o),!s.size&&i.delete(r)})}return t(r,l.value)}}function Ue(e){return D(e,!1)}function H(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function we(e,t,n){const i=Array.isArray(e);let l,r=n&&n.defer;return o=>{let s;if(i){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(r){r=!1;return}const f=H(()=>t(s,l,o));return l=s,f}}function fe(e){X(()=>H(e))}function Q(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}let He;function Te(){const e=R;if(this.sources&&(this.state||e))if(this.state===V||e)q(this);else{const t=A;A=null,D(()=>ie(this),!1),A=t}if(p){const t=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(t)):(p.sources=[this],p.sourceSlots=[t]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function Le(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&D(()=>{for(let l=0;l<e.observers.length;l+=1){const r=e.observers[l],o=R&&R.running;o&&R.disposed.has(r),(o&&!r.tState||!o&&!r.state)&&(r.pure?A.push(r):U.push(r),r.observers&&Oe(r)),o||(r.state=V)}if(A.length>1e6)throw A=[],new Error},!1)),t}function q(e){if(!e.fn)return;se(e);const t=C,n=p,i=re;p=C=e,De(e,e.value,i),p=n,C=t}function De(e,t,n){let i;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=V,e.owned&&e.owned.forEach(se),e.owned=null),e.updatedAt=n+1,Me(l)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Le(e,i):e.value=i,e.updatedAt=n)}function W(e,t,n,i=V,l){const r={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:null,pure:n};return C===null||C!==Ne&&(C.owned?C.owned.push(r):C.owned=[r]),r}function ne(e){const t=R;if(e.state===0||t)return;if(e.state===ee||t)return ie(e);if(e.suspense&&H(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<re);)(e.state||t)&&n.push(e);for(let i=n.length-1;i>=0;i--)if(e=n[i],e.state===V||t)q(e);else if(e.state===ee||t){const l=A;A=null,D(()=>ie(e,n[0]),!1),A=l}}function D(e,t){if(A)return e();let n=!1;t||(A=[]),U?n=!0:U=[],re++;try{const i=e();return Be(n),i}catch(i){n||(U=null),A=null,Me(i)}}function Be(e){if(A&&(Pe(A),A=null),e)return;const t=U;U=null,t.length&&D(()=>Ce(t),!1)}function Pe(e){for(let t=0;t<e.length;t++)ne(e[t])}function Re(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:ne(i)}for(N.context&&Ve(),t=0;t<n;t++)ne(e[t])}function ie(e,t){const n=R;e.state=0;for(let i=0;i<e.sources.length;i+=1){const l=e.sources[i];l.sources&&(l.state===V||n?l!==t&&(!l.updatedAt||l.updatedAt<re)&&ne(l):(l.state===ee||n)&&ie(l,t))}}function Oe(e){const t=R;for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n];(!i.state||t)&&(i.state=ee,i.pure?A.push(i):U.push(i),i.observers&&Oe(i))}}function se(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const r=l.pop(),o=n.observerSlots.pop();i<l.length&&(r.sourceSlots[o]=i,l[i]=r,n.observerSlots[i]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)se(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ie(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Me(e){throw e=Ie(e),e}const qe=Symbol("fallback");function be(e){for(let t=0;t<e.length;t++)e[t]()}function Ge(e,t,n={}){let i=[],l=[],r=[],o=0,s=t.length>1?[]:null;return Q(()=>be(r)),()=>{let f=e()||[],c,a;return f[je],H(()=>{let u=f.length,g,d,E,O,I,T,m,v,$;if(u===0)o!==0&&(be(r),r=[],i=[],l=[],o=0,s&&(s=[])),n.fallback&&(i=[qe],l[0]=Y(h=>(r[0]=h,n.fallback())),o=1);else if(o===0){for(l=new Array(u),a=0;a<u;a++)i[a]=f[a],l[a]=Y(y);o=u}else{for(E=new Array(u),O=new Array(u),s&&(I=new Array(u)),T=0,m=Math.min(o,u);T<m&&i[T]===f[T];T++);for(m=o-1,v=u-1;m>=T&&v>=T&&i[m]===f[v];m--,v--)E[v]=l[m],O[v]=r[m],s&&(I[v]=s[m]);for(g=new Map,d=new Array(v+1),a=v;a>=T;a--)$=f[a],c=g.get($),d[a]=c===void 0?-1:c,g.set($,a);for(c=T;c<=m;c++)$=i[c],a=g.get($),a!==void 0&&a!==-1?(E[a]=l[c],O[a]=r[c],s&&(I[a]=s[c]),a=d[a],g.set($,a)):r[c]();for(a=T;a<u;a++)a in E?(l[a]=E[a],r[a]=O[a],s&&(s[a]=I[a],s[a](a))):l[a]=Y(y);l=l.slice(0,o=u),i=f.slice(0)}return l});function y(u){if(r[a]=u,s){const[g,d]=M(a);return s[a]=d,t(f[a],g)}return t(f[a])}}}function k(e,t){return H(()=>e(t||{}))}function xe(e){const t="fallback"in e&&{fallback:()=>e.fallback};return te(Ge(()=>e.each,e.children,t||void 0))}function Ke(e){let t=!1;const n=e.keyed,i=te(()=>e.when,void 0,{equals:(l,r)=>t?l===r:!l==!r});return te(()=>{const l=i();if(l){const r=e.children,o=typeof r=="function"&&r.length>0;return t=n||o,o?H(()=>r(l)):r}return e.fallback},void 0,void 0)}function ze(e,t,n){let i=n.length,l=t.length,r=i,o=0,s=0,f=t[l-1].nextSibling,c=null;for(;o<l||s<r;){if(t[o]===n[s]){o++,s++;continue}for(;t[l-1]===n[r-1];)l--,r--;if(l===o){const a=r<i?s?n[s-1].nextSibling:n[r-s]:f;for(;s<r;)e.insertBefore(n[s++],a)}else if(r===s)for(;o<l;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[s]===t[l-1]){const a=t[--l].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--r],a),t[l]=n[r]}else{if(!c){c=new Map;let y=s;for(;y<r;)c.set(n[y],y++)}const a=c.get(t[o]);if(a!=null)if(s<a&&a<r){let y=o,u=1,g;for(;++y<l&&y<r&&!((g=c.get(t[y]))==null||g!==a+u);)u++;if(u>a-s){const d=t[o];for(;s<a;)e.insertBefore(n[s++],d)}else e.replaceChild(n[s++],t[o++])}else o++;else t[o++].remove()}}}const pe="_$DX_DELEGATE";function Je(e,t,n,i={}){let l;return Y(r=>{l=r,t===document?e():x(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{l(),t.textContent=""}}function B(e,t,n){const i=document.createElement("template");if(i.innerHTML=e,t&&i.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:
${i.innerHTML}

${e}. Is your HTML properly formed?`;let l=i.content.firstChild;return n&&(l=l.firstChild),l}function Fe(e,t=window.document){const n=t[pe]||(t[pe]=new Set);for(let i=0,l=e.length;i<l;i++){const r=e[i];n.has(r)||(n.add(r),t.addEventListener(r,Xe))}}function K(e,t){t==null?e.removeAttribute("class"):e.className=t}function x(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return le(e,t,i,n);z(l=>le(e,t(),l,n),i)}function Xe(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),N.registry&&!N.done&&(N.done=_$HY.done=!0);n;){const i=n[t];if(i&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?i.call(n,l,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function le(e,t,n,i,l){for(N.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=i!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(N.context)return n;if(r==="number"&&(t=t.toString()),o){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=G(e,n,i,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(N.context)return n;n=G(e,n,i)}else{if(r==="function")return z(()=>{let s=t();for(;typeof s=="function";)s=s();n=le(e,s,n,i)}),()=>n;if(Array.isArray(t)){const s=[],f=n&&Array.isArray(n);if(ce(s,t,n,l))return z(()=>n=le(e,s,n,i,!0)),()=>n;if(N.context){if(!s.length)return n;for(let c=0;c<s.length;c++)if(s[c].parentNode)return n=s}if(s.length===0){if(n=G(e,n,i),o)return n}else f?n.length===0?$e(e,s,i):ze(e,n,s):(n&&G(e),$e(e,s));n=s}else if(t instanceof Node){if(N.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=G(e,n,i,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ce(e,t,n,i){let l=!1;for(let r=0,o=t.length;r<o;r++){let s=t[r],f=n&&n[r];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))l=ce(e,s,f)||l;else if(typeof s=="function")if(i){for(;typeof s=="function";)s=s();l=ce(e,Array.isArray(s)?s:[s],Array.isArray(f)?f:[f])||l}else e.push(s),l=!0;else{const c=String(s);c==="<!>"?f&&f.nodeType===8&&e.push(f):f&&f.nodeType===3&&f.data===c?e.push(f):e.push(document.createTextNode(c))}}return l}function $e(e,t,n=null){for(let i=0,l=t.length;i<l;i++)e.insertBefore(t[i],n)}function G(e,t,n,i){if(n===void 0)return e.textContent="";const l=i||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(l!==s){const f=s.parentNode===e;!r&&!o?f?e.replaceChild(l,s):e.insertBefore(l,n):f&&s.remove()}else r=!0}}else e.insertBefore(l,n);return[l]}var Qe=["Shift","Meta","Alt","Control"],We=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function ae(e,t){return typeof e.getModifierState=="function"&&e.getModifierState(t)}function Ye(e){return e.trim().split(" ").map(function(t){var n=t.split(/\b\+/),i=n.pop();return[n=n.map(function(l){return l==="$mod"?We:l}),i]})}function Ze(e,t){var n;t===void 0&&(t={});var i=(n=t.timeout)!=null?n:1e3,l=Object.keys(e).map(function(s){return[Ye(s),e[s]]}),r=new Map,o=null;return function(s){s instanceof KeyboardEvent&&(l.forEach(function(f){var c=f[0],a=f[1],y=r.get(c)||c;(function(u,g){return!(g[1].toUpperCase()!==u.key.toUpperCase()&&g[1]!==u.code||g[0].find(function(d){return!ae(u,d)})||Qe.find(function(d){return!g[0].includes(d)&&g[1]!==d&&ae(u,d)}))})(s,y[0])?y.length>1?r.set(c,y.slice(1)):(r.delete(c),a(s)):ae(s,s.key)||r.delete(c)}),o&&clearTimeout(o),o=setTimeout(r.clear.bind(r),i))}}const ue=e=>`http://127.0.0.1:8000${e}`;function et(){const e=async(t,n)=>(await fetch(ue(t),{method:"POST",...n})).json();return{get_setlists:()=>e("/get_setlists"),get_setlist:t=>e(`/get_setlist?${new URLSearchParams({name:t})}`),toggle_playing:t=>e("/toggle_playing",{headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),toggle_guide_enabled:()=>e("/toggle_guide_enabled"),prepare_for_switch:()=>e("/prepare_for_switch"),reset:()=>e("/reset")}}function tt(e,t,n){if(N.context){const[i,l]=M(e,n);return fe(()=>l(()=>t())),[i,l]}return M(t(),n)}var nt=tt;function Se(e,t,n){const[i,l]=M(),r=n!=null&&n.api?Array.isArray(n.api)?n.api:[n.api]:[globalThis.localStorage].filter(Boolean),o=n!=null&&n.prefix?`${n.prefix}.`:"",s=()=>r.reduce((y,u)=>{if(y!==null||!u)return y;let g=null;try{g=u.getItem(`${o}${e}`)}catch(d){if(l(d instanceof Error?d:new Error(`Error reading ${o}${e} from ${u.name}`)),n!=null&&n.throw)throw d}return g!==null&&(n!=null&&n.deserializer)?n.deserializer(g+"",e,n.options):g},null),[f,c]=nt(t,()=>s()??t,n);X(()=>{const y=f(),u=n!=null&&n.serializer?n.serializer(y,e,n.options):y+"",g=`${o}${e}`;try{y===null?r.forEach(d=>d.getItem(g)!==null&&d.removeItem(g)):r.forEach(d=>d.getItem(g)!==u&&d.setItem(g,u,n==null?void 0:n.options))}catch(d){if(l(d instanceof Error?d:new Error(`Error ${y===null?"removing":"writing"} value`)),n!=null&&n.throw)throw d}});const a=()=>{const y=s();c(y)};return(n==null?void 0:n.sync)!==!1&&fe(()=>{const y=u=>{let g=!1;try{r.forEach(d=>{d!==u.storageArea&&u.key&&u.newValue!==d.getItem(u.key)&&(u.newValue?d.setItem(u.key,u.newValue):d.removeItem(u.key),g=!0)})}catch(d){if(l(d instanceof Error?d:new Error("Error synching api after event")),n!=null&&n.throw)throw d}g&&a()};"addEventListener"in globalThis?(globalThis.addEventListener("storage",y),Q(()=>globalThis.removeEventListener("storage",y))):(r.forEach(u=>{var g;return(g=u.addEventListener)==null?void 0:g.call(u,"storage",y)}),Q(()=>r.forEach(u=>{var g;return(g=u.removeEventListener)==null?void 0:g.call(u,"storage",y)})))}),[Object.assign(f,{error:i}),c,a]}var it=e=>(typeof e.clear=="function"||(e.clear=()=>{let t;for(;t=e.key(0);)e.removeItem(t)}),e),_e=e=>{if(!e)return"";let t="";for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n];t+=i instanceof Date?`; ${n}=${i.toUTCString()}`:typeof i=="boolean"?`; ${n}`:`; ${n}=${i}`}return t},P=it({_cookies:[globalThis.document,"cookie"],getItem:e=>{var t;return((t=P._cookies[0][P._cookies[1]].match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))==null?void 0:t.pop())??null},setItem:(e,t,n)=>{const i=P.getItem(e);P._cookies[0][P._cookies[1]]=`${e}=${t}${_e(n)}`;const l=Object.assign(new Event("storage"),{key:e,oldValue:i,newValue:t,url:globalThis.document.URL,storageArea:P});window.dispatchEvent(l)},removeItem:e=>{P._cookies[0][P._cookies[1]]=`${e}=deleted${_e({expires:new Date(0)})}`},key:e=>{let t=null,n=0;return P._cookies[0][P._cookies[1]].replace(/(?:^|;)\s*(.+?)\s*=\s*[^;]+/g,(i,l)=>(!t&&l&&n++===e&&(t=l),"")),t},get length(){let e=0;return P._cookies[0][P._cookies[1]].replace(/(?:^|;)\s*.+?\s*=\s*[^;]+/g,t=>(e+=t?1:0,"")),e}});function lt(e,t){if(!t)return;const n=e.indexOf(t);return e.at(n-1)}function rt(e,t){if(!t)return e[0];const n=e.indexOf(t);return e.at(n+1)||e[0]}function st(e){const[t,{refetch:n}]=ye(e.get_setlists);function i(h,w){return y()&&h&&w&&h!==w?confirm("Change current setlist?"):!0}const[l,r]=Se("setlistName",null,{equals:(h,w)=>!i(h,w)}),[o,{refetch:s}]=ye(l,e.get_setlist);X(we(o,h=>{const w=f();h&&h.songs&&(h.songs.find(b=>b.name==(w==null?void 0:w.name))||c(h.songs[0]))}));const[f,c]=Se("song",null,{serializer:h=>{try{return JSON.stringify(h)}catch{return null}},deserializer:h=>{try{return JSON.parse(h)}catch{return null}}});X(we(f,async()=>a(await e.prepare_for_switch()),{defer:!1}));function a(h){Ue(()=>{u(h.playing),E(h.guide_enabled)})}const[y,u]=M(!1);async function g(){const h=f();h&&a(await e.toggle_playing(h.tempo))}const[d,E]=M(!0),O=async()=>a(await e.toggle_guide_enabled()),I=async()=>a(await e.reset());new EventSource(ue("/watch_setlists")).addEventListener("message",()=>n(),!1);let m;X(()=>{const h=l();m&&m.close(),m=new EventSource(ue(`/watch_setlist?name=${h}`)),m.addEventListener("message",()=>s(),!1)});function v(){var w;const h=(w=o())==null?void 0:w.songs;if(h){const j=lt(h,f());j&&c(j)}}function $(){var w;const h=(w=o())==null?void 0:w.songs;h&&c(rt(h,f()))}return{setlists:t,setlistName:l,setSetlistName:r,setlist:o,song:f,setSong:c,togglePlaying:g,playing:y,toggleGuide:O,guideEnabled:d,resetPlayback:I,previousSong:v,nextSong:$}}const ot=B('<div class="grid h-full place-content-center text-gray-500"></div>',2),at=B('<div class="h-15 flex w-40 basis-1/4 flex-col place-items-center items-center rounded-lg bg-gray-100 p-3 text-center text-sm"><span class="text-2xl font-semibold"></span><span class=" text-xs font-semibold uppercase"></span></div>',6),ct=B("<div><span><span></span></span><span></span></div>",8),ut=B('<div class="App grid h-screen" style="grid-template-columns: 1fr 2fr 4fr;"><ul class="overflow-y-scroll px-5"></ul><div class="overflow-y-scroll ring-1 ring-black/5"></div><div class="flex flex-col overflow-hidden"></div></div>',8),ft=B("<li></li>",2),dt=B('<div><div><div></div><div class="text-sm"></div></div><div><div class="px-3"></div><div class="px-3"></div><div class="px-3"></div></div></div>',16),gt=B('<div class="m-20 flex flex-1 flex-col"><div class="text-8xl font-bold"></div><div class="my-2 text-6xl"></div><div class="my-6 flex flex-wrap gap-2"></div></div>',8),ht=B('<div class="mx-20 mb-10 mt-2 flex flex-col"><hr class="w-full p-2"><div class="flex flex-wrap gap-2"></div></div>',5);function Ee(e){return(()=>{const t=ot.cloneNode(!0);return x(t,()=>e.text),t})()}function J(e){return(()=>{const t=at.cloneNode(!0),n=t.firstChild,i=n.nextSibling;return x(n,()=>e.param),x(i,()=>e.name),t})()}function Ae(e,t){const n=Ze(t);fe(()=>window.addEventListener(e,n)),Q(()=>window.removeEventListener(e,n))}function F(e){const[t,n]=M(!1);return Ae("keydown",Object.fromEntries(e.keys.map(i=>[i,l=>{e.action(l),n(!0)}]))),Ae("keyup",Object.fromEntries(e.keys.map(i=>[i,()=>n(!1)]))),(()=>{const i=ct.cloneNode(!0),l=i.firstChild,r=l.firstChild,o=l.nextSibling;return x(r,()=>e.prettyValue),x(o,()=>e.name),z(s=>{const f=`w-max space-x-2 rounded-lg p-2 font-mono text-sm ${t()?"bg-gray-300":"bg-gray-100"}`,c=`rounded-lg ${t()?"bg-gray-300":"bg-gray-200"} p-1 text-sm`;return f!==s._v$&&K(i,s._v$=f),c!==s._v$2&&K(l,s._v$2=c),s},{_v$:void 0,_v$2:void 0}),i})()}function mt(){const{setlists:e,setlistName:t,setSetlistName:n,setlist:i,song:l,setSong:r,togglePlaying:o,playing:s,toggleGuide:f,guideEnabled:c,resetPlayback:a,previousSong:y,nextSong:u}=st(et()),g=ve(t),d=ve(()=>{var E;return(E=l())==null?void 0:E.name});return(()=>{const E=ut.cloneNode(!0),O=E.firstChild,I=O.nextSibling,T=I.nextSibling;return x(O,k(xe,{get each(){return e()},children:m=>(()=>{const v=ft.cloneNode(!0);return v.$$click=()=>n(m),x(v,m),z(()=>K(v,`-ml-[2px] block break-after-left border-l-2 border-gray-100 p-2 pl-4 first:mt-7 last:mb-7 hover:transition-all ${g(m)?"border-yellow-600 text-yellow-600":"text-gray-500 hover:border-black hover:text-black"}`)),v})()})),x(I,k(xe,{get each(){var m;return(m=i())==null?void 0:m.songs},get fallback(){return k(Ee,{text:"Choose a setlist"})},children:m=>(()=>{const v=dt.cloneNode(!0),$=v.firstChild,h=$.firstChild,w=h.nextSibling,j=$.nextSibling,b=j.firstChild,S=b.nextSibling,_=S.nextSibling;return v.$$click=()=>r(m),x(h,()=>m.name),x(w,()=>m.artist),x(b,()=>m.tempo.bpm),x(S,()=>m.tempo.time_signature),x(_,()=>m.tempo.duration),z(L=>{const de=`group flex border border-gray-100 first:mt-7 last:mb-7 hover:bg-gray-50 ${d(m.name)?"bg-gray-50":""}`,ge=`flex-grow p-4 pl-8 ${d(m.name)?"text-yellow-700":"text-gray-500 hover:text-black"}`,he=`invisible grid grid-cols-3 place-items-center divide-x whitespace-nowrap pr-6 text-sm group-hover:visible ${d(m.name)?"divide-yellow-700 text-yellow-700":"divide-gray-500 text-gray-500"}`;return de!==L._v$3&&K(v,L._v$3=de),ge!==L._v$4&&K($,L._v$4=ge),he!==L._v$5&&K(j,L._v$5=he),L},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),v})()})),x(T,k(Ke,{get when(){return l()},get fallback(){return k(Ee,{text:"Choose a song"})},keyed:!0,children:m=>[(()=>{const v=gt.cloneNode(!0),$=v.firstChild,h=$.nextSibling,w=h.nextSibling;return x($,()=>m.name),x(h,()=>m.artist),x(w,k(J,{name:"Tempo",get param(){return`${m.tempo.bpm}`}}),null),x(w,k(J,{name:"Time Signature",get param(){return m.tempo.time_signature}}),null),x(w,k(J,{name:"Duration",get param(){return m.tempo.duration}}),null),x(w,k(J,{name:"Status",get param(){return`${s()?"Playing":"Paused"}`}}),null),x(w,k(J,{name:"Guide",get param(){return`${c()?"Enabled":"Disabled"}`}}),null),v})(),(()=>{const v=ht.cloneNode(!0),$=v.firstChild,h=$.nextSibling;return x(h,k(F,{name:"Play/Pause",prettyValue:"Space",keys:["Space"],action:async w=>{w.preventDefault(),await o()}}),null),x(h,k(F,{name:"Reset",prettyValue:"R",keys:["r","к"],action:a}),null),x(h,k(F,{name:"Toggle Guide",prettyValue:"G",keys:["g","п"],action:f}),null),x(h,k(F,{name:"Previous Song",prettyValue:"←",keys:["ArrowLeft"],action:y}),null),x(h,k(F,{name:"Next Song",prettyValue:"→",keys:["ArrowRight"],action:u}),null),v})()]})),E})()}Fe(["click"]);addEventListener("error",e=>alert(e.error));Je(()=>k(mt,{}),document.getElementById("root"));
