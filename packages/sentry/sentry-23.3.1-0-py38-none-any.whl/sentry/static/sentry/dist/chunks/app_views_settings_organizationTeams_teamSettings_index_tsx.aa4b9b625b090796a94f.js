"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationTeams_teamSettings_index_tsx"],{"./app/data/forms/teamSettingsFields.tsx":(e,s,t)=>{t.r(s),t.d(s,{default:()=>o,route:()=>i}),t("../node_modules/core-js/modules/es.array.unshift.js");var a=t("./app/locale.tsx"),n=t("./app/utils/slugify.tsx");const i="/settings/:orgId/teams/:teamId/settings/",o=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:(0,a.t)("Name"),placeholder:"e.g. api-team",help:(0,a.t)("A unique ID used to identify the team"),disabled:e=>{let{access:s}=e;return!s.has("team:write")},transformInput:n.Z,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:(0,a.t)("You will be redirected to the new team slug after saving")}]},{title:"Team Organization Role",fields:[{name:"orgRole",type:"select",choices:e=>{let{orgRoleList:s}=e;const t=s.map((e=>[e.id,e.name]))??[];return t.unshift(["","None"]),t},required:!1,label:(0,a.t)("Organization Role"),help:(0,a.t)("Organization owners can bulk assign an org-role for all the members in this team"),disabled:e=>{let{access:s,idpProvisioned:t}=e;return!s.has("org:admin")||t},visible:e=>{let{hasOrgRoleFlag:s}=e;return s},saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:(0,a.t)("You are giving all team members the permissions of this organization role")}]}]},"./app/utils/slugify.tsx":(e,s,t)=>{function a(e){return e.normalize("NFKD").toLowerCase().replace(" ","-").replace(/[^a-z0-9-_]/g,"")}t.d(s,{Z:()=>a})},"./app/views/asyncView.tsx":(e,s,t)=>{t.d(s,{Z:()=>o});var a=t("./app/components/asyncComponent.tsx"),n=t("./app/components/sentryDocumentTitle.tsx"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends a.Z{getTitle(){return""}render(){return(0,i.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/organizationTeams/teamSettings/index.tsx":(e,s,t)=>{t.r(s),t.d(s,{default:()=>Z});var a=t("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(t("../node_modules/core-js/modules/es.regexp.flags.js"),t("../node_modules/core-js/modules/es.array.includes.js"),t("../node_modules/react/index.js")),i=t("../node_modules/react-router/es/index.js"),o=t("./app/actionCreators/indicator.tsx"),r=t("./app/actionCreators/teams.tsx"),l=t("./app/components/button.tsx"),m=t("./app/components/confirm.tsx"),d=t("./app/components/forms/fieldGroup/index.tsx"),p=t("./app/components/forms/form.tsx"),c=t("./app/components/forms/jsonForm.tsx"),u=t("./app/components/panels/index.tsx"),g=t("./app/data/forms/teamSettingsFields.tsx"),h=t("./app/icons/index.tsx"),x=t("./app/locale.tsx"),f=t("./app/utils/withDomainRequired.tsx"),b=t("./app/utils/withOrganization.tsx"),v=t("./app/views/asyncView.tsx"),y=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class w extends v.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleSubmitSuccess",((e,s,t)=>{const{organization:a}=this.props;(0,r.z_)(this.props.team.slug,e),"slug"===t&&((0,o.S9)((0,x.t)("Team name changed")),i.browserHistory.replace((0,f.D)(`/settings/${a.slug}/teams/${e.slug}/settings/`)),this.setState({loading:!0}))})),(0,a.Z)(this,"handleRemoveTeam",(async()=>{const{organization:e,params:s}=this.props;try{await(0,r.tT)(this.api,{orgId:e.slug,teamId:s.teamId}),i.browserHistory.replace((0,f.D)(`/settings/${e.slug}/teams/`))}catch{}}))}getTitle(){return"Team Settings"}getEndpoints(){return[]}renderBody(){const{organization:e,team:s}=this.props,t=new Set(e.access),a=s.flags["idp:provisioned"],i=e.orgRoleList,r=e.features.includes("org-roles-for-teams");return(0,y.BX)(n.Fragment,{children:[(0,y.tZ)(p.Z,{apiMethod:"PUT",apiEndpoint:`/teams/${e.slug}/${s.slug}/`,saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:()=>(0,o.Iw)((0,x.t)("Unable to save change")),initialData:{name:s.name,slug:s.slug,orgRole:s.orgRole},children:(0,y.tZ)(c.Z,{access:t,additionalFieldProps:{idpProvisioned:a,hasOrgRoleFlag:r,orgRoleList:i},forms:g.default})}),(0,y.BX)(u.s_,{children:[(0,y.tZ)(u.V9,{children:(0,x.t)("Remove Team")}),(0,y.tZ)(d.Z,{help:(0,x.t)("This may affect team members' access to projects and associated alert delivery."),children:(0,y.tZ)("div",{children:(0,y.tZ)(m.Z,{disabled:!t.has("team:admin"),onConfirm:this.handleRemoveTeam,priority:"danger",message:(0,x._N)("Are you sure you want to remove the team [team]?",{team:`#${s.slug}`}),children:(0,y.tZ)(l.zx,{icon:(0,y.tZ)(h.Fz,{}),priority:"danger",disabled:!t.has("team:admin"),children:(0,x.t)("Remove Team")})})})})]})]})}}const Z=(0,b.Z)(w)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationTeams_teamSettings_index_tsx.ae571d6e19083e53f38968946412d696.js.map