"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_projectInstall_platformOrIntegration_tsx"],{"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,n)=>{n.r(e),n.d(e,{default:()=>Zt});var i=n("../node_modules/query-string/index.js"),o=n("./app/components/onboarding/onboardingContext.tsx"),r=n("./app/utils/integrationUtil.tsx"),a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),l=n("./app/actionCreators/projects.tsx"),d=n("./app/components/acl/feature.tsx"),p=n("./app/components/alert.tsx"),c=n("./app/components/button.tsx"),m=n("./app/components/buttonBar.tsx"),g=n("./app/components/errors/notFound.tsx"),u=n("./app/components/loadingError.tsx"),h=n("./app/components/loadingIndicator.tsx"),f=n("./app/components/onboarding/documentationWrapper.tsx"),Z=n("./app/components/onboarding/footer.tsx"),x=n("./app/components/sentryDocumentTitle.tsx"),y=n("./app/data/platformCategories.tsx"),w=n("./app/data/platforms.tsx"),v=n("./app/icons/index.tsx"),b=n("./app/locale.tsx"),j=n("./app/styles/space.tsx"),z=n("./app/utils/useApi.tsx"),k=n("./app/utils/useOrganization.tsx"),I=n("./app/utils/useProjects.tsx"),_=n("./app/utils/withDomainRequired.tsx"),D=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(t){let{location:e,params:n,route:i,router:o}=t;const r=(0,z.Z)(),a=(0,k.Z)(),[j,S]=(0,s.useState)(!0),[$,T]=(0,s.useState)(!1),[F,X]=(0,s.useState)(""),{projects:N,initiallyLoaded:E}=(0,I.Z)({slugs:[n.projectId],orgId:a.slug}),L=!E,A=N.filter((t=>t.slug===n.projectId))[0],q=(0,s.useCallback)((async()=>{S(!0);try{const{html:t}=await(0,l.iC)(r,a.slug,n.projectId,n.platform);X(t)}catch(t){T(t)}S(!1)}),[r,a.slug,n]),M=(0,s.useCallback)((()=>{const t=`/organizations/${a.slug}/projects/${n.projectId}/getting-started/`;o.push((0,_.D)(t))}),[a.slug,n.projectId,o]);(0,s.useEffect)((()=>{q(),window.scrollTo(0,0),n.platform&&"other"!==n.platform||M()}),[q,M,n.platform]);const O=w.Z.find((t=>t.id===n.platform));if(!O)return(0,D.tZ)(g.Z,{});const W=`/organizations/${a.slug}/issues/`,H=`/organizations/${a.slug}/performance/`,V=`/organizations/${a.slug}/projects/${n.projectId}/getting-started/`,K=O.link??void 0,R=y.Sv.includes(O.id),Y=!!a?.features.includes("onboarding-heartbeat-footer"),J=window.location.href.indexOf("getting-started")>0;return(0,D.BX)(s.Fragment,{children:[(0,D.BX)(C,{children:[(0,D.tZ)("h2",{children:(0,b.t)("Configure %(platform)s",{platform:O.name})}),(0,D.BX)(m.ZP,{gap:1,children:[(0,D.tZ)(c.zx,{icon:(0,D.tZ)(v.g6,{direction:"left",size:"sm"}),size:"sm",to:V,children:(0,b.t)("Back")}),(0,D.tZ)(c.zx,{size:"sm",href:K,external:!0,children:(0,b.t)("Full Documentation")})]})]}),(0,D.BX)("div",{children:[(0,D.tZ)(p.bZ,{type:"info",showIcon:!0,children:(0,b._N)("\n           This is a quick getting started guide. For in-depth instructions\n           on integrating Sentry with [platform], view\n           [docLink:our complete documentation].",{platform:O.name,docLink:(0,D.tZ)("a",{href:K})})}),j?(0,D.tZ)(h.Z,{}):$?(0,D.tZ)(u.Z,{onRetry:q}):(0,D.BX)(s.Fragment,{children:[(0,D.tZ)(x.Z,{title:`${(0,b.t)("Configure")} ${O.name}`,projectSlug:n.projectId}),(0,D.tZ)(f.l,{dangerouslySetInnerHTML:{__html:F}})]}),J&&R&&(0,D.tZ)(d.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project",children:t=>{let{hasFeature:e}=t;return e?null:(0,D.tZ)(P,{type:"info",showIcon:!0,children:(0,b.t)("Your selected platform supports performance, but your organization does not have performance enabled.")})}}),J&&Y?(0,D.tZ)(Z.$,{projectSlug:n.projectId,projectId:A?.id,route:i,router:o,location:e}):(0,D.BX)(B,{gap:1,children:[(0,D.tZ)(c.zx,{priority:"primary",busy:L,to:{pathname:W,query:A?.id,hash:"#welcome"},children:(0,b.t)("Take me to Issues")}),(0,D.tZ)(c.zx,{busy:L,to:{pathname:H,query:A?.id},children:(0,b.t)("Take me to Performance")})]})]})]})}S.displayName="ProjectInstallPlatform";const B=(0,a.Z)(m.ZP,{target:"e1f5kh8r2"})("margin-top:",(0,j.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,j.D)(1),";grid-auto-flow:row;}"),C=(0,a.Z)("div",{target:"e1f5kh8r1"})("display:flex;justify-content:space-between;margin-bottom:",(0,j.D)(3),";h2{margin:0;}@media (max-width: ",(t=>t.theme.breakpoints.small),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,j.D)(2),";}}"),P=(0,a.Z)(p.bZ,{target:"e1f5kh8r0"})("margin-top:",(0,j.D)(2),";");var $=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),T=n("../node_modules/react-router/es/index.js"),F=n("./app/components/asyncComponent.tsx"),X=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),N=n("./app/utils/withOrganization.tsx"),E=n("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),L=n("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),A=n("./app/views/settings/organizationIntegrations/addIntegrationButton.tsx"),q=n("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),M=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),O=n("./app/styles/pulsingIndicator.tsx"),W=n("./app/utils/eventWaiter.tsx"),H=n("./app/utils/testableTransition.tsx");const V=t=>{let{children:e,...n}=t;return(0,D.tZ)(W.Z,{...n,children:t=>{let{firstIssue:i}=t;return e({indicator:(0,D.tZ)(K,{firstIssue:i,...n}),firstEventButton:(0,D.tZ)(c.zx,{title:(0,b.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!i},disabled:!i,priority:"primary",onClick:()=>(0,X.Z)("growth.onboarding_take_to_error",{organization:n.organization}),to:`/organizations/${n.organization.slug}/issues/${i&&!0!==i&&"id"in i?`${i.id}/`:""}?referrer=onboarding-first-event-indicator`,children:(0,b.t)("Take me to my error")})})}})};V.displayName="FirstEventIndicator";const K=t=>{let{firstIssue:e}=t;return(0,D.tZ)(R,{children:(0,D.tZ)(q.M,{children:e?(0,D.tZ)(U,{},"received"):(0,D.tZ)(J,{},"waiting")})})};K.displayName="Indicator";const R=(0,a.Z)("div",{target:"e10tfv734"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),Y=(0,a.Z)(M.E.div,{target:"e10tfv733"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,j.D)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");Y.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,H.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}};const J=t=>(0,D.BX)(Y,{...t,children:[(0,D.tZ)(Q,{children:(0,b.t)("Waiting to receive first event to continue")}),(0,D.tZ)(tt,{})]});J.displayName="Waiting";const U=t=>(0,D.BX)(Y,{...t,children:[(0,D.tZ)(Q,{children:(0,b.t)("Event was received!")}),(0,D.tZ)(et,{})]});U.displayName="Success";const G={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},Q=(0,a.Z)(M.E.div,{target:"e10tfv732"})("");Q.defaultProps={variants:G,transition:(0,H.Z)()};const tt=(0,a.Z)(M.E.div,{target:"e10tfv731"})("margin:0 6px;",O.Z,";");tt.defaultProps={variants:G,transition:(0,H.Z)()};const et=(0,a.Z)(v.DL,{target:"e10tfv730"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,j.D)(.25),";");et.defaultProps={size:"sm"};const nt=V;var it=n("./app/views/onboarding/createSampleEventButton.tsx");function ot(t){let{organization:e,project:n,docsLink:i,docsOnClick:o}=t;return(0,D.BX)(s.Fragment,{children:[(0,D.tZ)(nt,{organization:e,project:n,eventType:"error",children:t=>{let{indicator:e,firstEventButton:n}=t;return(0,D.BX)(rt,{children:[(0,D.BX)(st,{gap:2,children:[n,(0,D.tZ)(c.zx,{external:!0,href:i,onClick:o,children:(0,b.t)("View full documentation")})]}),e]})}}),(0,D.tZ)(at,{children:(0,b._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,D.tZ)(it.Z,{"aria-label":"View a sample event",project:n,source:"onboarding",priority:"link"}),skip:(0,D.tZ)(c.zx,{priority:"link",href:"/","aria-label":(0,b.t)("Finish setup later")})})})]})}ot.displayName="FirstEventFooter";const rt=(0,a.Z)("div",{target:"eehhgoe2"})("display:flex;justify-content:space-between;margin:",(0,j.D)(2)," 0;margin-top:",(0,j.D)(4),";"),at=(0,a.Z)("p",{target:"eehhgoe1"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),st=(0,a.Z)(m.ZP,{target:"eehhgoe0"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"});function lt(t){let{gettingStartedLink:e,docsLink:n}=t;return(0,D.BX)(m.ZP,{gap:1,children:[(0,D.tZ)(c.zx,{size:"sm",icon:(0,D.tZ)(v.g6,{size:"xs",direction:"left"}),to:e,children:(0,b.t)("Back")}),(0,D.tZ)(c.zx,{size:"sm",href:n,external:!0,children:(0,b.t)("Full Documentation")})]})}lt.displayName="PlatformHeaderButtonBar";class dt extends F.Z{constructor(){super(...arguments),(0,$.Z)(this,"handleFullDocsClick",(()=>{const{organization:t}=this.props;(0,X.Z)("growth.onboarding_view_full_docs",{organization:t})})),(0,$.Z)(this,"handleAddIntegration",(()=>{this.setState({installed:!0})})),(0,$.Z)(this,"trackSwitchToManual",(()=>{const{organization:t,integrationSlug:e}=this.props;(0,r.Db)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:e,view:"project_creation",organization:t})}))}getDefaultState(){return{...super.getDefaultState(),installed:!1,integrations:{providers:[]},project:null}}componentDidMount(){window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get provider(){const{providers:t}=this.state.integrations;return t.length?t[0]:null}getEndpoints(){const{organization:t,integrationSlug:e,params:n}=this.props;return e?[["integrations",`/organizations/${t.slug}/config/integrations/?provider_key=${e}`],["project",`/projects/${t.slug}/${n.projectId}/`]]:[]}redirectToNeutralDocs(){const{organization:t}=this.props,{projectId:e}=this.props.params,n=`/organizations/${t.slug}/projects/${e}/getting-started/`;T.browserHistory.push((0,_.D)(n))}render(){const{organization:t,params:e}=this.props,{installed:n,project:i}=this.state,{projectId:o,platform:r}=e,a=this.provider,l=w.Z.find((t=>t.id===r));if(!a||!l||!i)return null;const d=`/organizations/${t.slug}/projects/${o}/getting-started/`,p="https://docs.sentry.io/product/integrations/cloud-monitoring/aws-lambda/";return(0,D.tZ)(mt,{children:(0,D.BX)(ct,{children:[(0,D.tZ)(ut,{children:(0,b.t)("Automatically instrument %s",l.name)}),(0,D.tZ)(gt,{children:(0,D.tZ)(lt,{gettingStartedLink:d,docsLink:p})}),n?(0,D.BX)(s.Fragment,{children:[(0,D.tZ)(L.Z,{provider:a}),(0,D.tZ)(ot,{project:i,organization:t,docsLink:p,docsOnClick:this.handleFullDocsClick})]}):(0,D.BX)(s.Fragment,{children:[(0,D.tZ)(E.Z,{}),(0,D.BX)(pt,{gap:1,children:[(0,D.tZ)(A.w,{provider:a,onAddIntegration:this.handleAddIntegration,organization:t,priority:"primary",size:"sm",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id},"aria-label":(0,b.t)("Add integration")}),(0,D.tZ)(c.zx,{size:"sm",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual,children:(0,b.t)("Manual Setup")})]})]})]})})}}dt.displayName="PlatformIntegrationSetup";const pt=(0,a.Z)(m.ZP,{target:"e1o04xl64"})("margin-top:",(0,j.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,j.D)(1),";grid-auto-flow:row;}"),ct=(0,a.Z)("div",{target:"e1o04xl63"})({name:"1ki15kq",styles:"max-width:850px"}),mt=(0,a.Z)("div",{target:"e1o04xl62"})({name:"10ebfcx",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px"}),gt=(0,a.Z)("div",{target:"e1o04xl61"})("width:min-content;margin-bottom:",(0,j.D)(3),";"),ut=(0,a.Z)("h2",{target:"e1o04xl60"})("margin:0;margin-bottom:",(0,j.D)(2),";"),ht=(0,N.Z)(dt),ft=t=>{const e=i.parse(window.location.search),{platform:n}=t.params,a=n&&r.C$[n];return a&&"1"!==e.manual?(0,D.tZ)(ht,{integrationSlug:a,...t}):(0,D.tZ)(o.P,{children:(0,D.tZ)(S,{...t})})};ft.displayName="PlatformOrIntegration";const Zt=ft}}]);
//# sourceMappingURL=../sourcemaps/app_views_projectInstall_platformOrIntegration_tsx.ae70e37ba9466f00db70268d77097b1e.js.map