"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_components_dataZoomInside_tsx-app_components_charts_components_toolBox_-e7e825"],{"./app/components/charts/components/dataZoomInside.tsx":(t,e,s)=>{s.d(e,{Z:()=>i}),s("../node_modules/echarts/lib/component/dataZoomInside.js");const r={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function i(t){return t&&Array.isArray(t)?t:[{...r,...t}]}},"./app/components/charts/components/toolBox.tsx":(t,e,s)=>{function r(){let{dataZoom:t,...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...t}}:{},...e}}function i(t,e){return{right:0,top:0,itemSize:16,z:-1,feature:r(e),...t}}s.d(e,{Z:()=>i})},"./app/components/charts/transparentLoadingMask.tsx":(t,e,s)=>{s.d(e,{Z:()=>n});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/loadingMask.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=(0,r.Z)((t=>{let{className:e,visible:s,children:r,...n}=t;const o=s?{...n,"data-test-id":"loading-placeholder"}:n;return(0,a.tZ)(i.Z,{className:e,...o,children:r})}),{target:"e1t3xibm0"})((t=>!t.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/utils/discover/discoverQuery.tsx":(t,e,s)=>{s.d(e,{Z:()=>l,_:()=>o});var r=s("./app/utils/discover/genericDiscoverQuery.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(t,e){return t.transactionName!==e.transactionName||t.transactionThreshold!==e.transactionThreshold||t.transactionThresholdMetric!==e.transactionThresholdMetric}function n(t){return(0,i.tZ)(r.ZP,{route:"events",shouldRefetchData:a,afterFetch:(t,e)=>{const{fields:s,...r}=t.meta??{};return{...t,meta:{...s,...r}}},...t})}function o(t){return(0,r.JC)({route:"events",shouldRefetchData:a,afterFetch:(t,e)=>{const{fields:s,...r}=t.meta??{};return{...t,meta:{...s,...r}}},...t})}n.displayName="DiscoverQuery";const l=n},"./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx":(t,e,s)=>{s.d(e,{Z:()=>c});var r=s("../node_modules/lodash/pick.js"),i=s.n(r),a=s("./app/utils/discover/genericDiscoverQuery.tsx"),n=s("./app/utils/performance/constants.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(t){const{eventView:e,vitals:s}=t,r=e?.getEventsAPIPayload(t.location);return{vital:s,...i()(r,["query",...Object.values(n.s)])}}function d(t){return(0,o.tZ)(a.ZP,{getRequestPayload:l,route:"events-vitals",...t,children:e=>{let{tableData:s,...r}=e;return t.children({vitalsData:s,...r})}})}d.displayName="VitalsCardsDiscoverQuery";const c=d},"./app/views/performance/landing/vitalsCards.tsx":(t,e,s)=>{s.d(e,{JO:()=>F});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),a=s("../node_modules/@sentry/core/esm/exports.js"),n=s("./app/components/card.tsx"),o=s("./app/components/charts/eventsRequest.tsx"),l=s("./app/components/charts/styles.tsx"),d=s("./app/components/charts/utils.tsx"),c=s("./app/components/emptyStateWarning.tsx"),p=(s("./app/components/links/link.tsx"),s("./app/components/placeholder.tsx")),m=s("./app/components/questionTooltip.tsx"),u=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=s("../node_modules/react-sparklines/build/index.js"),v=s("../node_modules/prop-types/index.js");class g extends h.Sparklines{}(0,u.Z)(g,"propTypes",{children:v.node,data:v.array,limit:v.number,width:v.number,height:v.number,svgWidth:v.number,svgHeight:v.number,preserveAspectRatio:v.string,margin:v.number,style:v.object,min:v.number,max:v.number,onMouseMove:v.func});var x=s("./app/components/tooltip.tsx"),f=s("./app/locale.tsx"),y=s("./app/styles/space.tsx"),Z=s("./app/utils.tsx"),b=s("./app/utils/dates.tsx"),w=s("./app/utils/discover/discoverQuery.tsx"),j=s("./app/utils/discover/fields.tsx"),D=s("./app/utils/fields/index.ts"),S=(s("./app/utils/performance/vitals/constants.tsx"),s("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),s("./app/utils/queryString.tsx"),s("./app/utils/theme.tsx")),_=s("./app/utils/toArray.tsx"),k=s("./app/utils/useApi.tsx"),N=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const P=t=>(0,N.tZ)(z,{barHeight:t.barHeight,fractions:t.colorStops.map((t=>{let{percent:e}=t;return e})),children:t.colorStops.map((t=>{const e=(0,N.tZ)(A,{color:t.color},t.color);return t.renderBarStatus?.(e,t.color)??e}))});P.displayName="ColorBar";const z=(0,r.Z)("div",{target:"e19cfvm31"})("height:",(t=>t.barHeight?`${t.barHeight}px`:"16px"),";width:100%;overflow:hidden;position:relative;background:",(t=>t.theme.gray100),";display:grid;grid-template-columns:",(t=>t.fractions.map((t=>`${t}fr`)).join(" ")),";margin-bottom:",(t=>t.barHeight?"":(0,y.D)(1)),";border-radius:2px;"),A=(0,r.Z)("div",{target:"e19cfvm30"})("background-color:",(t=>t.theme[t.color]??t.color),";"),C=P;var T=s("./app/views/performance/vitalDetail/utils.tsx"),H=s("./app/utils/formatters.tsx");function M(t,e){const s=Array.isArray(t)||t===D.Zl.CLS?"":"ms";switch(e){case T.SP.POOR:return Array.isArray(t)?(0,f.t)("Poor"):(0,f._N)("(>[threshold][unit])",{threshold:T.eE[t],unit:s});case T.SP.MEH:return Array.isArray(t)?(0,f.t)("Meh"):(0,f._N)("(>[threshold][unit])",{threshold:T.MN[t],unit:s});case T.SP.GOOD:return Array.isArray(t)?(0,f.t)("Good"):(0,f._N)("(<=[threshold][unit])",{threshold:T.MN[t],unit:s});default:return null}}function V(t){return(0,N.tZ)(B,{children:t.percents.map((e=>(0,N.BX)(O,{"data-test-id":"vital-status",children:[T.Np[e.vitalState],t.showVitalPercentNames&&e.vitalState," ",(0,H.rl)(e.percent,0),t.showVitalThresholds&&M(t.vital,e.vitalState)]},e.vitalState)))})}V.displayName="VitalPercents";const B=(0,r.Z)("div",{target:"ezsdbhk1"})("display:inline-grid;grid-auto-flow:column;gap:",(0,y.D)(2),";"),O=(0,r.Z)("div",{target:"ezsdbhk0"})("display:flex;align-items:center;gap:",(0,y.D)(.5),";font-size:",(t=>t.theme.fontSizeMedium),";");var I=s("./app/views/performance/landing/utils.tsx");function q(t){const e=(0,k.Z)(),{eventView:s,location:r,organization:i,functions:n}=t,{query:l}=r,c=s.withColumns(n),p=c.getPageFilters(),m=p.datetime.start?(0,b.hC)(p.datetime.start):void 0,u=p.datetime.end?(0,b.hC)(p.datetime.end):void 0,h="string"==typeof l.sparkInterval?l.sparkInterval:(0,d.ZS)({start:m||null,end:u||null,period:p.datetime.period},"low"),v=c.getEventsAPIPayload(r);return(0,N.tZ)(w.Z,{location:r,eventView:c,orgSlug:i.slug,limit:1,referrer:"api.performance.vitals-cards",children:t=>{let{isLoading:s,tableData:r}=t;return(0,N.tZ)(o.Z,{api:e,organization:i,period:p.datetime.period,project:p.projects,environment:p.environments,team:v.team,start:m,end:u,interval:h,query:v.query,includePrevious:!1,yAxis:c.getFields(),partial:!0,children:t=>{let{results:e}=t;const o=e?.reduce(((t,e)=>(t[e.seriesName]=e.data.map((t=>t.value)),t)),{}),l=(0,I.hv)(i);return(0,N.tZ)(Q,{children:n.map((t=>{let e=(0,j.sN)(t);e.includes("apdex")&&(e="apdex()");const i=l[e];if(!i)return a.uT(`Missing field '${e}' in vital cards.`),null;const{title:n,tooltip:d,formatter:c}=i,p=(0,j.LY)(e),m=r?.data?.[0]?.[p],u=o?.[e],h=s||!(0,Z.ri)(m)?"—":c(m),v=(0,N.tZ)(L,{data:u});return(0,N.tZ)(X,{title:n,tooltip:d,value:h,chart:v,horizontal:!0,minHeight:96,isNotInteractive:!0},e)}))})}})}})}function L(t){const{data:e}=t,s=S.ZP.charts.getColorPalette(1)[0];return(0,N.tZ)(E,{"data-test-id":"sparkline",width:150,height:24,children:(0,N.tZ)(g,{data:e,width:150,height:24,children:(0,N.tZ)(h.SparklinesLine,{style:{stroke:s,fill:"none",strokeWidth:3}})})})}(0,y.D)(1.5),q.displayName="GenericCards",L.displayName="SparklineChart";const E=(0,r.Z)("div",{target:"e3mv3gn8"})("flex-grow:4;max-height:",(t=>t.height),"px;max-width:",(t=>t.width),"px;margin:",(0,y.D)(1)," ",(0,y.D)(0)," ",(0,y.D)(.5)," ",(0,y.D)(3),";"),Q=(0,r.Z)("div",{target:"e3mv3gn7"})("display:grid;grid-template-columns:1fr;grid-column-gap:",(0,y.D)(2),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-template-columns:repeat(2, 1fr);}@media (min-width: ",(t=>t.theme.breakpoints.large),"){grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));}");function F(t){const{isLoading:e,data:s,vital:r,value:a,showBar:n=!0,showStates:o=!1,showDurationDetail:l=!1,showVitalPercentNames:d=!0,showVitalThresholds:c=!1,showDetail:m=!0,showTooltip:u=!1,barHeight:h}=t;if(e)return o?(0,N.tZ)(p.Z,{height:"48px"}):null;const v=o?(0,N.tZ)(R,{small:!0,children:(0,f.t)("No vitals found")}):null;if(!s)return v;const g={poor:0,meh:0,good:0,total:0};if((0,_.Z)(r).forEach((t=>{const e=s?.[t]??{};Object.keys(g).forEach((t=>g[t]+=e[t]))})),!g.total)return v;const x=Array.isArray(r)?null:a??function(t,e){const s=t?.p75??null;return null===s?"—":e===D.Zl.CLS?s.toFixed(2):`${s.toFixed(0)}ms`}(s?.[r]??null,r),y=function(t){let{poor:e,meh:s,good:r,total:i}=t;const a=e/i,n=s/i,o=r/i;return[{vitalState:T.SP.GOOD,percent:o},{vitalState:T.SP.MEH,percent:n},{vitalState:T.SP.POOR,percent:a}]}(g),Z=function(t){return t.map((t=>{let{percent:e,vitalState:s}=t;return{percent:e,color:T.fL[s]}}))}(y);return(0,N.BX)(i.Fragment,{children:[n&&(0,N.tZ)(W,{title:(0,N.tZ)(V,{vital:r,percents:y,showVitalPercentNames:!1,showVitalThresholds:!1,hideTooltips:u}),disabled:!u,position:"bottom",children:(0,N.tZ)(C,{barHeight:h,colorStops:Z})}),m&&(0,N.BX)(J,{children:[l&&x&&(0,N.BX)("div",{children:[(0,f.t)("The p75 for all transactions is "),(0,N.tZ)("strong",{children:x})]}),(0,N.tZ)(V,{vital:r,percents:y,showVitalPercentNames:d,showVitalThresholds:c})]})]})}F.displayName="VitalBar";const R=(0,r.Z)(c.Z,{target:"e3mv3gn6"})("height:48px;padding:",(0,y.D)(1.5)," 15%;");function X(t){const{chart:e,minHeight:s,horizontal:r,title:i,tooltip:a,value:n,isNotInteractive:o}=t;return(0,N.BX)($,{interactive:!o,minHeight:s,children:[(0,N.BX)(l.Gh,{children:[(0,N.tZ)(K,{children:i}),(0,N.tZ)(m.Z,{size:"sm",position:"top",title:a})]}),(0,N.BX)(G,{horizontal:r,children:[(0,N.tZ)(Y,{children:n}),e]})]})}X.displayName="VitalCard";const G=(0,r.Z)("div",{target:"e3mv3gn5"})("width:100%;display:flex;flex-direction:",(t=>t.horizontal?"row":"column"),";justify-content:space-between;"),$=(0,r.Z)(n.Z,{target:"e3mv3gn4"})("color:",(t=>t.theme.textColor),";padding:",(0,y.D)(2)," ",(0,y.D)(3),";align-items:flex-start;margin-bottom:",(0,y.D)(2),";",(t=>t.minHeight&&`min-height: ${t.minHeight}px`),";"),W=(0,r.Z)(x.u,{target:"e3mv3gn3"})({name:"1d3w5wq",styles:"width:100%"});const J=(0,r.Z)("div",{target:"e3mv3gn2"})("font-size:",(t=>t.theme.fontSizeMedium),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){display:flex;justify-content:space-between;}"),Y=(0,r.Z)("div",{target:"e3mv3gn1"})("font-size:32px;margin-top:",(0,y.D)(1),";"),K=(0,r.Z)("div",{target:"e3mv3gn0"})((t=>t.theme.overflowEllipsis),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_components_dataZoomInside_tsx-app_components_charts_components_toolBox_-e7e825.68e92c9639d899ede98b5a870fbff721.js.map