"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_dashboards_dashboard_tsx"],{"./app/actionCreators/dashboards.tsx":(e,t,s)=>{s.d(t,{AK:()=>p,JR:()=>u,QL:()=>h,Y:()=>m,a_:()=>c,iM:()=>g,j2:()=>l});var r=s("../node_modules/lodash/omit.js"),i=s.n(r),o=s("./app/actionCreators/indicator.tsx"),a=s("./app/constants/pageFilters.tsx"),n=s("./app/locale.tsx"),d=s("./app/views/dashboards/utils.tsx");function l(e,t){const s=e.requestPromise(`/organizations/${t}/dashboards/`,{method:"GET",query:{sort:"myDashboardsAndRecentlyViewed"}});return s.catch((e=>{const t=e?.responseJSON??null;if(t){const e=(0,d.Tk)(t,{});(0,o.Iw)(e[Object.keys(e)[0]])}else(0,o.Iw)((0,n.t)("Unable to fetch dashboards"))})),s}function u(e,t,s,r){const{title:a,widgets:l,projects:u,environment:c,period:p,start:m,end:g,filters:h,utc:b}=s,y=e.requestPromise(`/organizations/${t}/dashboards/`,{method:"POST",data:{title:a,widgets:l.map((e=>i()(e,["tempId"]))),duplicate:r,projects:u,environment:c,period:p,start:m,end:g,filters:h,utc:b},query:{project:u}});return y.catch((e=>{const t=e?.responseJSON??null;if(t){const e=(0,d.Tk)(t,{});(0,o.Iw)(e[Object.keys(e)[0]])}else(0,o.Iw)((0,n.t)("Unable to create dashboard"))})),y}function c(e,t,s){return e.requestPromise(`/organizations/${t}/dashboards/${s}/visit/`,{method:"POST"})}function p(e,t,s){const r=e.requestPromise(`/organizations/${t}/dashboards/${s}/`,{method:"GET"});return r.catch((e=>{const t=e?.responseJSON??null;if(t){const e=(0,d.Tk)(t,{});(0,o.Iw)(e[Object.keys(e)[0]])}else(0,o.Iw)((0,n.t)("Unable to load dashboard"))})),r}function m(e,t,s){const{title:r,widgets:a,projects:l,environment:u,period:c,start:p,end:m,filters:g,utc:h}=s,b={title:r,widgets:a.map((e=>i()(e,["tempId"]))),projects:l,environment:u,period:c,start:p,end:m,filters:g,utc:h},y=e.requestPromise(`/organizations/${t}/dashboards/${s.id}/`,{method:"PUT",data:b,query:{project:l}});return y.catch((e=>{const t=e?.responseJSON??null;if(t){const e=(0,d.Tk)(t,{});(0,o.Iw)(e[Object.keys(e)[0]])}else(0,o.Iw)((0,n.t)("Unable to update dashboard"))})),y}function g(e,t,s){const r=e.requestPromise(`/organizations/${t}/dashboards/${s}/`,{method:"DELETE"});return r.catch((e=>{const t=e?.responseJSON??null;if(t){const e=(0,d.Tk)(t,{});(0,o.Iw)(e[Object.keys(e)[0]])}else(0,o.Iw)((0,n.t)("Unable to delete dashboard"))})),r}function h(e,t,s){return e.requestPromise(`/organizations/${t}/dashboards/widgets/`,{method:"POST",data:s,query:{project:[a.mP]}})}},"./app/actionCreators/events.tsx":(e,t,s)=>{if(s.d(t,{A5:()=>x,JE:()=>b,MD:()=>f,eV:()=>h,lI:()=>g}),"app"==s.j)var r=s("../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs");var i=s("../node_modules/lodash/pick.js"),o=s.n(i),a=s("./app/actionCreators/indicator.tsx"),n=s("./app/components/charts/utils.tsx"),d=s("./app/locale.tsx"),l=s("./app/utils/getPeriod.tsx"),u=s("./app/utils/performance/constants.tsx"),c=s("./app/utils/queryClient.tsx"),p=s("./app/utils/useApi.tsx"),m=s("./app/utils/useOrganization.tsx");const g=(e,t)=>{let{organization:s,project:r,environment:i,team:o,period:a,start:d,end:u,interval:c,comparisonDelta:p,includePrevious:m,query:g,yAxis:h,field:b,topEvents:y,orderby:f,partial:x,withoutZerofill:v,referrer:w,queryBatching:Z,generatePathname:S,queryExtras:E,excludeOther:j,includeAllArgs:_}=t;const C=S?.(s)??`/organizations/${s.slug}/events-stats/`,D=(0,n.Sw)(m,a),O={includeAllArgs:_,query:{...Object.fromEntries(Object.entries({interval:c,comparisonDelta:p,project:r,environment:i,team:o,query:g,yAxis:h,field:b,topEvents:y,orderby:f,partial:x?"1":void 0,withoutZerofill:v?"1":void 0,referrer:w||"api.organization-event-stats",excludeOther:j?"1":void 0}).filter((e=>{let[,t]=e;return void 0!==t}))),...(0,l.X)({period:a,start:d,end:u},{shouldDoublePeriod:D}),...E}};return Z?.batchRequest?Z.batchRequest(e,C,O):e.requestPromise(C,O)};function h(e,t,s){const r={...o()(s,Object.values(u.s)),query:s.query};return e.requestPromise(`/organizations/${t}/events-facets/`,{query:r})}function b(e,t,s){const r={...o()(s,Object.values(u.s)),query:s.query};return e.requestPromise(`/organizations/${t}/events-meta/`,{query:r}).then((e=>e.count))}const y=e=>{let{orgSlug:t,projectSlug:s,eventId:r}=e;return[`/projects/${t}/${s}/events/${r}/attachments/`]},f=function(e){let{orgSlug:t,projectSlug:s,eventId:r}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(0,m.Z)();return(0,c.aM)([`/projects/${t}/${s}/events/${r}/attachments/`],{staleTime:1/0,...i,enabled:(o.features?.includes("event-attachments")??!1)&&!1!==i.enabled})},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,p.Z)({persistInFlight:!0}),s=(0,r.NL)(),i={...e,mutationFn:e=>{let{orgSlug:s,projectSlug:r,eventId:i,attachmentId:o}=e;return t.requestPromise(`/projects/${s}/${r}/events/${i}/attachments/${o}/`,{method:"DELETE"})},onMutate:async t=>{await s.cancelQueries(y(t));const r=s.getQueryData(y(t));return s.setQueryData(y(t),(e=>Array.isArray(e)?e.filter((e=>e?.id!==t.attachmentId)):e)),e.onMutate?.(t),{previous:r}},onError:(t,r,i)=>{(0,a.Iw)((0,d.t)("An error occurred while deleting the attachment")),i&&s.setQueryData(y(r),i.previous),e.onError?.(t,r,i)}};return(0,c.Db)(i)}},"./app/actionCreators/sessions.tsx":(e,t,s)=>{s.d(t,{K:()=>a});var r=s("./app/components/charts/utils.tsx"),i=s("./app/components/organizations/pageFilters/parse.tsx"),o=s("./app/utils.tsx");const a=(e,t)=>{let{field:s,orgSlug:a,cursor:n,environment:d,groupBy:l,interval:u,project:c,orderBy:p,query:m,includeAllArgs:g=!1,includeSeries:h,includeTotals:b,statsPeriodStart:y,statsPeriodEnd:f,limit:x,...v}=t;const{start:w,end:Z,statsPeriod:S}=(0,i.fK)(v,{allowEmptyPeriod:!0}),E=Object.fromEntries(Object.entries({field:s.filter((e=>!!e)),cursor:n,end:Z,environment:d,groupBy:l?.filter((e=>!!e)),interval:u||(0,r.ZS)({start:w,end:Z,period:S}),orderBy:p,per_page:x,query:m||void 0,project:c,start:w,statsPeriod:S,statsPeriodStart:y,statsPeriodEnd:f,includeSeries:!1===h?"0":"1",includeTotals:!1===b?"0":"1"}).filter((e=>{let[,t]=e;return(0,o.ri)(t)&&""!==t})));return e.requestPromise(`/organizations/${a}/sessions/`,{includeAllArgs:g,query:E})}},"./app/components/charts/chartZoom.tsx":(e,t,s)=>{s.d(t,{Z:()=>y});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("../node_modules/moment/moment.js"),a=s.n(o),n=s("../node_modules/query-string/index.js"),d=s("./app/actionCreators/pageFilters.tsx"),l=s("./app/components/charts/components/dataZoomInside.tsx");s("../node_modules/echarts/lib/component/dataZoomSlider.js");const u={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function c(e){return e&&Array.isArray(e)?e:[{...u,...e}]}var p=s("./app/components/charts/components/toolBox.tsx"),m=s("./app/utils/callIfFunction.tsx"),g=s("./app/utils/dates.tsx");const h=e=>e?a().utc(e).format(a().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class b extends i.Component{constructor(e){var t;super(e),t=this,(0,r.Z)(this,"history",void 0),(0,r.Z)(this,"currentPeriod",void 0),(0,r.Z)(this,"zooming",null),(0,r.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:h(e.start),end:h(e.end)}})),(0,r.Z)(this,"setPeriod",(function(e){let{period:s,start:r,end:i}=e,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:a,onZoom:l,usePageDate:u}=t.props,c=h(r),p=h(i);o&&t.history.push(t.currentPeriod),l?.({period:s,start:c,end:p}),t.zooming=()=>{if(u&&a){const e={...a.location.query,pageStart:r?(0,g.v5)(r):void 0,pageEnd:i?(0,g.v5)(i):void 0,pageStatsPeriod:s??void 0};n.stringify(e)!==n.stringify(a.location.query)&&a.push({pathname:a.location.pathname,query:e})}else(0,d.dR)({period:s,start:c?(0,g.hC)(c):c,end:p?(0,g.hC)(p):p},a);t.saveCurrentPeriod({period:s,start:r,end:i})}})),(0,r.Z)(this,"handleChartReady",(e=>{this.props.onChartReady?.(e)})),(0,r.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],this.props.onRestore?.(e,t))})),(0,r.Z)(this,"handleDataZoom",((e,t)=>{const s=t.getModel(),{startValue:r,endValue:i}=s._payload.batch[0];if(null===r&&null===i){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=a().utc(r),t=a().utc(i);this.setPeriod({period:null,start:e,end:t},!0)}this.props.onDataZoom?.(e,t)})),(0,r.Z)(this,"handleChartFinished",((e,t)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const s=t._componentsViews?.find((e=>e._features&&e._features.dataZoom));s&&!s._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,m.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:s,disabled:r,children:i,xAxisIndex:o,router:a,onZoom:n,onRestore:d,onChartReady:u,onDataZoom:m,onFinished:h,showSlider:b,chartZoomOptions:y,...f}=this.props,x=e??void 0,v=t?(0,g.hC)(t):void 0,w=s?(0,g.hC)(s):void 0;return i(r?{utc:x,start:v,end:w,...f}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:x,start:v,end:w,dataZoom:b?[...c({xAxisIndex:o,...y}),...(0,l.Z)({xAxisIndex:o,...y})]:(0,l.Z)({xAxisIndex:o,...y}),showTimeInTooltip:!0,toolBox:(0,p.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...f})}}b.displayName="ChartZoom";const y=b},"./app/components/charts/components/dataZoomInside.tsx":(e,t,s)=>{s.d(t,{Z:()=>i}),s("../node_modules/echarts/lib/component/dataZoomInside.js");const r={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function i(e){return e&&Array.isArray(e)?e:[{...r,...e}]}},"./app/components/charts/components/toolBox.tsx":(e,t,s)=>{function r(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function i(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:r(t),...e}}s.d(t,{Z:()=>i})},"./app/components/charts/components/visualMap.tsx":(e,t,s)=>{function r(e){return e}s.d(t,{Z:()=>r}),s("../node_modules/echarts/lib/component/visualMap.js")},"./app/components/charts/errorPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1t1x7f30"})("display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(e=>e.height||"200px"),";position:relative;border-color:transparent;margin-bottom:0;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraLarge),";")},"./app/components/charts/lineChart.tsx":(e,t,s)=>{s.d(t,{w:()=>a});var r=s("./app/components/charts/series/lineSeries.tsx"),i=s("./app/components/charts/baseChart.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{series:t,seriesOptions:s,...a}=e;return(0,o.tZ)(i.Z,{...a,series:t.map((e=>{let{seriesName:t,data:i,dataArray:o,...a}=e;return(0,r.Z)({...s,...a,name:t,data:o||i?.map((e=>{let{value:t,name:s}=e;return[s,t]})),animation:!1,animationThreshold:1,animationDuration:0})}))})}a.displayName="LineChart"},"./app/components/charts/loadingPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/loadingMask.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.Z)((e=>{let{height:t,...s}=e;return(0,o.tZ)("div",{...s,children:(0,o.tZ)(i.Z,{})})}),{target:"e16jayu70"})("flex:1;flex-shrink:0;overflow:hidden;height:",(e=>e.height),";position:relative;border-color:transparent;margin-bottom:0;");a.defaultProps={height:"200px"};const n=a},"./app/components/charts/simpleTableChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>v,p:()=>x});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),o=s("./app/components/panels/panelTable.tsx"),a=s("./app/components/tooltip.tsx"),n=s("./app/components/truncate.tsx"),d=s("./app/styles/space.tsx"),l=s("./app/utils/discover/fieldRenderers.tsx"),u=s("./app/utils/discover/fields.tsx"),c=s("./app/utils/withOrganization.tsx"),p=s("./app/views/discover/table/topResultsIndicator.tsx"),m=s("./app/views/discover/utils.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{className:t,loading:s,eventView:r,fields:o,metadata:n,data:d,title:c,fieldHeaderMap:h,stickyHeaders:v,getCustomFieldRenderer:w,organization:Z,topResultsIndicators:S,location:E,fieldAliases:j,loader:_}=e;const C=n??{},D=(0,m.Hg)(o.map(((e,t)=>({field:e,alias:j[t]}))));return(0,g.BX)(i.Fragment,{children:[c&&(0,g.tZ)("h4",{children:c}),(0,g.tZ)(y,{className:t,isLoading:s,loader:_,headers:D.map(((e,t)=>{const s=(0,u.qG)(e.name,e.type,C),r=e.column.alias||(h?.[e.key]??e.name);return(0,g.tZ)(f,{align:s,children:(0,g.tZ)(a.u,{title:r,children:(0,g.tZ)(b,{value:r,maxLength:30,expandable:!1})})},t)})),isEmpty:!d?.length,stickyHeaders:v,disablePadding:!0,children:d?.map(((e,t)=>function(e,t,s,i){return i.map(((i,o)=>{const a=w?.(i.key,s,Z)??(0,l.Js)(i.key,s),n=s.units?.[i.key];return(0,g.BX)(x,{children:[S&&0===o&&(0,g.tZ)(p.Z,{count:S,index:e}),a(t,{organization:Z,location:E,eventView:r,unit:n})]},`${e}-${o}:${i.name}`)}))}(t,e,C,D)))})]})}h.displayName="SimpleTableChart";const b=(0,r.Z)(n.Z,{target:"e9vexrd3"})({name:"1bmnxg7",styles:"white-space:nowrap"}),y=(0,r.Z)(o.Z,{target:"e9vexrd2"})("border-radius:0;border-left:0;border-right:0;border-bottom:0;margin:0;",o.z,"{height:min-content;}"),f=(0,r.Z)("div",{target:"e9vexrd1"})((e=>e.align?`text-align: ${e.align};`:"")," padding:",(0,d.D)(1)," ",(0,d.D)(3),";"),x=(0,r.Z)("div",{target:"e9vexrd0"})("padding:",(0,d.D)(1)," ",(0,d.D)(3),";"),v=(0,c.Z)(h)},"./app/components/charts/transitionChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),o=s("./app/components/charts/loadingPanel.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class n extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const s=t.prevReloading,r=e.reloading,i=t.prevLoading,o=e.loading;return i!==o?{prevReloading:r,prevLoading:o,key:t.key+1}:o?{prevReloading:r,prevLoading:o,key:t.key}:s&&!r?{prevReloading:r,prevLoading:o,key:t.key+1}:{prevReloading:r,prevLoading:o,key:t.key}}render(){const{height:e,loading:t,reloading:s}=this.props;return t&&!s?(0,a.tZ)(o.Z,{height:e,"data-test-id":"events-request-loading"}):(0,a.tZ)(i.Fragment,{children:this.props.children},String(this.state.key))}}n.displayName="TransitionChart",(0,r.Z)(n,"defaultProps",{height:"200px"});const d=n},"./app/components/charts/transparentLoadingMask.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/loadingMask.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.Z)((e=>{let{className:t,visible:s,children:r,...a}=e;const n=s?{...a,"data-test-id":"loading-placeholder"}:a;return(0,o.tZ)(i.Z,{className:t,...n,children:r})}),{target:"e1t3xibm0"})((e=>!e.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/charts/worldMapChart.tsx":(e,t,s)=>{s.d(t,{y:()=>c});var r=s("../node_modules/react/index.js"),i=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),o=s("../node_modules/echarts/lib/core/echarts.js"),a=s("../node_modules/lodash/max.js"),n=s.n(a),d=s("./app/components/charts/components/visualMap.tsx");s("../node_modules/echarts/lib/chart/map.js");var l=s("./app/components/charts/baseChart.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{series:t,seriesOptions:a,fromDiscover:c,fromDiscoverQueryList:p,...m}=e;const g=(0,i.u)(),[h,b]=(0,r.useState)((()=>({countryToCodeMap:null,map:null,codeToCountryMap:null})));if((0,r.useEffect)((()=>{let e=!1;return e||async function(){try{const[e,t]=await Promise.all([s.e("app_data_countryCodesMap_tsx").then(s.bind(s,"./app/data/countryCodesMap.tsx")),s.e("app_data_world_json").then(s.t.bind(s,"./app/data/world.json",19))]),r=e.default,i=t.default;o.je?.("sentryWorld",i);const a={};for(const e in i)a[r[e]]=e;b({countryToCodeMap:r,map:i,codeToCountryMap:a})}catch{}}(),()=>{e=!0}}),[]),null===h.countryToCodeMap||null===h.map)return null;const y=t.map((e=>{let{seriesName:t,data:s,...r}=e;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{map:""};return{roam:!0,...e,emphasis:{label:{show:!1},...e.emphasis},type:"map"}}({...a,...r,map:"sentryWorld",name:t,nameMap:h.countryToCodeMap??void 0,aspectScale:.85,zoom:c?1.1:p?.9:1.3,center:[10.97,p?-12:9.71],itemStyle:{areaColor:g.gray200,borderColor:g.backgroundSecondary},emphasis:{itemStyle:{areaColor:g.pink300},label:{show:!1}},data:s,silent:p,roam:!p})})),f=n()(t.map((e=>{let{data:t}=e;return n()(t.map((e=>{let{value:t}=e;return t})))})))||1;return(0,u.tZ)(l.Z,{options:{backgroundColor:p?void 0:g.background,visualMap:[(0,d.Z)({show:!p,left:c?void 0:"right",right:c?5:void 0,min:0,max:f,inRange:{color:[g.purple200,g.purple300]},text:["High","Low"],textStyle:{color:g.textColor},calculable:!1})]},...m,yAxis:null,xAxis:null,series:y,tooltip:{formatter:e=>{const{marker:t,name:s,value:r}=Array.isArray(e)?e[0]:e;if(isNaN(r))return"";const i="number"==typeof r?r.toLocaleString():"";return[`<div class="tooltip-series tooltip-series-solo">\n               <div><span class="tooltip-label">${t} <strong>${h.codeToCountryMap?.[s]||s}</strong></span> ${i}</div>\n            </div>`,'<div class="tooltip-arrow"></div>'].join("")}},height:c?400:void 0})}c.displayName="WorldMapChart"},"./app/components/loadingMask.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e9w1nku0"})("background-color:",(e=>e.theme.backgroundSecondary),";border-radius:",(e=>e.theme.borderRadius),";position:absolute;top:0;bottom:0;left:0;right:0;")},"./app/components/modals/widgetViewerModal/utils.tsx":(e,t,s)=>{let r;function i(e){return e.match(/\/widget\/[0-9]+\/$/)}s.d(t,{R:()=>r,X:()=>i}),function(e){e.SORT="sort",e.QUERY="query",e.LEGEND="legend",e.PAGE="page",e.CURSOR="cursor",e.WIDTH="width",e.START="viewerStart",e.END="viewerEnd"}(r||(r={}))},"./app/utils/customMeasurements/customMeasurementsContext.tsx":(e,t,s)=>{s.d(t,{z:()=>r});const r=(0,s("../node_modules/react/index.js").createContext)(void 0)},"./app/utils/dashboards/issueFieldRenderers.tsx":(e,t,s)=>{s.d(t,{N:()=>w,O:()=>T});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("./app/components/assigneeSelector.tsx"),a=s("./app/components/count.tsx"),n=s("./app/components/links/link.tsx"),d=s("./app/components/organizations/timeRangeSelector/utils.tsx"),l=s("./app/components/tooltip.tsx"),u=s("./app/constants/index.tsx"),c=s("./app/locale.tsx"),p=s("./app/stores/memberListStore.tsx"),m=s("./app/styles/space.tsx"),g=s("./app/utils/discover/eventView.tsx"),h=s("./app/views/dashboards/widgetBuilder/issueWidget/fields.tsx"),b=s("./app/utils/discover/styles.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const f={issue:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;const r=e["issue.id"];if(!r)return(0,y.tZ)(b.W2,{children:(0,y.tZ)(b.PV,{shortId:`${e.issue}`})});const i={pathname:`/organizations/${s.slug}/issues/${r}/`};return(0,y.tZ)(b.W2,{children:(0,y.tZ)(b.Jo,{to:i,"aria-label":r,children:(0,y.tZ)(b.PV,{shortId:`${e.issue}`})})})}},assignee:{sortField:null,renderFunc:e=>{const t=p.Z.getAll();return(0,y.tZ)(D,{children:(0,y.tZ)(o.Z,{id:e.id,memberList:t,noDropdown:!0})})}},lifetimeEvents:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"lifetimeEvents")}},lifetimeUsers:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"lifetimeUsers")}},events:{sortField:"freq",renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"events")}},users:{sortField:"user",renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"users")}},lifetimeCount:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"lifetimeEvents")}},lifetimeUserCount:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"lifetimeUsers")}},count:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"events")}},userCount:{sortField:null,renderFunc:(e,t)=>{let{organization:s}=t;return x(e,s,"users")}},links:{sortField:null,renderFunc:e=>{let{links:t}=e;return(0,y.tZ)(O,{dangerouslySetInnerHTML:{__html:t}})}}},x=(e,t,s)=>{const{start:r,end:o,period:n}=e,p=!!/user/i.exec(s.toLowerCase()),m=e[s],g=e[p?"users":"events"],h=e[p?"lifetimeUsers":"lifetimeEvents"],f=e[p?"filteredUsers":"filteredEvents"],x=v(e,t),w=v(e,t,!0),Z=r&&o?"time range":(0,d.TI)(n||u.GY).toLowerCase();return(0,y.tZ)(b.W2,{children:(0,y.tZ)(l.u,{isHoverable:!0,skipWrapper:!0,overlayStyle:{padding:0},title:(0,y.BX)("div",{children:[f?(0,y.BX)(i.Fragment,{children:[(0,y.BX)(E,{to:w,children:[(0,c.t)("Matching search filters"),(0,y.tZ)(_,{value:f})]}),(0,y.tZ)(C,{})]}):null,(0,y.BX)(E,{to:x,children:[(0,c.t)("Total in %s",Z),(0,y.tZ)(_,{value:g})]}),(0,y.tZ)(C,{}),(0,y.BX)(S,{children:[(0,c.t)("Since issue began"),(0,y.tZ)(_,{value:h})]})]}),children:(0,y.tZ)("span",{children:["events","users"].includes(s)&&f?(0,y.BX)(i.Fragment,{children:[(0,y.tZ)(a.Z,{value:f}),(0,y.tZ)(j,{value:m})]}):(0,y.tZ)(a.Z,{value:m})})})})};x.displayName="issuesCountRenderer";const v=(e,t,s)=>{const r={projects:[Number(e.projectId)]};return g.ZP.fromSavedQuery({...r,id:void 0,start:e.start,end:e.end,range:e.period,name:e.title,fields:["title","release","environment","user","timestamp"],orderby:"-timestamp",query:`issue.id:${e.id}${s?e.discoverSearchQuery:""}`,version:2}).getResultsViewUrlTarget(t.slug)};function w(e){if(f.hasOwnProperty(e))return f[e].sortField;switch(e){case h.Sh.LAST_SEEN:return"date";case h.Sh.FIRST_SEEN:return"new";default:return null}}const Z={name:"s5gdgx",styles:"width:100%;justify-content:space-between;display:flex;padding:6px 10px"},S=(0,r.Z)("div",{target:"e11k7yd46"})(Z,";"),E=(0,r.Z)(n.Z,{target:"e11k7yd45"})(Z,";color:",(e=>e.theme.gray400),";&:hover{color:",(e=>e.theme.gray400),";background:",(e=>e.theme.hover),";}"),j=(0,r.Z)(a.Z,{target:"e11k7yd44"})(":before{content:'/';padding-left:",(0,m.D)(.25),";padding-right:2px;}"),_=(0,r.Z)((e=>{let{value:t,...s}=e;return(0,y.tZ)("div",{...s,children:(0,y.tZ)(a.Z,{value:t})})}),{target:"e11k7yd43"})("text-align:right;font-weight:bold;font-variant-numeric:tabular-nums;padding-left:",(0,m.D)(2),";color:",(e=>e.theme.subText),";"),C=(0,r.Z)("div",{target:"e11k7yd42"})("height:1px;overflow:hidden;background-color:",(e=>e.theme.innerBorder),";"),D=(0,r.Z)("div",{target:"e11k7yd41"})({name:"1sl6pdq",styles:"display:flex;justify-content:left;margin-left:18px;height:24px;:hover{cursor:default;}"}),O=(0,r.Z)("span",{target:"e11k7yd40"})({name:"1bmnxg7",styles:"white-space:nowrap"});function T(e){return f.hasOwnProperty(e)?f[e].renderFunc:null}},"./app/utils/getPeriod.tsx":(e,t,s)=>{s.d(t,{X:()=>n}),s("../node_modules/core-js/modules/es.error.cause.js");var r=s("../node_modules/moment/moment.js"),i=s.n(r),o=s("./app/constants/index.tsx"),a=s("./app/utils/dates.tsx");function n(e){let{period:t,start:s,end:r}=e,{shouldDoublePeriod:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t||s||r||(t=o.GY),t){if(!n)return{statsPeriod:t};const[,e,s]=t.match(/([0-9]+)([mhdw])/);return{statsPeriod:`${2*parseInt(e,10)}${s}`}}if(!s||!r)throw new Error("start and end required");const d=(0,a.v5)(s),l=(0,a.v5)(r);if(n){const e=i()(r).diff(i()(s)),t=i()(s).subtract(e);return{start:(0,a.v5)(t),end:l}}return{start:d,end:l}}},"./app/utils/performance/contexts/metricsEnhancedSetting.tsx":(e,t,s)=>{s.d(t,{Eg:()=>f,gp:()=>b,kP:()=>y,nP:()=>p,nl:()=>m,oR:()=>g,tm:()=>h}),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/react/index.js"),i=s("../node_modules/react-router/es/index.js"),o=(s("./app/utils/localStorage.tsx"),s("./app/utils/queryString.tsx")),a=s("./app/utils/useOrganization.tsx"),n=s("./app/utils/performance/contexts/utils.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[l,u,c]=(0,n.n)({name:"MetricsEnhancedSettingContext"}),p=c.Consumer;let m,g;!function(e){e.unset="unset",e.metrics="metrics",e.transactions="transactions"}(m||(m={})),function(e){e.auto="auto",e.metricsOnly="metricsOnly",e.transactionsOnly="transactionsOnly"}(g||(g={}));const h="metricSearchSetting";function b(e){const t=function(e){return e.features.includes("performance-use-metrics")}(e),s=e.features.includes("performance-transaction-name-only-search"),r=e.features.includes("dynamic-sampling")&&e.features.includes("mep-rollout-flag");return t||s||r}const y=e=>{let{children:t,location:s,_hasMEPState:n,forceTransactions:u}=e;const c=b((0,a.Z)()),p=[g.metricsOnly,g.transactionsOnly],h=s?(0,o.ro)(s.query.metricSetting):g.metricsOnly;let y=g.metricsOnly;u&&(y=g.transactionsOnly);const f=p.find((e=>e===h))??y,x=void 0!==n,[v,w]=(0,r.useReducer)(((e,t)=>t),f),Z=(0,r.useCallback)((e=>{s&&(i.browserHistory.replace({...s,query:{...s.query,metricSetting:e}}),w(e))}),[s,w]),[S,E]=(0,r.useReducer)(((e,t)=>t),m.unset),j=x?n:v,_=c&&j===g.auto,C=c&&j===g.metricsOnly,D=c&&j===g.transactionsOnly,O=`${j}`;return(0,d.tZ)(l,{value:{autoSampleState:S,metricSettingState:j,shouldQueryProvideMEPAutoParams:_,shouldQueryProvideMEPMetricParams:C,shouldQueryProvideMEPTransactionParams:D,memoizationKey:O,setMetricSettingState:Z,setAutoSampleState:E},children:t})};y.displayName="MEPSettingProvider";const f=u},"./app/utils/useCustomMeasurements.tsx":(e,t,s)=>{s.d(t,{Z:()=>o}),s("../node_modules/core-js/modules/es.error.cause.js");var r=s("../node_modules/react/index.js"),i=s("./app/utils/customMeasurements/customMeasurementsContext.tsx");function o(){const e=(0,r.useContext)(i.z);if(!e)throw new Error("useCustomMeasurements was called outside of CustomMeasurementsProvider");return e}},"./app/views/dashboards/dashboard.tsx":(e,t,s)=>{s.d(t,{re:()=>U,ey:()=>G,ZP:()=>te});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react-grid-layout/css/styles.css"),s("../node_modules/react-resizable/css/styles.css"),s("../node_modules/react/index.js")),a=s("../node_modules/react-grid-layout/index.js"),n=s("../node_modules/react-lazyload/lib/index.js"),d=s("../node_modules/lodash/cloneDeep.js"),l=s.n(d),u=s("../node_modules/lodash/debounce.js"),c=s.n(u),p=s("../node_modules/lodash/isEqual.js"),m=s.n(p),g=s("./app/actionCreators/dashboards.tsx"),h=s("./app/actionCreators/indicator.tsx"),b=s("./app/actionCreators/members.tsx"),y=s("./app/actionCreators/tags.tsx"),f=s("./app/components/button.tsx"),x=s("./app/icons/index.tsx"),v=s("./app/locale.tsx"),w=s("./app/stores/groupStore.tsx"),Z=s("./app/styles/space.tsx"),S=s("./app/utils/theme.tsx"),E=s("./app/utils/withApi.tsx"),j=s("./app/utils/withDomainRequired.tsx"),_=s("./app/utils/withPageFilters.tsx"),C=s("../node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),D=s("./app/views/dashboards/types.tsx"),O=s("../node_modules/framer-motion/dist/es/render/dom/motion.mjs");const T=(0,i.Z)(O.E.div,{target:"ekh4oo10"})("position:relative;touch-action:manipulation;",(e=>"big_number"===e.displayType?`\n          /* 2 cols */\n          grid-area: span 1 / span 2;\n\n          @media (min-width: ${e.theme.breakpoints.small}) {\n            /* 4 cols */\n            grid-area: span 1 / span 1;\n          }\n\n          @media (min-width: ${e.theme.breakpoints.xlarge}) {\n            /* 6 and 8 cols */\n            grid-area: span 1 / span 2;\n          }\n        `:"\n          /* 2, 4, 6 and 8 cols */\n          grid-area: span 2 / span 2;\n        "),";");var R=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const F="add-widget-button",M={x:0,y:0,scaleX:1,scaleY:1};function I(e){let{onAddWidget:t}=e;const{setNodeRef:s,transform:r}=(0,C.nB)({disabled:!0,id:F,transition:null});return(0,R.tZ)(T,{ref:s,displayType:D.FO.BIG_NUMBER,layoutId:F,style:{originX:0,originY:0},animate:r?{x:r.x,y:r.y,scaleX:r?.scaleX&&r.scaleX<=1?r.scaleX:1,scaleY:r?.scaleY&&r.scaleY<=1?r.scaleY:1}:M,transition:{duration:.25},children:(0,R.tZ)(A,{onClick:t,children:(0,R.tZ)(L,{"data-test-id":"widget-add",icon:(0,R.tZ)(x.N_,{size:"lg",isCircled:!0,color:"inactive"}),"aria-label":(0,v.t)("Add widget")})})},"add")}I.displayName="AddWidget";const k=I,L=(0,i.Z)(f.zx,{target:"eg8m0jy1"})({name:"6ayxgl",styles:"border:none;&,&:focus,&:active,&:hover{background:transparent;box-shadow:none;}"}),A=(0,i.Z)("div",{target:"eg8m0jy0"})("width:100%;height:110px;border:2px dashed ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";display:flex;align-items:center;justify-content:center;cursor:",(e=>e.onClick?"pointer":""),";");var q=s("./app/views/dashboards/layoutUtils.tsx"),z=s("./app/components/panels/panelAlert.tsx"),P=s("./app/views/dashboards/widgetCard/index.tsx");function B(e){const{widget:t,isEditing:s,widgetLimitReached:r,onDelete:i,onEdit:o,onDuplicate:a,isPreview:n,isMobile:d,windowWidth:l,index:u,dashboardFilters:c}=e,p={widget:t,isEditing:s,widgetLimitReached:r,onDelete:i,onEdit:o,onDuplicate:a,showContextMenu:!0,isPreview:n,index:u,dashboardFilters:c,renderErrorMessage:e=>"string"==typeof e&&(0,R.tZ)(z.Z,{type:"error",children:e}),isMobile:d,windowWidth:l,tableItemLimit:20};return(0,R.tZ)(W,{children:(0,R.tZ)(P.ZP,{...p})})}B.displayName="SortableWidget";const N=B,W=(0,i.Z)("div",{target:"en5z12u0"})({name:"13udsys",styles:"height:100%"});var $=s("./app/views/dashboards/utils.tsx");const U="widget-drag",H="desktop",Q="mobile",G=6,V=[16,16],X={x:0,y:Number.MAX_SAFE_INTEGER},Y=parseInt(S.ZP.breakpoints.small,10),J={[Q]:0,[H]:Y},K={[Q]:2,[H]:G};class ee extends o.Component{constructor(e){super(e),(0,r.Z)(this,"forceCheckTimeout",void 0),(0,r.Z)(this,"debouncedHandleResize",c()((()=>{this.setState({windowWidth:window.innerWidth})}),250)),(0,r.Z)(this,"handleStartAdd",(()=>{const{organization:e,router:t,location:s,paramDashboardId:r}=this.props;r?t.push((0,j.D)({pathname:`/organizations/${e.slug}/dashboard/${r}/widget/new/`,query:{...s.query,source:D.EN.DASHBOARDS}})):t.push((0,j.D)({pathname:`/organizations/${e.slug}/dashboards/new/widget/new/`,query:{...s.query,source:D.EN.DASHBOARDS}}))})),(0,r.Z)(this,"handleUpdateComplete",(e=>t=>{const{isEditing:s,onUpdate:r,handleUpdateWidgetList:i}=this.props;let o=[...this.props.dashboard.widgets];const a=o.indexOf(e),n={...t,tempId:e.tempId};(0,q.I_)(e.displayType)!==(0,q.I_)(t.displayType)?(o[a]=(0,q.W8)(n),o=(0,q.Bb)(o)):o[a]=n,r(o),s||i(o)})),(0,r.Z)(this,"handleDeleteWidget",(e=>()=>{const{dashboard:t,onUpdate:s,isEditing:r,handleUpdateWidgetList:i}=this.props;let o=t.widgets.filter((t=>t!==e));o=(0,q.Bb)(o),s(o),r||i(o)})),(0,r.Z)(this,"handleDuplicateWidget",((e,t)=>()=>{const{dashboard:s,onUpdate:r,isEditing:i,handleUpdateWidgetList:o}=this.props,a=l()((0,q.TE)({...e,id:void 0,tempId:void 0}));let n=[...s.widgets];n.splice(t,0,a),n=(0,q.Bb)(n),r(n),i||o(n)})),(0,r.Z)(this,"handleEditWidget",(e=>()=>{const{organization:t,router:s,location:r,paramDashboardId:i}=this.props;i?s.push((0,j.D)({pathname:`/organizations/${t.slug}/dashboard/${i}/widget/${e}/edit/`,query:{...r.query,source:D.EN.DASHBOARDS}})):s.push((0,j.D)({pathname:`/organizations/${t.slug}/dashboards/new/widget/${e}/edit/`,query:{...r.query,source:D.EN.DASHBOARDS}}))})),(0,r.Z)(this,"handleLayoutChange",((e,t)=>{const{isMobile:s}=this.state,{dashboard:r,onUpdate:i}=this.props,o=e=>{let{i:t}=e;return t!==F},a={[H]:t.desktop.filter(o),[Q]:t.mobile.filter(o)};let d=(0,q.Sp)(a.desktop);const l=r.widgets.map((e=>{const t=(0,q.Yb)(e);let r=a.desktop.find((e=>{let{i:s}=e;return s===t}));if(!r){const i=(0,q.I_)(e.displayType),o={w:q.c6,h:i,minH:i,i:t},[n,l]=(0,q.Hh)(d,i);if(d=l,r={...o,...n},s){const e=a.mobile.filter((e=>{let{i:s}=e;return s!==t}));e.push({...o,...X}),a.mobile=e}}return{...e,layout:(0,q.hq)(r)}}));this.setState({layouts:a}),i(l),window.clearTimeout(this.forceCheckTimeout),this.forceCheckTimeout=window.setTimeout(n.be,400)})),(0,r.Z)(this,"handleBreakpointChange",(e=>{const{layouts:t}=this.state,{dashboard:{widgets:s}}=this.props;e!==Q?this.setState({isMobile:!1}):this.setState({isMobile:!0,layouts:{...t,[Q]:(0,q.VW)(t.desktop,s)}})}));const{dashboard:t}=e,s=(0,q.RI)(t.widgets);this.state={isMobile:!1,layouts:{[H]:s,[Q]:(0,q.VW)(s,t.widgets)},windowWidth:window.innerWidth}}static getDerivedStateFromProps(e,t){if(t.isMobile)return null;const s=(0,q.RI)(e.dashboard.widgets);return m()(s.map(q.hq),t.layouts.desktop.map(q.hq))?null:{...t,layouts:{[H]:s,[Q]:(0,q.VW)(s,e.dashboard.widgets)}}}componentDidMount(){const{newWidget:e}=this.props;window.addEventListener("resize",this.debouncedHandleResize),this.fetchTags(),e&&this.addNewWidget(),this.fetchMemberList()}componentDidUpdate(e){const{selection:t,newWidget:s}=this.props;s&&s!==e.newWidget&&this.addNewWidget(),m()(e.selection.projects,t.projects)||this.fetchMemberList()}componentWillUnmount(){window.removeEventListener("resize",this.debouncedHandleResize),window.clearTimeout(this.forceCheckTimeout),w.Z.reset()}fetchMemberList(){const{api:e,selection:t}=this.props;(0,b.MA)(e,this.props.organization.slug,t.projects?.map((e=>String(e))))}async addNewWidget(){const{api:e,organization:t,newWidget:s,handleAddCustomWidget:r,onSetNewWidget:i}=this.props;if(s)try{await(0,g.QL)(e,t.slug,s),r(s),i?.()}catch(e){(0,h.Iw)(e)}}fetchTags(){const{api:e,organization:t,selection:s}=this.props;(0,y.QK)(e,t.slug,s)}getWidgetIds(){return[...this.props.dashboard.widgets.map(((e,t)=>(0,q.$n)(e,t))),F]}renderWidget(e,t){const{isMobile:s,windowWidth:r}=this.state,{isEditing:i,widgetLimitReached:o,isPreview:a,dashboard:n,location:d}=this.props,l={widget:e,isEditing:i,widgetLimitReached:o,onDelete:this.handleDeleteWidget(e),onEdit:this.handleEditWidget(t),onDuplicate:this.handleDuplicateWidget(e,t),isPreview:a,dashboardFilters:(0,$.lM)(d)??n.filters},u=(0,q.Yb)(e);return(0,R.tZ)("div",{"data-grid":e.layout,children:(0,R.tZ)(N,{...l,isMobile:s,windowWidth:r,index:String(t)})},u)}get addWidgetLayout(){const{isMobile:e,layouts:t}=this.state;let s=X;if(!e){const e=(0,q.Sp)(t.desktop),[r]=(0,q.Hh)(e,1);s=r}return{...s,w:q.c6,h:1,isResizable:!1}}render(){const{layouts:e,isMobile:t}=this.state,{isEditing:s,dashboard:r,widgetLimitReached:i,organization:o}=this.props;let{widgets:a}=r;a=a.filter((e=>{let{widgetType:t}=e;return t!==D.l9.RELEASE||o.features.includes("dashboards-rh-widget")}));const n=(0,q.Sp)(e.desktop),d=(0,q._F)(a,n),l=!t&&s;return(0,R.BX)(re,{breakpoints:J,cols:K,rowHeight:120,margin:V,draggableHandle:`.${U}`,draggableCancel:".widget-resize",layouts:e,onLayoutChange:this.handleLayoutChange,onBreakpointChange:this.handleBreakpointChange,isDraggable:l,isResizable:l,resizeHandle:(0,R.tZ)(ie,{"aria-label":(0,v.t)("Resize Widget"),"data-test-id":"custom-resize-handle",className:"widget-resize",size:"xs",borderless:!0,icon:(0,R.tZ)(x.Iq,{size:"xs"})}),useCSSTransforms:!1,isBounded:!0,children:[d.map(((e,t)=>this.renderWidget(e,t))),s&&!i&&(0,R.tZ)(se,{"data-grid":this.addWidgetLayout,children:(0,R.tZ)(k,{onAddWidget:this.handleStartAdd})},F)]})}}ee.displayName="Dashboard";const te=(0,E.Z)((0,_.Z)(ee)),se=(0,i.Z)("div",{target:"e105tu292"})("z-index:5;background-color:",(e=>e.theme.background),";"),re=(0,i.Z)((0,a.WidthProvider)(a.Responsive),{target:"e105tu291"})("margin:-",(0,Z.D)(2),";.react-grid-item.react-grid-placeholder{background:",(e=>e.theme.purple200),";border-radius:",(e=>e.theme.borderRadius),";}"),ie=(0,i.Z)(f.zx,{target:"e105tu290"})("position:absolute;z-index:2;bottom:",(0,Z.D)(.5),";right:",(0,Z.D)(.5),";color:",(e=>e.theme.subText),";cursor:nwse-resize;.react-resizable-hide &{display:none;}")},"./app/views/dashboards/datasetConfig/base.tsx":(e,t,s)=>{s.d(t,{N:()=>p,v:()=>c}),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/lodash/trimStart.js"),i=s.n(r),o=s("./app/utils/discover/fields.tsx"),a=s("./app/views/dashboards/types.tsx"),n=s("./app/views/dashboards/utils.tsx"),d=s("./app/views/dashboards/datasetConfig/errorsAndTransactions.tsx"),l=s("./app/views/dashboards/datasetConfig/issues.tsx"),u=s("./app/views/dashboards/datasetConfig/releases.tsx");function c(e){switch(e){case a.l9.ISSUE:return l.f;case a.l9.RELEASE:return u.u$;case a.l9.DISCOVER:default:return d.g}}function p(e,t){const s=i()(e.orderby,"-"),r=e.orderby.startsWith("-")?"-":"";if(!t.includes(s)&&""!==e.orderby){const i=e.aggregates.includes(s),a=(0,o.GO)(s),d=e.columns.includes(s),l=i||a||d,u=(0,o.GO)(e.aggregates[0]??"")?`equation[${(0,n.yd)(e.aggregates)-1}]`:t[0];e.orderby=l&&e.orderby||`${r}${u}`}return e}},"./app/views/dashboards/datasetConfig/errorsAndTransactions.tsx":(e,t,s)=>{s.d(t,{g:()=>q}),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/lodash/trimStart.js"),i=s.n(r),o=s("./app/actionCreators/events.tsx"),a=s("./app/components/charts/utils.tsx"),n=s("./app/components/links/link.tsx"),d=s("./app/components/tooltip.tsx"),l=s("./app/locale.tsx"),u=s("./app/utils.tsx"),c=s("./app/utils/discover/fieldRenderers.tsx"),p=s("./app/utils/discover/fields.tsx"),m=s("./app/utils/discover/genericDiscoverQuery.tsx"),g=s("./app/utils/discover/styles.tsx"),h=s("./app/utils/discover/types.tsx"),b=s("./app/utils/discover/urls.tsx"),y=s("./app/utils/events.tsx"),f=s("./app/utils/fields/index.ts"),x=s("./app/utils/measurements/measurements.tsx"),v=s("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),w=s("./app/views/discover/table/types.tsx"),Z=s("./app/views/discover/utils.tsx"),S=s("./app/views/performance/traceDetails/utils.tsx"),E=s("./app/views/performance/utils.tsx"),j=s("./app/views/dashboards/types.tsx"),_=s("./app/views/dashboards/utils.tsx"),C=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),D=s("./app/components/events/searchBar.tsx"),O=s("./app/constants/index.tsx"),T=s("./app/types/index.tsx"),R=s("./app/utils/useCustomMeasurements.tsx"),F=s("./app/views/dashboards/widgetBuilder/utils.tsx"),M=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function I(e){let{organization:t,pageFilters:s,onClose:r,widgetQuery:i}=e;const{customMeasurements:o}=(0,R.Z)(),a=s.projects,n=(0,_.tT)("",i,s),d=n.hasAggregateField()?(0,p.db)(t,n.fields):n.fields;return(0,M.tZ)(k,{searchSource:"widget_builder",organization:t,projectIds:a,query:i.conditions,fields:d,onClose:r,useFormWrapper:!1,maxQueryLength:O.dI,maxSearchItems:F.yM,maxMenuHeight:F.CD,savedSearchType:T.L4.EVENT,customMeasurements:o})}I.displayName="EventsSearchBar";const k=(0,C.Z)(D.Z,{target:"ewp53780"})({name:"1ff36h2",styles:"flex-grow:1"});var L=s("./app/views/dashboards/widgetBuilder/buildSteps/sortByStep/index.tsx"),A=s("./app/views/dashboards/widgetCard/widgetQueries.tsx");const q={defaultWidgetQuery:{name:"",fields:["count()"],columns:[],fieldAliases:[],aggregates:["count()"],conditions:"",orderby:"-count()"},enableEquations:!0,getCustomFieldRenderer:function(e,t){return"id"===e?P:"trace"===e?B:["title","transaction"].includes(e)?(s,r)=>s[e]===E.og?(0,M.tZ)(g.W2,{children:(0,M.tZ)(n.Z,{to:(0,E.uq)({location:r.location,organization:r.organization,source:E.Pv.DISCOVER}),children:s[e]})}):(0,c.Js)(e,t,!1)(s,r):(0,c.Js)(e,t,!1)},SearchBar:I,filterSeriesSortOptions:function(e){return t=>t.value.kind===w.L.FUNCTION||t.value.kind===w.L.EQUATION||e.has(t.value.meta.name)||t.value.meta.name===L.E},filterYAxisAggregateParams:function(e,t){return s=>{if(t===j.FO.BIG_NUMBER)return!0;if(e.kind!==w.L.FUNCTION)return!0;const r=e.function[0],i=(0,p.Xh)(r,s.value.meta.name);return i?(0,p.HW)(i):s.value.kind!==w.L.FUNCTION&&s.value.kind!==w.L.EQUATION&&(0,p.HW)(s.value.meta.dataType)}},filterYAxisOptions:function(e){return t=>{if(e!==j.FO.BIG_NUMBER&&t.value.kind===w.L.FUNCTION){const e=(0,p.Xh)(t.value.meta.name,void 0);if(e)return(0,p.HW)(e)}return t.value.kind===w.L.FUNCTION}},getTableFieldOptions:z,getTimeseriesSortOptions:function(e,t,s){const r={};r[`field:${L.E}`]={label:"Custom Equation",value:{kind:w.L.EQUATION,meta:{name:L.E}}};let i=0;[...t.aggregates,...t.columns].filter((e=>!!e)).forEach((e=>{let t;const s=(0,p.bQ)(e);(0,p.GO)(e)&&(t=`equation[${i}]`,i+=1,r[`equation:${t}`]={label:s,value:{kind:w.L.EQUATION,meta:{name:t??e}}})}));const o=z(e,s);return{...r,...o}},getTableSortOptions:function(e,t){const{columns:s,aggregates:r}=t,i=[];let o=0;return[...r,...s].filter((e=>!!e)).forEach((e=>{let t;const s=(0,p.bQ)(e);(0,p.GO)(e)&&(t=`equation[${o}]`,o+=1),i.push({label:s,value:t??e})})),i},getGroupByFieldOptions:z,handleOrderByReset:s("./app/views/dashboards/datasetConfig/base.tsx").N,supportedDisplayTypes:[j.FO.AREA,j.FO.BAR,j.FO.BIG_NUMBER,j.FO.LINE,j.FO.TABLE,j.FO.TOP_N,j.FO.WORLD_MAP],getTableRequest:(e,t,s,r,i,o,a,n)=>N(`/organizations/${s.slug}/events/`,e,t,s,r,i,o,a,n),getSeriesRequest:function(e,t,s,r,a,n,d){const l=t.queries[s],{displayType:c,limit:m}=t,{environments:g,projects:b}=a,{start:y,end:f,period:x}=a.datetime,w=(0,_.s)(c,{start:y,end:f,period:x}),Z=(r.features.includes("dashboards-mep")||r.features.includes("mep-rollout-flag"))&&(0,u.ri)(d)&&d!==v.oR.transactionsOnly;let S;if(c===j.FO.TOP_N)S={organization:r,interval:w,start:y,end:f,project:b,environment:g,period:x,query:l.conditions,yAxis:l.aggregates[l.aggregates.length-1],includePrevious:!1,referrer:n,partial:!0,field:[...l.columns,...l.aggregates],queryExtras:(0,_.Gl)(Z),includeAllArgs:!0,topEvents:h.hY},l.orderby&&(S.orderby=l.orderby);else if(S={organization:r,interval:w,start:y,end:f,project:b,environment:g,period:x,query:l.conditions,yAxis:l.aggregates,orderby:l.orderby,includePrevious:!1,referrer:n,partial:!0,queryExtras:(0,_.Gl)(Z),includeAllArgs:!0},0!==l.columns?.length){S.topEvents=m??h.hY,S.field=[...l.columns,...l.aggregates];const e=i()(l.orderby,"-");if(!l.orderby||(0,p.uI)(e)||S.field.includes(e)||S.field.push(e),S.excludeOther=1!==l.aggregates.length||1!==t.queries.length,(0,p.GO)(i()(l.orderby,"-"))){const e=(0,_.yd)(l.aggregates),t=l.orderby.startsWith("-")?"-":"";S.orderby=`${t}equation[${e}]`,S.field=[...l.columns,...l.aggregates,i()(l.orderby,"-")]}}return(0,o.lI)(e,S)},getWorldMapRequest:(e,t,s,r,i,o,a)=>N(`/organizations/${s.slug}/events-geo/`,e,t,s,r,i,o,a),transformSeries:function(e,t){let s=[];const r=t.name;if((0,a.Xe)(e)){let i=[];i=t.aggregates.length>1&&t.columns.length?(0,A.vD)(e,r):Object.keys(e).map((t=>{const s=r?`${r} : ${t}`:t,i=e[t];return[i.order||0,(0,A.FN)(i,s,t)]})),s=[...i.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]))]}else{const i=t.aggregates[0],o=r?`${r} : ${i}`:i,a=(0,A.FN)(e,o,i);s.push(a)}return s},transformTable:function(e,t){let s=e;const{fields:r,...i}=e.meta??{};return s={...e,meta:{...r,...i}},s},filterAggregateParams:function(e,t){return!(e.value.kind===w.L.CUSTOM_MEASUREMENT&&"function"===t?.kind&&t?.function&&!e.value.meta.functions.includes(t.function[0])||e.value.meta.name===f.Sh.TOTAL_COUNT)},getSeriesResultType:function(e,t){const s=t.aggregates[0],r={};return(0,a.Xe)(e)?Object.keys(e).forEach((t=>r[t]=e[t].meta?.fields[(0,p.LY)(t)])):r[s]=e.meta?.fields[(0,p.LY)(s)],r}};function z(e,t,s){const r=(0,x.i)();return(0,Z.R0)({organization:e,tagKeys:Object.values(t??{}).map((e=>{let{key:t}=e;return t})),measurementKeys:Object.values(r).map((e=>{let{key:t}=e;return t})),spanOperationBreakdownKeys:p.$4,customMeasurements:e.features.includes("dashboards-mep")||e.features.includes("mep-rollout-flag")?Object.values(s??{}).map((e=>{let{key:t,functions:s}=e;return{key:t,functions:s}})):void 0})}function P(e,t){let{eventView:s,organization:r}=t;const i=e?.id;if(!s||"string"!=typeof i)return null;const o=(0,b.JE)(e),a=(0,b.eQ)({orgSlug:r.slug,eventSlug:o,eventView:s});return(0,M.tZ)(d.u,{title:(0,l.t)("View Event"),children:(0,M.tZ)(n.Z,{"data-test-id":"view-event",to:a,children:(0,M.tZ)(g.W2,{children:(0,y.XQ)(i)})})})}function B(e,t){let{eventView:s,organization:r,location:i}=t;const o=e?.trace;if(!s||"string"!=typeof o)return null;const a=s.normalizeDateSelection(i),u=(0,S.YA)(r,String(e.trace),a,{});return(0,M.tZ)(d.u,{title:(0,l.t)("View Trace"),children:(0,M.tZ)(n.Z,{"data-test-id":"view-trace",to:u,children:(0,M.tZ)(g.W2,{children:(0,y.XQ)(o)})})})}function N(e,t,s,r,i,o,a,n,d){const l=(r.features.includes("dashboards-mep")||r.features.includes("mep-rollout-flag"))&&(0,u.ri)(d)&&d!==v.oR.transactionsOnly,c=(0,_.tT)("",s,i),p={per_page:o,cursor:a,referrer:n,...(0,_.Gl)(l)};return s.orderby&&(p.sort="string"==typeof s.orderby?[s.orderby]:s.orderby),(0,m.AA)(t,e,{...c.generateQueryStringObject(),...p},{retry:{statusCodes:[429],tries:3}})}P.displayName="renderEventIdAsLinkable",B.displayName="renderTraceAsLinkable"},"./app/views/dashboards/datasetConfig/issues.tsx":(e,t,s)=>{s.d(t,{f:()=>S}),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.array.push.js");var r=s("./app/components/searchSyntax/parser.tsx"),i=s("./app/locale.tsx"),o=s("./app/stores/groupStore.tsx"),a=s("./app/utils/dashboards/issueFieldRenderers.tsx"),n=s("./app/utils/dates.tsx"),d=s("./app/views/issueList/utils.tsx"),l=s("./app/views/dashboards/types.tsx"),u=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),p=s("./app/views/dashboards/widgetBuilder/utils.tsx"),m=s("./app/views/issueList/searchBar.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){let{onClose:t,widgetQuery:s,organization:r}=e;return(0,g.tZ)(c.ms,{children:e=>{let{css:o}=e;return(0,g.tZ)(b,{searchSource:"widget_builder",organization:r,query:s.conditions||"",onClose:t,placeholder:(0,i.t)("Search for issues, status, assigned, and more"),maxSearchItems:p.yM,dropdownClassName:o`
            max-height: ${p.CD}px;
            overflow-y: auto;
          `})}})}h.displayName="IssuesSearchBar";const b=(0,u.Z)(m.Z,{target:"els7enb0"})({name:"1hoyb5r",styles:"flex-grow:1;button:not([aria-label='Clear search']){display:none;}"});var y=s("./app/views/dashboards/widgetBuilder/issueWidget/fields.tsx"),f=s("./app/views/discover/table/types.tsx");const x=[d.qh.DATE,d.qh.NEW,d.qh.FREQ,d.qh.PRIORITY,d.qh.USER],v={name:"",fields:["issue","assignee","title"],columns:["issue","assignee","title"],fieldAliases:[],aggregates:[],conditions:"",orderby:d.qh.DATE},w=d.qh.DATE,Z=["owners"],S={defaultWidgetQuery:v,enableEquations:!1,disableSortOptions:function(e){return{disableSort:!1,disableSortDirection:!0,disableSortReason:(0,i.t)("Issues dataset does not yet support descending order")}},getTableRequest:function(e,t,s,r,i,o){const a=`/organizations/${s.slug}/issues/`,d={project:r.projects??[],environment:r.environments??[],query:t.conditions,sort:t.orderby||w,expand:Z,limit:i??l.$V,cursor:o};return r.datetime.period&&(d.statsPeriod=r.datetime.period),r.datetime.end&&(d.end=(0,n.v5)(r.datetime.end)),r.datetime.start&&(d.start=(0,n.v5)(r.datetime.start)),r.datetime.utc&&(d.utc=r.datetime.utc),e.requestPromise(a,{includeAllArgs:!0,method:"GET",data:{...d}})},getCustomFieldRenderer:a.O,SearchBar:h,getTableSortOptions:function(e,t){const s=[...x];return e.features.includes("issue-list-trend-sort")&&s.push(d.qh.TREND),s.map((e=>({label:(0,d._k)(e),value:e})))},getTableFieldOptions:e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.$L;const t=Object.keys(e).sort(),s={};return t.forEach((t=>{s[`field:${t}`]={label:t,value:{kind:f.L.FIELD,meta:{name:t,dataType:e[t]}}}})),s}(),fieldHeaderMap:y.kh,supportedDisplayTypes:[l.FO.TABLE],transformTable:function(e,t,s,i){o.Z.add(e);const a=[];return e.forEach((e=>{let{id:s,shortId:o,title:l,lifetime:u,filtered:c,count:p,userCount:m,project:g,annotations:h,...b}=e;const y={};Object.keys(b).filter((e=>["number","string"].includes(typeof b[e]))).forEach((e=>{y[e]=b[e]}));const f={...y,events:p,users:m,id:s,"issue.id":s,issue:o,title:l,project:g.slug,links:h?.join(", ")};u&&(f.lifetimeEvents=u?.count,f.lifetimeUsers=u?.userCount),c&&(f.filteredEvents=c?.count,f.filteredUsers=c?.userCount);const x=t.conditions,v=(0,r.UG)(x)?.filter((e=>!(e.type===r.WU.Filter&&d.QL.includes(e.key.text))));f.discoverSearchQuery=(0,r.D3)(v,!0),f.projectId=g.id;const{period:w,start:Z,end:S}=i.datetime||{};Z&&S&&(f.start=(0,n.v5)(Z),f.end=(0,n.v5)(S)),f.period=w??"",a.push(f)})),{data:a}}}},"./app/views/dashboards/datasetConfig/releases.tsx":(e,t,s)=>{s.d(t,{u$:()=>B}),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.error.cause.js");var r=s("../node_modules/lodash/omit.js"),i=s.n(r),o=s("../node_modules/lodash/trimStart.js"),a=s.n(o),n=s("./app/components/charts/utils.tsx"),d=s("./app/components/organizations/pageFilters/parse.tsx"),l=s("./app/utils.tsx");const u=(e,t)=>{let{field:s,orgSlug:r,cursor:i,environment:o,groupBy:a,includeSeries:u,includeTotals:c,interval:p,limit:m,orderBy:g,project:h,query:b,includeAllArgs:y=!1,statsPeriodStart:f,statsPeriodEnd:x,...v}=t;const{start:w,end:Z,statsPeriod:S}=(0,d.fK)(v,{allowEmptyPeriod:!0}),E=Object.fromEntries(Object.entries({field:s.filter((e=>!!e)),cursor:i,end:Z,environment:o,groupBy:a?.filter((e=>!!e)),includeSeries:u,includeTotals:c,interval:p||(0,n.ZS)({start:w,end:Z,period:S}),query:b||void 0,per_page:m,project:h,orderBy:g,start:w,statsPeriod:S,statsPeriodStart:f,statsPeriodEnd:x}).filter((e=>{let[,t]=e;return(0,l.ri)(t)&&""!==t}))),j=`/organizations/${r}/metrics/data/`;return e.requestPromise(j,{includeAllArgs:y,query:E})};var c=s("./app/actionCreators/sessions.tsx"),p=s("./app/locale.tsx"),m=s("./app/types/index.tsx"),g=s("./app/utils/dates.tsx"),h=s("./app/utils/discover/fieldRenderers.tsx"),b=s("./app/views/discover/table/types.tsx"),y=s("./app/views/dashboards/types.tsx"),f=s("./app/views/dashboards/utils.tsx"),x=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),v=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),w=s("../node_modules/lodash/memoize.js"),Z=s.n(w),S=s("./app/actionCreators/tags.tsx"),E=s("./app/components/smartSearchBar/index.tsx"),j=s("./app/constants/index.tsx"),_=s("./app/utils/useApi.tsx"),C=s("./app/views/dashboards/widgetBuilder/utils.tsx"),D=s("./app/views/dashboards/widgetBuilder/releaseWidget/fields.tsx"),O=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const T=new RegExp(`^${j.c$}|\\${j.ir}`,"g");function R(e){let{organization:t,pageFilters:s,widgetQuery:r,onClose:i}=e;const o=t.slug,a=s.projects,n=(0,_.Z)();function d(e){return e.replace(T,"")}function l(e,t){if("session.status"===e.name)return Promise.resolve(D._I);const s=a?.map(String);return(0,S.Fo)({api:n,orgSlug:o,tagKey:e.key,search:t,projectIds:s,includeTransactions:!0}).then((e=>e.map((e=>{let{value:t}=e;return t}))),(()=>{throw new Error("Unable to fetch tag values")}))}const u=Object.values(D.Wt).reduce(((e,t)=>(e[t]={key:t,name:t},e)),{});return(0,O.tZ)(v.ms,{children:e=>{let{css:t}=e;return(0,O.tZ)(F,{onGetTagValues:Z()(l,((e,t)=>{let{key:s}=e;return`${s}-${t}`})),supportedTags:u,placeholder:(0,p.t)("Search for release version, session status, and more"),prepareQuery:d,dropdownClassName:t`
            max-height: ${C.CD??300}px;
            overflow-y: auto;
          `,onClose:i,maxQueryLength:j.dI,maxSearchItems:C.yM,searchSource:"widget_builder",query:r.conditions,savedSearchType:m.L4.SESSION,hasRecentSearches:!0,highlightUnsupportedTags:!0})}})}R.displayName="ReleaseSearchBar";const F=(0,x.Z)(E.Z,{target:"e185ylgn0"})({name:"1ff36h2",styles:"flex-grow:1"});var M=s("./app/views/dashboards/widgetCard/releaseWidgetQueries.tsx");function I(e,t,s){const r=Object.entries(t.by).map((e=>{let[t,s]=e;return`${s}`})).join(", ");return`${s?`${s} > `:""}${r?`${r} : ${(0,M.nD)(e)}`:(0,M.nD)(e)}`}var k=s("./app/utils/discover/fields.tsx");function L(e){const t={};for(const[s,r]of Object.entries(e))t[(0,M.nD)(s)]=r;return t}function A(e,t,s){const r={};return s.length?(void 0===e["session.status"]||s.forEach((s=>{const i=s.match(D.$4);i&&(e["session.status"]===i[1]?"session"===i[2]?r[s]=t["sum(session)"]:"user"===i[2]&&(r[s]=t["count_unique(user)"]):r[s]=0)})),r):r}var q=s("./app/views/dashboards/datasetConfig/base.tsx");const z={name:"",fields:[`crash_free_rate(${m.r2.SESSION})`],columns:[],fieldAliases:[],aggregates:[`crash_free_rate(${m.r2.SESSION})`],conditions:"",orderby:`-crash_free_rate(${m.r2.SESSION})`},P=new Date("2022-07-12"),B={defaultWidgetQuery:z,enableEquations:!1,disableSortOptions:function(e){const{columns:t}=e;return t.includes("session.status")?{disableSort:!0,disableSortDirection:!0,disableSortReason:(0,p.t)("Sorting currently not supported with session.status")}:{disableSort:!1,disableSortDirection:!1}},getTableRequest:(e,t,s,r,i,o)=>U(0,1,e,t,s,r,void 0,i,o),getSeriesRequest:function(e,t,s,r,i){const o=t.queries[s],{displayType:a,limit:n}=t,{datetime:d}=i,{start:l,end:u,period:c}=d,p=(0,M.Vl)(o);return U(1,o.columns.length>0?1:0,e,o,r,i,(0,f.s)(a,{start:l,end:u,period:c},"5m",p?"low":void 0),n)},getTableSortOptions:function(e,t){const{columns:s,aggregates:r}=t,i=[];return[...r,...s].filter((e=>!!e)).filter((e=>!D.d2.includes(e))).filter((e=>!D.aE.includes(e))).forEach((e=>{i.push({label:e,value:e})})),i},getTimeseriesSortOptions:function(e,t){const s=new Set(t.columns),r=(0,D.e1)(Object.values(D.Jo),D.ve),i={};return Object.entries(r).forEach((e=>{let[t,r]=e;["count_healthy","count_errored"].includes(r.value.meta.name)||(r.value.kind!==b.L.FIELD||"release"===r.value.meta.name&&s.has(r.value.meta.name))&&(i[t]=r)})),i},filterTableOptions:N,filterAggregateParams:W,filterYAxisAggregateParams:(e,t)=>W,filterYAxisOptions:function(e){return e=>[b.L.FUNCTION,b.L.NUMERIC_METRICS].includes(e.value.kind)},getCustomFieldRenderer:(e,t)=>(0,h.Js)(e,t,!1),SearchBar:R,getTableFieldOptions:function(e){return(0,D.e1)(Object.values(D.Jo),D.ve)},getGroupByFieldOptions:e=>(0,D.e1)([],D.ve),handleColumnFieldChangeOverride:function(e){if(0===e.aggregates.length){const t=`crash_free_rate(${m.r2.SESSION})`;e.aggregates=[t],e.fields=e.fields?[...e.fields,t]:[t]}return e},handleOrderByReset:function(e,t){return e.columns.includes("session.status")&&(e.orderby=""),(0,q.N)(e,t)},filterSeriesSortOptions:function(e){return t=>!["count_healthy","count_errored"].includes(t.value.meta.name)&&(t.value.kind===b.L.FIELD?e.has(t.value.meta.name)&&"release"===t.value.meta.name:N(t))},supportedDisplayTypes:[y.FO.AREA,y.FO.BAR,y.FO.BIG_NUMBER,y.FO.LINE,y.FO.TABLE,y.FO.TOP_N],transformSeries:function(e,t){if(null===e)return[];const s=t.name,r=t.columns.includes("session.status"),{derivedStatusFields:i,injectedFields:o}=(0,M.gp)(t.aggregates,t.orderby,r),a=[];return e.groups.length?(e.groups.forEach((t=>{Object.keys(t.series).forEach((r=>{o.includes((0,M.nD)(r))||a.push({seriesName:I(r,t,s),data:e.intervals.map(((e,s)=>({name:e,value:t.series[r][s]??0})))})})),i.length&&(0,l.ri)(t.by["session.status"])&&i.forEach((r=>{const i=r.match(D.$4);if(i){let o;t.by["session.status"]===i[1]&&("session"===i[2]?o="sum(session)":"user"===i[2]&&(o="count_unique(user)")),a.push({seriesName:I(r,t,s),data:e.intervals.map(((e,s)=>({name:e,value:o?t.series[o][s]??0:0})))})}}))})),a):[{seriesName:`(${(0,p.t)("no results")})`,data:e.intervals.map((e=>({name:e,value:0})))}]},transformTable:function(e,t){const s=t.columns.includes("session.status"),{derivedStatusFields:r,injectedFields:o}=(0,M.gp)(t.aggregates,t.orderby,s),a=e.groups.map(((e,t)=>({id:String(t),...L(e.by),...i()(L(e.totals),o),...A(e.by,e.totals,r)}))),n=a[0];return{meta:{...(d=i()(n,"id"),Object.keys(d??{}).reduce(((e,t)=>(e[t]=D.ve.includes(t)?"string":(0,k.Px)(t),e)),{}))},data:a};var d}};function N(e){return[b.L.FUNCTION,b.L.FIELD,b.L.NUMERIC_METRICS].includes(e.value.kind)}function W(e){return e.value.kind===b.L.METRICS}function $(e){return D.wg[e]??e}function U(e,t,s,r,i,o,n,d,l){const{environments:m,projects:h,datetime:b}=o,{start:y,end:f,period:x}=b;let v=!1;if(y){let e;e="string"==typeof y?new Date(y):y,v=e<P}else if(x){const e=(0,g.Ri)(x),t=new Date;v=new Date((new Date).setDate(t.getDate()-e))<P}if(v)return Promise.reject(new Error((0,p.t)("Releases data is only available from Jul 12. Please retry your query with a more recent date range.")));const w=r.columns.includes("session.status"),Z=(0,M.Vl)(r),S=r.orderby.startsWith("-"),E=a()(r.orderby,"-"),j=D.d2.includes(E)||w||"release"===E,_=r.columns,{aggregates:C,injectedFields:O}=(0,M.gp)(r.aggregates,r.orderby,w);let T,R;return w?(T={field:C.filter((e=>!Object.values(D.Xg).includes(e))),orgSlug:i.slug,end:f,environment:m,groupBy:_,limit:void 0,orderBy:"",interval:n,project:h,query:r.conditions,start:y,statsPeriod:x,includeAllArgs:!0,cursor:l},R=c.K):(T={field:C.map($),orgSlug:i.slug,end:f,environment:m,groupBy:_.map($),limit:0===_.length?1:Z?100:d,orderBy:j?"":S?`-${$(E)}`:$(E),interval:n,project:h,query:r.conditions,start:y,statsPeriod:x,includeAllArgs:!0,cursor:l,includeSeries:e,includeTotals:t},R=u,!E||j||C.includes(E)||_.includes(E)||(T.field=[...T.field,$(E)],O.includes(E)||O.push(E))),R(s,T)}},"./app/views/dashboards/layoutUtils.tsx":(e,t,s)=>{s.d(t,{$n:()=>b,Bb:()=>D,Hh:()=>j,I_:()=>Z,RI:()=>v,Sp:()=>E,TE:()=>f,VW:()=>x,W8:()=>C,WJ:()=>S,Yb:()=>y,_F:()=>_,c6:()=>g,hq:()=>w}),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/react-grid-layout/build/utils.js"),i=s("../node_modules/lodash/pickBy.js"),o=s.n(i),a=s("../node_modules/lodash/sortBy.js"),n=s.n(a),d=s("../node_modules/lodash/zip.js"),l=s.n(d),u=s("./app/utils.tsx"),c=s("./app/utils/guid.tsx"),p=s("./app/views/dashboards/dashboard.tsx"),m=s("./app/views/dashboards/types.tsx");const g=2,h=["x","y","w","h","minW","maxW","minH","maxH"];function b(e,t){return e.id?`${e.id}-index-${t}`:`index-${t}`}function y(e){return`grid-item-${e.id??e.tempId}`}function f(e){return e.id??e.tempId?e:{...e,tempId:(0,c.E)()}}function x(e,t){if(0===e.length)return[];const s=l()(e,t);return n()(s,["0.y","0.x"]).map(((e,t)=>{let[s,r]=e;return{...s,x:0,y:2*t,w:2,h:r.displayType===m.FO.BIG_NUMBER?1:2}}))}function v(e){return e.filter((e=>(0,u.ri)(e.layout))).map((e=>{let{layout:t,...s}=e;return{...t,i:y(s)}}))}function w(e){return o()(e,((e,t)=>(0,u.ri)(e)&&h.includes(t)))}function Z(e){return e===m.FO.BIG_NUMBER?1:2}function S(){return Array(p.ey).fill(0)}function E(e){const t=S();return e.forEach((e=>{let{x:s,w:r,y:i,h:o}=e;for(let e=s;e<s+r;e++)t[e]=Math.max(i+o,t[e])})),t}function j(e,t){const s=[...e],r=Math.max(...s);for(let e=0;e<=r;e++)for(let r=0;r<=s.length-g;r++){if(s[r]>e)continue;const i=r+g;if(s.slice(r,i).every((t=>t<=e))){for(let i=r;i<r+g;i++)s[i]=e+t;return[{x:r,y:e},[...s]]}}for(let e=0;e<g;e++)s[e]=r;return[{x:0,y:r},[...s]]}function _(e,t){let s=[...t];return e.map((e=>{if((0,u.ri)(e.layout))return e;const t=Z(e.displayType),[r,i]=j(s,t);return s=i,{...e,layout:{...r,h:t,minH:t,w:g}}}))}function C(e){const{displayType:t,layout:s}=e,r={...e};if(!(0,u.ri)(s))return r;const i=Z(t),o={...s,h:Math.max(s?.h??i,i),minH:i};return{...r,layout:o}}function D(e){const t=(0,r.compact)(v(e),"vertical",p.ey);return e.map((e=>{const s=t.find((t=>{let{i:s}=t;return s===y(e)}));return s?{...e,layout:s}:e}))}},"./app/views/dashboards/widgetBuilder/buildSteps/buildStep.tsx":(e,t,s)=>{s.d(t,{F:()=>n});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/list/listItem.tsx"),o=s("./app/styles/space.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){let{title:t,description:s,required:r=!1,children:i,...o}=e;return(0,a.BX)(d,{...o,children:[(0,a.BX)(l,{children:[t,r&&(0,a.tZ)(p,{})]}),(0,a.tZ)(u,{children:s}),(0,a.tZ)(c,{children:i})]})}n.displayName="BuildStep";const d=(0,r.Z)(i.Z,{target:"er6xldl4"})({name:"vetbs0",styles:"display:grid"}),l=(0,r.Z)("h5",{target:"er6xldl3"})("margin-bottom:0;color:",(e=>e.theme.gray500),";"),u=(0,r.Z)("small",{target:"er6xldl2"})("color:",(e=>e.theme.gray300),";padding:",(0,o.D)(.25)," ",(0,o.D)(2)," ",(0,o.D)(2)," 0;@media (max-width: ",(e=>e.theme.breakpoints.small),"){padding-top:",(0,o.D)(1),";margin-left:-",(0,o.D)(4),";}"),c=(0,r.Z)("div",{target:"er6xldl1"})("display:grid;@media (max-width: ",(e=>e.theme.breakpoints.small),"){margin-left:-",(0,o.D)(4),";}"),p=(0,r.Z)("div",{target:"er6xldl0"})("background:",(e=>e.theme.red300),";opacity:0.6;width:5px;height:5px;border-radius:5px;margin-left:",(0,o.D)(.5),";display:inline-block;vertical-align:super;")},"./app/views/dashboards/widgetBuilder/buildSteps/sortByStep/index.tsx":(e,t,s)=>{s.d(t,{E:()=>_,j:()=>C});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("../node_modules/lodash/trimStart.js"),a=s.n(o),n=s("./app/components/forms/controls/selectControl.tsx"),d=s("./app/components/forms/fieldGroup/index.tsx"),l=s("./app/components/tooltip.tsx"),u=s("./app/locale.tsx"),c=s("./app/styles/space.tsx"),p=s("./app/views/dashboards/datasetConfig/base.tsx"),m=s("./app/views/dashboards/types.tsx"),g=s("./app/views/dashboards/widgetBuilder/utils.tsx"),h=s("./app/views/dashboards/widgetBuilder/buildSteps/buildStep.tsx"),b=s("../node_modules/lodash/uniqBy.js"),y=s.n(b),f=s("./app/utils/discover/fields.tsx"),x=s("./app/utils/useOrganization.tsx"),v=s("./app/views/discover/table/arithmeticInput.tsx"),w=s("./app/views/discover/table/queryField.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(e){let{values:t,widgetType:s,onChange:r,disableSortReason:o,disableSort:d,disableSortDirection:c,widgetQuery:h,displayType:b}=e;const S=(0,p.v)(s),C=(0,x.Z)(),D=new Set(h.columns),[O,T]=(0,i.useState)(!1),[R,F]=(0,i.useState)({sortBy:`${f.qe}`,sortDirection:t.sortDirection});return(0,i.useEffect)((()=>{const e=(0,f.GO)(a()(t.sortBy,"-"));e&&F({sortBy:a()(t.sortBy,"-"),sortDirection:t.sortDirection}),T(e)}),[t.sortBy,t.sortDirection]),(0,Z.BX)(E,{children:[(0,Z.tZ)(l.u,{title:o,disabled:!c||c&&d,children:(0,Z.tZ)(n.Z,{name:"sortDirection","aria-label":"Sort direction",menuPlacement:"auto",disabled:c,options:Object.keys(g.Qj).map((e=>({label:g.Qj[e],value:e}))),value:t.sortDirection,onChange:e=>{r({sortBy:t.sortBy,sortDirection:e.value})}})}),(0,Z.tZ)(l.u,{title:o,disabled:!d||c&&d,children:b===m.FO.TABLE?(0,Z.tZ)(n.Z,{name:"sortBy","aria-label":"Sort by",menuPlacement:"auto",disabled:d,placeholder:`${(0,u.t)("Select a column")}`,value:t.sortBy,options:y()(S.getTableSortOptions(C,h),(e=>{let{value:t}=e;return t})),onChange:e=>{r({sortBy:e.value,sortDirection:t.sortDirection})}}):(0,Z.tZ)(w.q,{disabled:d,fieldValue:O?(0,f.HM)({field:_}):(0,f.HM)({field:t.sortBy}),fieldOptions:S.getTimeseriesSortOptions(C,h),filterPrimaryOptions:S.filterSeriesSortOptions?S.filterSeriesSortOptions(D):void 0,filterAggregateParameters:S.filterAggregateParams,onChange:e=>{if(e.alias&&(0,f.uI)(e.alias))return void r({sortBy:e.alias,sortDirection:t.sortDirection});const s=(0,f.sN)(e),i=(0,f.GO)(s);T(i),r(i?R:{sortBy:s,sortDirection:t.sortDirection})}})}),O&&(0,Z.tZ)(j,{children:(0,Z.tZ)(v.Z,{name:"arithmetic",type:"text",required:!0,placeholder:(0,u.t)("Enter Equation"),value:(0,f.vp)(R.sortBy),onUpdate:e=>{const s={sortBy:`${f.qe}${e}`,sortDirection:t.sortDirection};r(s),F(s)},hideFieldOptions:!0})})]})}S.displayName="SortBySelectors";const E=(0,r.Z)("div",{target:"ei4dc871"})("display:grid;gap:",(0,c.D)(1),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:200px 1fr;}"),j=(0,r.Z)("div",{target:"ei4dc870"})({name:"18iuzk9",styles:"grid-column:1/-1"}),_="custom-equation";function C(e){let{displayType:t,onSortByChange:s,queries:r,widgetType:o,error:n,limit:c,onLimitChange:b,tags:y}=e;const f=(0,p.v)(o);let x,v=!1,w=!1;f.disableSortOptions&&({disableSort:v,disableSortDirection:w,disableSortReason:x}=f.disableSortOptions(r[0]));const E=r[0].orderby,j=a()(E,"-"),_=(0,g.oA)(r.length,r[0].aggregates.length),C=[m.FO.LINE,m.FO.BAR,m.FO.AREA].includes(t);return(0,i.useEffect)((()=>{c&&c>_&&b(_)}),[c,_,b]),(0,Z.tZ)(h.F,{title:t===m.FO.TABLE?(0,u.t)("Sort by a column"):(0,u.t)("Sort by a y-axis"),description:t===m.FO.TABLE?(0,u.t)("Choose one of the columns you've created to sort by."):(0,u.t)("Choose one of the y-axis you've created to sort by."),"data-test-id":"sort-by-step",children:(0,Z.tZ)(l.u,{title:x,disabled:!(w&&v),children:(0,Z.BX)(d.Z,{inline:!1,error:n,flexibleControlStateSize:!0,stacked:!0,children:[[m.FO.AREA,m.FO.BAR,m.FO.LINE].includes(t)&&c&&(0,Z.tZ)(D,{disabled:w&&v,name:"resultsLimit",menuPlacement:"auto",options:[...Array(_).keys()].map((e=>{const t=e+1;return{label:(0,u.tn)("Limit to %s result","Limit to %s results",t),value:t}})),value:c,onChange:e=>{b(e.value)}}),(0,Z.tZ)(S,{displayType:t,widgetType:o,hasGroupBy:C&&!!r[0].columns.length,disableSortReason:x,disableSort:v,disableSortDirection:w,widgetQuery:r[0],values:{sortDirection:"-"===E[0]?g.Sr.HIGH_TO_LOW:g.Sr.LOW_TO_HIGH,sortBy:j},onChange:e=>{let{sortDirection:t,sortBy:r}=e;const i=t===g.Sr.HIGH_TO_LOW?`-${r}`:r;s(i)},tags:y})]})})})}C.displayName="SortByStep";const D=(0,r.Z)(n.Z,{target:"e1jlvjy40"})("margin-bottom:",(0,c.D)(1),";")},"./app/views/dashboards/widgetBuilder/issueWidget/fields.tsx":(e,t,s)=>{let r;s.d(t,{$L:()=>i,Sh:()=>r,kh:()=>o}),function(e){e.ASSIGNEE="assignee",e.TITLE="title",e.ISSUE="issue",e.LEVEL="level",e.STATUS="status",e.PLATFORM="platform",e.IS_BOOKMARKED="isBookmarked",e.IS_SUBSCRIBED="isSubscribed",e.IS_HANDLED="isHandled",e.LAST_SEEN="lastSeen",e.FIRST_SEEN="firstSeen",e.EVENTS="events",e.USERS="users",e.LIFETIME_EVENTS="lifetimeEvents",e.LIFETIME_USERS="lifetimeUsers",e.PROJECT="project",e.LINKS="links"}(r||(r={}));const i={[r.ASSIGNEE]:"string",[r.TITLE]:"string",[r.ISSUE]:"string",[r.LEVEL]:"string",[r.STATUS]:"string",[r.PLATFORM]:"string",[r.IS_BOOKMARKED]:"boolean",[r.IS_SUBSCRIBED]:"boolean",[r.IS_HANDLED]:"boolean",[r.LAST_SEEN]:"date",[r.FIRST_SEEN]:"date",[r.EVENTS]:"string",[r.USERS]:"string",[r.LIFETIME_EVENTS]:"string",[r.LIFETIME_USERS]:"string",[r.PROJECT]:"string",[r.LINKS]:"string"},o={[r.LIFETIME_EVENTS]:"Lifetime Events",[r.LIFETIME_USERS]:"Lifetime Users"}},"./app/views/dashboards/widgetBuilder/utils.tsx":(e,t,s)=>{s.d(t,{CD:()=>C,Qj:()=>x,Sr:()=>f,V0:()=>O,Zi:()=>S,_4:()=>Z,_k:()=>h,eQ:()=>E,hV:()=>v,i0:()=>b,oA:()=>D,qg:()=>y,wc:()=>w,yM:()=>_}),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.array.push.js");var r=s("../node_modules/lodash/cloneDeep.js"),i=s.n(r),o=s("../node_modules/lodash/isEqual.js"),a=s.n(o),n=s("../node_modules/lodash/trimStart.js"),d=s.n(n),l=s("./app/locale.tsx"),u=s("./app/utils/discover/fields.tsx"),c=s("./app/views/dashboards/types.tsx"),p=(s("./app/views/discover/table/types.tsx"),s("./app/views/discover/utils.tsx"),s("./app/views/issueList/utils.tsx")),m=s("./app/views/dashboards/utils.tsx"),g=s("./app/views/dashboards/widgetBuilder/releaseWidget/fields.tsx");const h=5,b="new";let y,f;!function(e){e.EVENTS="events",e.ISSUES="issues",e.RELEASES="releases"}(y||(y={})),function(e){e.HIGH_TO_LOW="high_to_low",e.LOW_TO_HIGH="low_to_high"}(f||(f={}));const x={[f.HIGH_TO_LOW]:(0,l.t)("High to low"),[f.LOW_TO_HIGH]:(0,l.t)("Low to high")},v={[c.FO.AREA]:(0,l.t)("Area Chart"),[c.FO.BAR]:(0,l.t)("Bar Chart"),[c.FO.LINE]:(0,l.t)("Line Chart"),[c.FO.TABLE]:(0,l.t)("Table"),[c.FO.WORLD_MAP]:(0,l.t)("World Map"),[c.FO.BIG_NUMBER]:(0,l.t)("Big Number")};function w(e,t){return Object.keys(e).forEach((s=>{const r=e[s];"string"!=typeof r?Array.isArray(r)&&"string"==typeof r[0]?t[s]=r[0]:Array.isArray(r)&&"object"==typeof r[0]?t[s]=r.map((e=>w(e,{}))):t[s]=w(r,{}):t[s]=r})),t}const Z=e=>{let{aggregates:t,columns:s,widgetType:r}=e;const i=r===c.l9.RELEASE,o=[];let a=0;return(i?[...t.map(u.hr),...s]:[...t,...s]).filter((e=>!!e)).filter((e=>!g.d2.includes(e))).filter((e=>!i||!g.aE.includes(e))).forEach((e=>{let t;const s=(0,u.bQ)(e);(0,u.GO)(e)&&(t=`equation[${a}]`,a+=1),o.push({label:s,value:t??e})})),o};function S(e){let{displayType:t,queries:s,widgetType:r}=e;const o=O(t),n=[c.FO.TABLE,c.FO.TOP_N].includes(t);if(s=i()(s),[c.FO.TABLE,c.FO.WORLD_MAP,c.FO.BIG_NUMBER].includes(t)?s=s.slice(0,1):o&&(s=s.slice(0,3)),s=s.map((e=>{const{fields:i=[],columns:o}=e;if(e.fields=n?[...new Set([...i,...o])]:i.filter((e=>!o.includes(e))),O(t)&&!e.columns.filter((e=>!!e)).length)return e.orderby="",e;const a=r===c.l9.RELEASE?(0,u.hr)(s[0].orderby):s[0].orderby,l=d()(a,"-"),g=!(n&&(0,u.GO)(l)||!(0,u.GO)(l)&&!(0,u.uI)(l)&&![...e.columns,...e.aggregates].includes(l)||(0,u.uI)(l)&&(0,u.G5)(l)>(0,m.yd)([...e.columns,...e.aggregates])-1)&&d()(a,"-")||(r===c.l9.ISSUE?a??p.qh.DATE:Z({widgetType:r??c.l9.DISCOVER,columns:s[0].columns,aggregates:s[0].aggregates})[0]?.value);if(!g)return e.orderby="",e;const h=!e.orderby||r!==c.l9.ISSUE&&a.startsWith("-");return e.orderby=h?`-${String(g)}`:String(g),e})),n)return s;if(s=s.map((e=>{let s=e.aggregates;return(o||t===c.FO.WORLD_MAP)&&(s=s.filter((e=>(0,u.HW)((0,u.Px)(e))))),o&&s.length&&s.length>3&&(s=s.slice(0,3)),{...e,fields:s.length?s:["count()"],columns:e.columns?e.columns:[],aggregates:s.length?s:["count()"]}})),o){const e=[...s[0].aggregates];e:for(const t of s){if(e.length>=3)break;if(!a()(e,t.aggregates))for(const s of t.aggregates){if(e.length>=3)break e;e.includes(s)||e.push(s)}}s=s.map((t=>({...t,columns:t.columns?t.columns:[],aggregates:e,fields:e})))}return[c.FO.WORLD_MAP,c.FO.BIG_NUMBER].includes(t)&&(s=s.map((e=>({...e,fields:e.aggregates.slice(0,1),aggregates:e.aggregates.slice(0,1),orderby:"",columns:[]})))),s}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=new URLSearchParams(e),s=Object.fromEntries(t.entries());if(!Object.keys(s).length)return;const r=s.columns?j(s.columns):[],i=s.aggregates?j(s.aggregates):[],o=[...r,...i];return{...s,fields:o,columns:r,aggregates:i}}function j(e){return e.split(/,(?![^(]*\))/g)}const _=5,C=250;function D(e,t){return 0===e||0===t?h:Math.floor(10/(e*t))}function O(e){return[c.FO.LINE,c.FO.AREA,c.FO.BAR].includes(e)}},"./app/views/dashboards/widgetCard/chart.tsx":(e,t,s)=>{s.d(t,{R:()=>I,Z:()=>L});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),n=s("../node_modules/lodash/isEqual.js"),d=s.n(n),l=s("../node_modules/lodash/omit.js"),u=s.n(l),c=s("./app/components/charts/areaChart.tsx"),p=s("./app/components/charts/barChart.tsx"),m=s("./app/components/charts/chartZoom.tsx"),g=s("./app/components/charts/errorPanel.tsx"),h=s("./app/components/charts/lineChart.tsx"),b=s("./app/components/charts/simpleTableChart.tsx"),y=s("./app/components/charts/transitionChart.tsx"),f=s("./app/components/charts/transparentLoadingMask.tsx"),x=s("./app/components/charts/utils.tsx"),v=s("./app/components/charts/worldMapChart.tsx"),w=s("./app/components/loadingIndicator.tsx"),Z=s("./app/components/placeholder.tsx"),S=s("./app/components/tooltip.tsx"),E=s("./app/icons/index.tsx"),j=s("./app/styles/space.tsx"),_=s("./app/utils/discover/charts.tsx"),C=s("./app/utils/discover/fieldRenderers.tsx"),D=s("./app/utils/discover/fields.tsx"),O=s("./app/utils/getDynamicText.tsx"),T=s("./app/views/dashboards/utils.tsx"),R=s("./app/views/dashboards/datasetConfig/base.tsx"),F=s("./app/views/dashboards/types.tsx"),M=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const I=60;class k extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{containerHeight:0})}shouldComponentUpdate(e,t){if(this.props.widget.displayType===F.FO.BIG_NUMBER&&e.widget.displayType===F.FO.BIG_NUMBER&&(this.props.windowWidth!==e.windowWidth||!d()(this.props.widget?.layout,e.widget?.layout)))return!0;const s={...u()(this.props,["windowWidth"]),widget:{...this.props.widget,title:""}};return e={...u()(e,["windowWidth"]),widget:{...e.widget,title:""}},!d()(s,e)||!d()(this.state,t)}tableResultComponent(e){let{loading:t,errorMessage:s,tableResults:r}=e;const{location:i,widget:o,organization:a,selection:n}=this.props;if(s)return(0,M.tZ)($,{children:(0,M.tZ)(E.FC,{color:"gray500",size:"lg"})});if(void 0===r)return(0,M.tZ)(z,{});const d=(0,R.v)(o.widgetType);return r.map(((e,s)=>{const l=o.queries[s]?.fields?.map(D.hr)??[],u=o.queries[s]?.fieldAliases??[],c=(0,T.tT)(o.title,o.queries[0],n,o.displayType);return(0,M.tZ)(W,{eventView:c,fieldAliases:u,location:i,fields:l,title:r.length>1?e.title:"",loading:t,loader:(0,M.tZ)(z,{}),metadata:e.meta,data:e.data,organization:a,stickyHeaders:!0,getCustomFieldRenderer:d.getCustomFieldRenderer},`table:${e.title}`)}))}bigNumberComponent(e){let{loading:t,errorMessage:s,tableResults:r}=e;if(s)return(0,M.tZ)($,{children:(0,M.tZ)(E.FC,{color:"gray500",size:"lg"})});if(void 0===r||t)return(0,M.tZ)(B,{children:""});const{containerHeight:i}=this.state,{location:o,organization:a,widget:n,isMobile:d,expandNumbers:l}=this.props;return r.map((e=>{const t={...e.meta},s=Object.keys(t)[0],r=!!l&&"integer"===t[s];if(r&&(t[s]="string"),!s||!e.data?.length)return(0,M.tZ)(B,{children:""},`big_number:${e.title}`);const u=e.data[0],c=(0,C.fK)(s,t,!1),p=t.units?.[s],m=c(r?{[s]:u[s].toLocaleString()}:u,{location:o,organization:a,unit:p});if(!n.id&&!n.tempId||d)return(0,M.tZ)(B,{children:m},`big_number:${e.title}`);const g=l?`max(min(8vw, 90px), ${(0,j.D)(4)})`:i-parseInt((0,j.D)(1),10)-parseInt((0,j.D)(3),10);return(0,M.tZ)(B,{style:{fontSize:g,...l?{padding:`${(0,j.D)(1)} ${(0,j.D)(3)} 0 ${(0,j.D)(3)}`}:{}},children:(0,M.tZ)(S.u,{title:m,showOnlyOnOverflow:!0,children:m})},`big_number:${e.title}`)}))}chartComponent(e){const{widget:t}=this.props,s=t.queries[0]?.columns.length>0;switch(t.displayType){case"bar":return(0,M.tZ)(p.v,{...e,stacked:s});case"area":case"top_n":return(0,M.tZ)(c.T,{stacked:!0,...e});case"world_map":return(0,M.tZ)(v.y,{...e});default:return(0,M.tZ)(h.w,{...e})}}render(){const{theme:e,tableResults:t,timeseriesResults:s,errorMessage:r,loading:i,widget:o,onZoom:a,legendOptions:n,expandNumbers:d,showSlider:l,noPadding:u,chartZoomOptions:c,timeseriesResultsTypes:p}=this.props;if("table"===o.displayType)return(0,O.Z)({value:(0,M.BX)(y.Z,{loading:i,reloading:i,children:[(0,M.tZ)(q,{loading:i}),this.tableResultComponent({tableResults:t,loading:i,errorMessage:r})]}),fixed:(0,M.tZ)(Z.Z,{height:"200px",testId:"skeleton-ui"})});if("big_number"===o.displayType)return(0,M.BX)(y.Z,{loading:i,reloading:i,children:[(0,M.tZ)(q,{loading:i}),(0,M.tZ)(P,{ref:e=>{if(null!==e&&!d){const{height:t}=e.getBoundingClientRect();t!==this.state.containerHeight&&this.setState({containerHeight:t})}},children:this.bigNumberComponent({tableResults:t,loading:i,errorMessage:r})})]});if(r)return(0,M.tZ)($,{children:(0,M.tZ)(E.FC,{color:"gray500",size:"lg"})});const{location:g,router:h,selection:b,onLegendSelectChanged:f}=this.props,{start:v,end:w,period:S,utc:j}=b.datetime,C=Boolean(o.id||o.tempId);if("world_map"===o.displayType){const{data:e,title:s}=(0,x.JT)(t),r=[{seriesName:s,data:e}];return(0,M.BX)(y.Z,{loading:i,reloading:i,children:[(0,M.tZ)(q,{loading:i}),(0,M.tZ)(N,{autoHeightResize:C,children:(0,O.Z)({value:this.chartComponent({series:r,autoHeightResize:C}),fixed:(0,M.tZ)(Z.Z,{height:"200px",testId:"skeleton-ui"})})})]})}const T={left:0,top:0,selected:(0,x.RI)(g),formatter:e=>{const t=(0,D.hW)(e);if(null!==t){const s=(0,D.b8)(t);null!==s&&(e=s.toUpperCase())}return(0,D.by)(e)&&(e=(0,D.bQ)(e)),e},...n},R=o.queries[0]?.aggregates?.[0]??"count()",F=(0,D.GO)(R)?(0,D.vp)(R):R,k={autoHeightResize:C,grid:{left:0,right:4,top:"40px",bottom:l?I:0},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,t)=>{const s=t?.split(":").pop()?.trim();return s?p?(0,_.CX)(e,p[s]):(0,_.CX)(e,(0,D.Px)(s)):(0,_.CX)(e,"number")}},yAxis:{axisLabel:{color:e.chartLabel,formatter:e=>{if(p){const t=1===new Set(Object.values(p)).size?p[F]:"number";return(0,_.x1)(e,t)}return(0,_.gu)(e,(0,D.Px)(F))}}}};return(0,M.tZ)(m.Z,{router:h,period:S,start:v,end:w,utc:j,showSlider:l,chartZoomOptions:c,children:t=>{if(r)return(0,M.tZ)($,{children:(0,M.tZ)(E.FC,{color:"gray500",size:"lg"})});const o=new RegExp("(?:.* : Other$)|^Other$"),n=s?.some((e=>{let{seriesName:t}=e;return t&&t.match(o)})),d=s?e.charts.getColorPalette(s.length-(n?3:2)):[];n&&(d[d.length]=e.chartOther);const l=s?s.map(((e,t)=>{let s="";return void 0!==e.seriesName&&(s=(0,D.GO)(e.seriesName)?(0,D.vp)(e.seriesName):e.seriesName),{...e,seriesName:s,color:d[t]}})):[],c=l[0]?.data[0]?.name,p=l[0]?.data[l[0].data.length-1]?.name;return(0,M.BX)(y.Z,{loading:i,reloading:i,children:[(0,M.tZ)(q,{loading:i}),(0,M.tZ)(N,{autoHeightResize:C,noPadding:u,children:(0,O.Z)({value:this.chartComponent({...t,...k,...a?{onDataZoom:(e,t)=>a({...e,seriesStart:c,seriesEnd:p},t)}:{},legend:T,series:l,onLegendSelectChanged:f}),fixed:(0,M.tZ)(Z.Z,{height:"200px",testId:"skeleton-ui"})})})]})}})}}k.displayName="WidgetCardChart";const L=(0,a.b)(k),A=(0,i.Z)((e=>(0,M.tZ)(f.Z,{...e,maskBackgroundColor:"transparent"})),{target:"e1p214r6"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),q=e=>{let{loading:t}=e;return t?(0,M.tZ)(A,{visible:t,children:(0,M.tZ)(w.Z,{mini:!0})}):null};q.displayName="LoadingScreen";const z=(0,i.Z)((e=>{let{className:t}=e;return(0,M.tZ)(Z.Z,{height:"200px",className:t})}),{target:"e1p214r5"})("background-color:",(e=>e.theme.surface300),";"),P=(0,i.Z)("div",{target:"e1p214r4"})({name:"af8mp8",styles:"height:100%;width:100%;overflow:hidden"}),B=(0,i.Z)("div",{target:"e1p214r3"})("line-height:1;display:inline-flex;flex:1;width:100%;min-height:0;font-size:32px;color:",(e=>e.theme.headingColor),";padding:",(0,j.D)(1)," ",(0,j.D)(3)," ",(0,j.D)(3)," ",(0,j.D)(3),";*{text-align:left!important;}"),N=(0,i.Z)("div",{target:"e1p214r2"})((e=>e.autoHeightResize&&"height: 100%;")," padding:",(e=>e.noPadding?"0":`0 ${(0,j.D)(3)} ${(0,j.D)(3)}`),";"),W=(0,i.Z)(b.Z,{target:"e1p214r1"})("margin-top:",(0,j.D)(1.5),";border-bottom-left-radius:",(e=>e.theme.borderRadius),";border-bottom-right-radius:",(e=>e.theme.borderRadius),";font-size:",(e=>e.theme.fontSizeMedium),";box-shadow:none;"),$=(0,i.Z)(g.Z,{target:"e1p214r0"})("padding:",(0,j.D)(2),";")},"./app/views/dashboards/widgetCard/dashboardsMEPContext.tsx":(e,t,s)=>{s.d(t,{HH:()=>d,KC:()=>u,XA:()=>n,k:()=>l});var r=s("../node_modules/react/index.js"),i=s("./app/utils/performance/contexts/utils.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[a,n,d]=(0,i.n)({name:"DashboardsMEPContext"}),l=d.Consumer;function u(e){let{children:t}=e;const[s,i]=(0,r.useState)(void 0);return(0,o.tZ)(a,{value:{isMetricsData:s,setIsMetricsData:i},children:t})}u.displayName="DashboardsMEPProvider"},"./app/views/dashboards/widgetCard/genericWidgetQueries.tsx":(e,t,s)=>{s.d(t,{Z:()=>y});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("../node_modules/lodash/cloneDeep.js"),a=s.n(o),n=s("../node_modules/lodash/isEqual.js"),d=s.n(n),l=s("../node_modules/lodash/omit.js"),u=s.n(l),c=s("./app/components/organizations/pageFilters/utils.tsx"),p=s("./app/locale.tsx"),m=s("./app/views/dashboards/utils.tsx"),g=s("./app/views/dashboards/types.tsx");function h(e){let t="";return t=e===g.FO.TABLE?"api.dashboards.tablewidget":e===g.FO.BIG_NUMBER?"api.dashboards.bignumberwidget":e===g.FO.WORLD_MAP?"api.dashboards.worldmapwidget":`api.dashboards.widget.${e}-chart`,t}class b extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{loading:!0,queryFetchID:void 0,errorMessage:void 0,timeseriesResults:void 0,rawResults:void 0,tableResults:void 0,pageLinks:void 0,timeseriesResultsTypes:void 0}),(0,r.Z)(this,"_isMounted",!1)}componentDidMount(){this._isMounted=!0,this.props.loading||this.fetchData()}componentDidUpdate(e){const{selection:t,widget:s,cursor:r,organization:i,config:o,customDidUpdateComparator:a}=this.props,[n,l]=e.widget.queries.map((e=>(e.aggregates=e.aggregates.filter((e=>!!e)),e.columns=e.columns.filter((e=>!!e)),e))).reduce(((e,t)=>{let[s,r]=e,{name:i,...o}=t;return s.push(i),o.fields=o.fields?.filter((e=>!!e))??[],o=u()(o,"fieldAliases"),r.push(o),[s,r]}),[[],[]]),[p,m]=s.queries.map((e=>(e.aggregates=e.aggregates.filter((e=>!!e&&"equation|"!==e)),e.columns=e.columns.filter((e=>!!e&&"equation|"!==e)),e))).reduce(((e,t)=>{let[s,r]=e,{name:i,...o}=t;return s.push(i),o.fields=o.fields?.filter((e=>!!e))??[],o=u()(o,"fieldAliases"),r.push(o),[s,r]}),[[],[]]);(a?!a(e,this.props):s.limit===e.widget.limit&&d()(s.displayType,e.widget.displayType)&&d()(s.interval,e.widget.interval)&&d()(new Set(m),new Set(l))&&d()(this.props.dashboardFilters,e.dashboardFilters)&&(0,c.WO)(t,e.selection)&&r===e.cursor)?this.state.loading||d()(n,p)||this.state.rawResults?.length!==s.queries.length||this.setState((e=>{const t=s.queries.reduce(((t,s,r)=>t.concat(o.transformSeries(e.rawResults[r],s,i))),[]);return{...e,timeseriesResults:t}})):this.fetchData()}componentWillUnmount(){this._isMounted=!1}applyDashboardFilters(e){const{dashboardFilters:t}=this.props,s=(0,m.DF)(t);return e.queries.forEach((e=>{e.conditions=e.conditions+(""===s?"":` ${s}`)})),e}async fetchTableData(e){const{widget:t,limit:s,config:r,api:i,organization:o,selection:n,cursor:d,afterFetchTableData:l,onDataFetched:u,mepSetting:c}=this.props,m=this.applyDashboardFilters(a()(t)),b=await Promise.all(m.queries.map((e=>{let t=s??g.$V,a=r.getTableRequest;if(m.displayType===g.FO.WORLD_MAP&&(t=void 0,a=r.getWorldMapRequest),!a)throw new Error((0,p.t)("This display type is not supported by the selected dataset."));return a(i,e,o,n,t,d,h(m.displayType),c)})));let y,f,x=[];b.forEach(((e,t)=>{let[s,i,a]=e;f=l?.(s,a)??{};const d=r.transformTable(s,m.queries[0],o,n);d.title=m.queries[t]?.name??"",x=[...x,d],y=(a?.getResponseHeader("Link")||a?.getResponseHeader("link"))??void 0})),this._isMounted&&this.state.queryFetchID===e&&(u?.({tableResults:x,pageLinks:y,...f}),this.setState({tableResults:x,pageLinks:y}))}async fetchSeriesData(e){const{widget:t,config:s,api:r,organization:i,selection:o,afterFetchSeriesData:n,onDataFetched:d,mepSetting:l}=this.props,u=this.applyDashboardFilters(a()(t)),c=await Promise.all(u.queries.map(((e,t)=>s.getSeriesRequest(r,u,t,i,o,h(u.displayType),l)))),p=a()(this.state.rawResults)??[],m=[];c.forEach(((e,t)=>{let[r]=e;n?.(r),p[t]=r;const o=s.transformSeries(r,u.queries[t],i);o.forEach(((e,s)=>{m[t*o.length+s]=e}))}));const g=s.getSeriesResultType?.(c[0][0],u.queries[0]);this._isMounted&&this.state.queryFetchID===e&&(d?.({timeseriesResults:m,timeseriesResultsTypes:g}),this.setState({timeseriesResults:m,rawResults:p,timeseriesResultsTypes:g}))}async fetchData(){const{widget:e}=this.props,t=Symbol("queryFetchID");this.setState({loading:!0,tableResults:void 0,timeseriesResults:void 0,errorMessage:void 0,queryFetchID:t});try{[g.FO.TABLE,g.FO.BIG_NUMBER,g.FO.WORLD_MAP].includes(e.displayType)?await this.fetchTableData(t):await this.fetchSeriesData(t)}catch(e){this._isMounted&&this.setState({errorMessage:e?.responseJSON?.detail||e?.message||(0,p.t)("An unknown error occurred.")})}finally{this._isMounted&&this.setState({loading:!1})}}render(){const{children:e}=this.props,{loading:t,tableResults:s,timeseriesResults:r,errorMessage:i,pageLinks:o,timeseriesResultsTypes:a}=this.state;return e({loading:t,tableResults:s,timeseriesResults:r,errorMessage:i,pageLinks:o,timeseriesResultsTypes:a})}}b.displayName="GenericWidgetQueries";const y=b},"./app/views/dashboards/widgetCard/index.tsx":(e,t,s)=>{s.d(t,{f0:()=>Q,_:()=>J,ZP:()=>X});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),a=s("../node_modules/react-lazyload/lib/index.js"),n=s("./app/components/alert.tsx"),d=s("./app/components/button.tsx"),l=s("./app/components/charts/errorPanel.tsx"),u=s("./app/components/charts/styles.tsx"),c=s("./app/components/errorBoundary.tsx"),p=s("./app/components/links/externalLink.tsx"),m=s("./app/components/panels/index.tsx"),g=s("./app/components/placeholder.tsx"),h=s("./app/components/searchSyntax/parser.tsx"),b=s("./app/components/tooltip.tsx"),y=s("./app/icons/index.tsx"),f=s("./app/locale.tsx"),x=s("./app/styles/space.tsx"),v=s("./app/utils/dates.tsx"),w=s("./app/utils/discover/fields.tsx"),Z=s("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),S=s("./app/utils/withApi.tsx"),E=s("./app/utils/withOrganization.tsx"),j=s("./app/utils/withPageFilters.tsx"),_=s("./app/utils/withSentryRouter.tsx"),C=s("./app/views/dashboards/dashboard.tsx"),D=s("./app/views/dashboards/types.tsx"),O=s("./app/views/dashboards/widgetBuilder/utils.tsx"),T=s("./app/views/dashboards/widgetCard/dashboardsMEPContext.tsx"),R=s("./app/views/dashboards/widgetCard/widgetCardChartContainer.tsx"),F=(s("../node_modules/core-js/modules/es.array.push.js"),s("./app/actionCreators/modal.tsx")),M=s("./app/components/confirm.tsx"),I=s("./app/components/dropdownMenu/index.tsx"),k=s("./app/components/modals/widgetViewerModal/utils.tsx"),L=s("./app/components/tag.tsx"),A=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),q=s("./app/views/dashboards/utils.tsx"),z=s("./app/views/dashboards/widgetViewer/widgetViewerContext.tsx"),P=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function B(e){let{organization:t,selection:s,widget:r,widgetLimitReached:i,onDelete:o,onDuplicate:a,onEdit:n,showContextMenu:l,isPreview:u,router:c,location:p,index:m,seriesData:g,tableData:h,pageLinks:b,totalIssuesCount:x,seriesResultsType:v}=e;const{isMetricsData:w}=(0,T.XA)();if(!l)return null;const S=[],E=[],j=e=>{(0,k.X)(p.pathname)||c.push({pathname:`${p.pathname}${p.pathname.endsWith("/")?"":"/"}widget/${e}/`,query:p.query})};if(u)return(0,P.tZ)(z.M.Consumer,{children:e=>{let{setData:s}=e;return(0,P.tZ)(Z.nP,{children:e=>(0,P.BX)(W,{children:[!t.features.includes("performance-mep-bannerless-ui")&&(t.features.includes("dashboards-mep")||t.features.includes("mep-rollout-flag"))&&!1===w&&e&&e.metricSettingState!==Z.oR.transactionsOnly&&(0,P.tZ)(U,{tooltipText:(0,f.t)("This widget is only applicable to indexed events."),children:(0,f.t)("Indexed")}),(0,P.tZ)($,{items:[{key:"preview",label:(0,f.t)("This is a preview only. To edit, you must add this dashboard.")}],triggerProps:{"aria-label":(0,f.t)("Widget actions"),size:"xs",borderless:!0,showChevron:!1,icon:(0,P.tZ)(y.YR,{direction:"down",size:"sm"})},position:"bottom-end",disabledKeys:[...E,"preview"]}),(0,P.tZ)(d.zx,{"aria-label":(0,f.t)("Open Widget Viewer"),borderless:!0,size:"xs",icon:(0,P.tZ)(y.qp,{size:"xs"}),onClick:()=>{(g||h)&&s({seriesData:g,tableData:h,pageLinks:b,totalIssuesCount:x,seriesResultsType:v}),j(m)}})]})})}});if(t.features.includes("discover-basic")&&r.widgetType===D.l9.DISCOVER&&r.queries.length){const e=(0,q.z1)(r,s,t,0,w);S.push({key:"open-in-discover",label:(0,f.t)("Open in Discover"),to:1===r.queries.length?e:void 0,onAction:()=>{1!==r.queries.length?((0,A.Z)("dashboards_views.query_selector.opened",{organization:t,widget_type:r.displayType}),(0,F.openDashboardWidgetQuerySelectorModal)({organization:t,widget:r,isMetricsData:w})):(0,A.Z)("dashboards_views.open_in_discover.opened",{organization:t,widget_type:r.displayType})}})}if(r.widgetType===D.l9.ISSUE){const e=(0,q.hS)(r,s,t);S.push({key:"open-in-issues",label:(0,f.t)("Open in Issues"),to:e})}return t.features.includes("dashboards-edit")&&(S.push({key:"duplicate-widget",label:(0,f.t)("Duplicate Widget"),onAction:()=>a?.()}),i&&E.push("duplicate-widget"),S.push({key:"edit-widget",label:(0,f.t)("Edit Widget"),onAction:()=>n?.()}),S.push({key:"delete-widget",label:(0,f.t)("Delete Widget"),priority:"danger",onAction:()=>{(0,M._)({message:(0,f.t)("Are you sure you want to delete this widget?"),priority:"danger",onConfirm:()=>o?.()})}})),S.length?(0,P.tZ)(z.M.Consumer,{children:e=>{let{setData:s}=e;return(0,P.tZ)(Z.nP,{children:e=>(0,P.BX)(W,{children:[!t.features.includes("performance-mep-bannerless-ui")&&(t.features.includes("dashboards-mep")||t.features.includes("mep-rollout-flag"))&&!1===w&&e&&e.metricSettingState!==Z.oR.transactionsOnly&&(0,P.tZ)(U,{tooltipText:(0,f.t)("This widget is only applicable to indexed events."),children:(0,f.t)("Indexed")}),(0,P.tZ)($,{items:S,triggerProps:{"aria-label":(0,f.t)("Widget actions"),size:"xs",borderless:!0,showChevron:!1,icon:(0,P.tZ)(y.YR,{direction:"down",size:"sm"})},position:"bottom-end",disabledKeys:[...E]}),(0,P.tZ)(d.zx,{"aria-label":(0,f.t)("Open Widget Viewer"),borderless:!0,size:"xs",icon:(0,P.tZ)(y.qp,{size:"xs"}),onClick:()=>{s({seriesData:g,tableData:h,pageLinks:b,totalIssuesCount:x,seriesResultsType:v}),j(r.id??m)}})]})})}}):null}B.displayName="WidgetCardContextMenu";const N=B,W=(0,i.Z)("div",{target:"ec9t0g62"})("display:flex;align-items:center;height:",(0,x.D)(3),";margin-left:",(0,x.D)(1),";gap:",(0,x.D)(.25),";"),$=(0,i.Z)(I.h,{target:"ec9t0g61"})({name:"1vt4q1p",styles:"display:flex;&>button{z-index:auto;}"}),U=(0,i.Z)(L.Z,{target:"ec9t0g60"})("margin-right:",(0,x.D)(.5),";"),H=new Date("2023-01-12"),Q=(0,P.tZ)(m.aU,{type:"warning",children:(0,f.t)("session.duration is no longer being recorded as of %s. Data in this widget may be incomplete.",(0,v.L0)(H,"MMM D, YYYY"))}),G=["error.handled","error.unhandled","error.mechanism","error.type","error.value"];class V extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{}),(0,r.Z)(this,"setData",(e=>{let{tableResults:t,timeseriesResults:s,totalIssuesCount:r,pageLinks:i,timeseriesResultsTypes:o}=e;this.setState({seriesData:s,tableData:t,totalIssuesCount:r,pageLinks:i,seriesResultsType:o})}))}renderToolbar(){const{onEdit:e,onDelete:t,onDuplicate:s,draggableProps:r,hideToolbar:i,isEditing:o,isMobile:a}=this.props;return o?(0,P.tZ)(K,{children:(0,P.BX)(ee,{style:{visibility:i?"hidden":"visible"},children:[!a&&(0,P.tZ)(te,{size:"xs","aria-label":(0,f.t)("Drag Widget"),icon:(0,P.tZ)(y.LS,{}),borderless:!0,className:C.re,...r?.listeners,...r?.attributes}),(0,P.tZ)(d.zx,{"data-test-id":"widget-edit","aria-label":(0,f.t)("Edit Widget"),size:"xs",borderless:!0,onClick:e,icon:(0,P.tZ)(y.yl,{})}),(0,P.tZ)(d.zx,{"aria-label":(0,f.t)("Duplicate Widget"),size:"xs",borderless:!0,onClick:s,icon:(0,P.tZ)(y.vU,{})}),(0,P.tZ)(d.zx,{"data-test-id":"widget-delete","aria-label":(0,f.t)("Delete Widget"),borderless:!0,size:"xs",onClick:t,icon:(0,P.tZ)(y.Fz,{})})]})}):null}renderContextMenu(){const{widget:e,selection:t,organization:s,showContextMenu:r,isPreview:i,widgetLimitReached:o,onEdit:a,onDuplicate:n,onDelete:d,isEditing:l,router:u,location:c,index:p}=this.props,{seriesData:m,tableData:g,pageLinks:h,totalIssuesCount:b,seriesResultsType:y}=this.state;return l?null:(0,P.tZ)(N,{organization:s,widget:e,selection:t,showContextMenu:r,isPreview:i,widgetLimitReached:o,onDuplicate:n,onEdit:a,onDelete:d,router:u,location:c,index:p,seriesData:m,seriesResultsType:y,tableData:g,pageLinks:h,totalIssuesCount:b})}render(){const{api:e,organization:t,selection:s,widget:r,isMobile:i,renderErrorMessage:n,tableItemLimit:d,windowWidth:l,noLazyLoad:u,showStoredAlert:m,noDashboardsMEPProvider:g,dashboardFilters:x,isWidgetInvalid:v,location:S}=this.props;if(r.displayType===D.FO.TOP_N){const e=r.queries.map((e=>({...e,aggregates:e.aggregates.length?[e.aggregates[e.aggregates.length-1]]:[]})));r.queries=e,r.limit=O._k}const E=r.queries.some((e=>e.aggregates.some((e=>e.includes("session.duration"))))),j=r.queries.some((e=>{let{columns:t,aggregates:s,conditions:r}=e;return G.some((e=>t.includes(e)||s.some((t=>(0,w.dL)(t)?.arguments.includes(e)))||(0,h.UG)(r)?.some((t=>t.key?.value===e))))}));return(0,P.tZ)(c.Z,{customComponent:(0,P.tZ)(Y,{children:(0,f.t)("Error loading widget data")}),children:(_=(0,P.BX)(o.Fragment,{children:[(0,P.BX)(J,{isDragging:!1,children:[(0,P.BX)(re,{children:[(0,P.tZ)(b.u,{title:r.title,containerDisplayMode:"grid",showOnlyOnOverflow:!0,children:(0,P.tZ)(se,{children:r.title})}),this.renderContextMenu()]}),E&&Q,v?(0,P.BX)(o.Fragment,{children:[n?.("Widget query condition is invalid."),(0,P.tZ)(oe,{children:(0,P.tZ)(y.FC,{color:"gray500",size:"lg"})})]}):u?(0,P.tZ)(R.Z,{location:S,api:e,organization:t,selection:s,widget:r,isMobile:i,renderErrorMessage:n,tableItemLimit:d,windowWidth:l,onDataFetched:this.setData,dashboardFilters:x}):(0,P.tZ)(a.ZP,{once:!0,resize:!0,height:200,children:(0,P.tZ)(R.Z,{location:S,api:e,organization:t,selection:s,widget:r,isMobile:i,renderErrorMessage:n,tableItemLimit:d,windowWidth:l,onDataFetched:this.setData,dashboardFilters:x})}),this.renderToolbar()]}),!t.features.includes("performance-mep-bannerless-ui")&&(t.features.includes("dashboards-mep")||t.features.includes("mep-rollout-flag"))&&(0,P.tZ)(Z.nP,{children:e=>(0,P.tZ)(T.k,{children:t=>{let{isMetricsData:s}=t;return m&&!1===s&&r.widgetType===D.l9.DISCOVER&&e&&e.metricSettingState!==Z.oR.transactionsOnly&&!j?(0,P.tZ)(ie,{showIcon:!0,children:(0,f._N)("Your selection is only applicable to [indexedData: indexed event data]. We've automatically adjusted your results.",{indexedData:(0,P.tZ)(p.Z,{href:"https://docs.sentry.io/product/dashboards/widget-builder/#errors--transactions"})})}):null}})})]}),g?_:(0,P.tZ)(T.KC,{children:_}))});var _}}V.displayName="WidgetCard";const X=(0,S.Z)((0,E.Z)((0,j.Z)((0,_.Z)(V)))),Y=(0,i.Z)(g.Z,{target:"epl41xb8"})("display:flex;align-items:center;justify-content:center;background-color:",(e=>e.theme.alert.error.backgroundLight),";border:1px solid ",(e=>e.theme.alert.error.border),";color:",(e=>e.theme.alert.error.textLight),";border-radius:",(e=>e.theme.borderRadius),";margin-bottom:",(0,x.D)(2),";"),J=(0,i.Z)(m.s_,{shouldForwardProp:e=>"isDragging"!==e,target:"epl41xb7"})("margin:0;visibility:",(e=>e.isDragging?"hidden":"visible"),";height:100%;min-height:96px;display:flex;flex-direction:column;"),K=(0,i.Z)("div",{target:"epl41xb6"})("position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;display:flex;justify-content:flex-end;align-items:flex-start;background-color:",(e=>e.theme.overlayBackgroundAlpha),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px);"),ee=(0,i.Z)("div",{target:"epl41xb5"})("display:flex;margin:",(0,x.D)(1),";touch-action:none;"),te=(0,i.Z)(d.zx,{target:"epl41xb4"})({name:"1fgcczm",styles:"cursor:grab"}),se=(0,i.Z)(u.Gh,{target:"epl41xb3"})((e=>e.theme.overflowEllipsis),";font-weight:normal;"),re=(0,i.Z)("div",{target:"epl41xb2"})("padding:",(0,x.D)(2)," ",(0,x.D)(1)," 0 ",(0,x.D)(3),";min-height:36px;width:100%;display:flex;align-items:center;justify-content:space-between;"),ie=(0,i.Z)(n.bZ,{target:"epl41xb1"})("margin-top:",(0,x.D)(1),";margin-bottom:0;"),oe=(0,i.Z)(l.Z,{target:"epl41xb0"})("padding:",(0,x.D)(2),";")},"./app/views/dashboards/widgetCard/issueWidgetQueries.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/react/index.js"),i=s("./app/stores/memberListStore.tsx"),o=s("./app/utils/getDynamicText.tsx"),a=s("./app/views/dashboards/datasetConfig/issues.tsx"),n=s("./app/views/dashboards/widgetCard/genericWidgetQueries.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){let{children:t,api:s,organization:l,selection:u,widget:c,cursor:p,limit:m,dashboardFilters:g,onDataFetched:h}=e;const[b,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{y(i.Z.isLoaded());const e=i.Z.listen((()=>{y(i.Z.isLoaded())}),void 0);return()=>e()}),[]);const f=a.f;return(0,o.Z)({value:(0,d.tZ)(n.Z,{config:f,api:s,organization:l,selection:u,widget:c,cursor:p,limit:m,dashboardFilters:g,onDataFetched:h,afterFetchTableData:(e,t)=>({totalIssuesCount:t?.getResponseHeader("X-Hits")??void 0}),children:e=>{let{loading:s,...r}=e;return t({loading:s||!b,...r})}}),fixed:(0,d.tZ)("div",{})})}},"./app/views/dashboards/widgetCard/releaseWidgetQueries.tsx":(e,t,s)=>{s.d(t,{Vl:()=>_,ZP:()=>D,gp:()=>j,nD:()=>S});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),o=s("../node_modules/lodash/cloneDeep.js"),a=s.n(o),n=s("../node_modules/lodash/isEqual.js"),d=s.n(n),l=s("../node_modules/lodash/omit.js"),u=s.n(l),c=s("../node_modules/lodash/trimStart.js"),p=s.n(c),m=s("./app/actionCreators/indicator.tsx"),g=s("./app/components/organizations/pageFilters/utils.tsx"),h=s("./app/locale.tsx"),b=s("./app/utils/discover/fields.tsx"),y=s("./app/utils/discover/types.tsx"),f=s("./app/views/dashboards/datasetConfig/releases.tsx"),x=s("./app/views/dashboards/types.tsx"),v=s("./app/views/dashboards/widgetBuilder/releaseWidget/fields.tsx"),w=s("./app/views/dashboards/widgetCard/genericWidgetQueries.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(e){return v.Mg[e]??e}function E(e){let t="";const s=[];t+="release:["+e[0].version,s.push(e[0].version);for(let r=1;r<e.length;r++)t+=","+e[r].version,s.push(e[r].version);return t+="]",e.length<10?{releaseQueryString:t,releasesUsed:s}:e.length>10&&t.length>1500?E(e.slice(0,-10)):{releaseQueryString:t,releasesUsed:s}}function j(e,t,s){const r=e.map(b.hr),i=r.filter((e=>Object.values(v.Xg).includes(e))),o=[],a=p()(t,"-"),n=v.d2.includes(a)||s||"release"===a;return!a||n||e.includes(a)||o.includes(a)||o.push(a),s?(i.forEach((e=>{const t=e.match(v.$4);t&&("user"!==t[2]||r.includes("count_unique(user)")||(o.push("count_unique(user)"),r.push("count_unique(user)")),"session"!==t[2]||r.includes("sum(session)")||(o.push("sum(session)"),r.push("sum(session)")))})),{aggregates:r,derivedStatusFields:i,injectedFields:o}):{aggregates:r,derivedStatusFields:i,injectedFields:o}}function _(e){const t=!e.columns.includes("session.status"),s=p()(e.orderby,"-");return t&&"release"===s}class C extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{loading:!0,errorMessage:void 0,releases:void 0}),(0,r.Z)(this,"config",f.u$),(0,r.Z)(this,"_isMounted",!1),(0,r.Z)(this,"fetchReleases",(async()=>{this.setState({loading:!0,errorMessage:void 0});const{selection:e,api:t,organization:s}=this.props,{environments:r,projects:i}=e;try{const e=await t.requestPromise(`/organizations/${s.slug}/releases/`,{method:"GET",data:{sort:"date",project:i,per_page:50,environment:r}});if(!this._isMounted)return;this.setState({releases:e,loading:!1})}catch(e){if(!this._isMounted)return;const t=e.responseJSON?e.responseJSON.error:(0,h.t)("Error sorting by releases");this.setState({errorMessage:t,loading:!1}),(0,m.Iw)(t)}})),(0,r.Z)(this,"customDidUpdateComparator",((e,t)=>{const{loading:s,limit:r,widget:i,cursor:o,organization:a,selection:n,dashboardFilters:l}=t,c=["queries","title","id","layout","tempId","widgetType"],p=["name","fields","aggregates","columns"];return!(r===e.limit&&a.slug===e.organization.slug&&d()(l,e.dashboardFilters)&&(0,g.WO)(n,e.selection)&&d()(u()(i,c),u()(e.widget,c))&&d()(i.queries.map((e=>u()(e,p))),e.widget.queries.map((e=>u()(e,p))))&&d()(i.queries.flatMap((e=>e.fields?.filter((e=>!!e)))),e.widget.queries.flatMap((e=>e.fields?.filter((e=>!!e)))))&&d()(i.queries.flatMap((e=>e.aggregates.filter((e=>!!e)))),e.widget.queries.flatMap((e=>e.aggregates.filter((e=>!!e)))))&&d()(i.queries.flatMap((e=>e.columns.filter((e=>!!e)))),e.widget.queries.flatMap((e=>e.columns.filter((e=>!!e)))))&&s===e.loading&&o===e.cursor)})),(0,r.Z)(this,"transformWidget",(e=>{const{releases:t}=this.state,s=a()(e),r=_(s.queries[0]),i=s.queries[0].orderby.startsWith("-"),o=s.queries[0].columns.includes("session.status");let n="";const d=[];if(r&&(t&&1===t.length&&(n+=`release:${t[0].version}`,d.push(t[0].version)),t&&t.length>1)){const{releaseQueryString:e,releasesUsed:s}=E(t);n+=e,d.push(...s),i||d.reverse()}return o||s.queries.forEach((e=>{e.conditions=e.conditions+(""===n?"":` ${n}`)})),s})),(0,r.Z)(this,"afterFetchData",(e=>{const{widget:t}=this.props,{releases:s}=this.state,r=t.queries[0].orderby.startsWith("-"),i=[];if(_(t.queries[0])&&(s&&1===s.length&&i.push(s[0].version),s&&s.length>1)){const{releasesUsed:e}=E(s);i.push(...e),r||i.reverse()}i.length&&(e.groups.sort((function(e,t){const s=e.by.release,r=t.by.release;return i.indexOf(s)-i.indexOf(r)})),e.groups=e.groups.slice(0,this.limit))}))}componentDidMount(){this._isMounted=!0,_(this.props.widget.queries[0])&&this.fetchReleases()}componentWillUnmount(){this._isMounted=!1}get limit(){const{limit:e}=this.props;switch(this.props.widget.displayType){case x.FO.TOP_N:return y.hY;case x.FO.TABLE:return e??x.$V;case x.FO.BIG_NUMBER:return 1;default:return e??20}}render(){const{api:e,children:t,organization:s,selection:r,widget:i,cursor:o,dashboardFilters:a,onDataFetched:n}=this.props,d=f.u$;return(0,Z.tZ)(w.Z,{config:d,api:e,organization:s,selection:r,widget:this.transformWidget(i),dashboardFilters:a,cursor:o,limit:this.limit,onDataFetched:n,loading:_(i.queries[0])?!this.state.releases:void 0,customDidUpdateComparator:this.customDidUpdateComparator,afterFetchTableData:this.afterFetchData,afterFetchSeriesData:this.afterFetchData,children:e=>{let{errorMessage:s,...r}=e;return t({errorMessage:this.state.errorMessage??s,...r})}})}}C.displayName="ReleaseWidgetQueries";const D=C},"./app/views/dashboards/widgetCard/widgetCardChartContainer.tsx":(e,t,s)=>{s.d(t,{b:()=>C,Z:()=>D});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),o=s("./app/components/charts/transparentLoadingMask.tsx"),a=s("./app/components/loadingIndicator.tsx"),n=s("./app/utils/useLocation.tsx"),d=s("./app/utils/useRouter.tsx"),l=s("./app/views/dashboards/types.tsx"),u=s("./app/views/dashboards/widgetCard/chart.tsx"),c=s("./app/components/charts/errorPanel.tsx"),p=s("./app/components/charts/simpleTableChart.tsx"),m=s("./app/components/placeholder.tsx"),g=s("./app/icons/index.tsx"),h=s("./app/styles/space.tsx"),b=s("./app/utils.tsx"),y=s("./app/views/dashboards/utils.tsx"),f=s("./app/views/dashboards/datasetConfig/base.tsx"),x=s("./app/views/dashboards/widgetBuilder/issueWidget/fields.tsx"),v=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e){let{organization:t,selection:s,widget:r,errorMessage:i,loading:o,transformedResults:a,location:n}=e;const d=(0,f.v)(l.l9.ISSUE);if(i)return(0,v.tZ)(c.Z,{children:(0,v.tZ)(g.FC,{color:"gray500",size:"lg"})});if(o)return(0,v.tZ)(Z,{height:"200px"});const u=r.queries[0],p=(0,b.ri)(u.fields)?u.fields:[...u.columns,...u.aggregates],m=u.fieldAliases??[],h=(0,y.tT)(r.title,r.queries[0],s,r.displayType);return(0,v.tZ)(S,{location:n,title:"",eventView:h,fields:p,fieldAliases:m,loading:o,metadata:x.$L,data:a,organization:t,getCustomFieldRenderer:d.getCustomFieldRenderer,fieldHeaderMap:d.fieldHeaderMap,stickyHeaders:!0})}w.displayName="IssueWidgetCard";const Z=(0,r.Z)(m.Z,{target:"exqrcis1"})("background-color:",(e=>e.theme.surface300),";"),S=(0,r.Z)(p.Z,{target:"exqrcis0"})("margin-top:",(0,h.D)(1.5),";border-bottom-left-radius:",(e=>e.theme.borderRadius),";border-bottom-right-radius:",(e=>e.theme.borderRadius),";font-size:",(e=>e.theme.fontSizeMedium),";box-shadow:none;");var E=s("./app/views/dashboards/widgetCard/issueWidgetQueries.tsx"),j=s("./app/views/dashboards/widgetCard/releaseWidgetQueries.tsx"),_=s("./app/views/dashboards/widgetCard/widgetQueries.tsx");function C(e){let{api:t,organization:s,selection:r,widget:o,dashboardFilters:a,isMobile:c,renderErrorMessage:p,tableItemLimit:m,windowWidth:g,onZoom:h,onLegendSelectChanged:b,legendOptions:y,expandNumbers:f,onDataFetched:x,showSlider:Z,noPadding:S,chartZoomOptions:C}=e;const D=(0,n.T)(),O=(0,d.Z)();return o.widgetType===l.l9.ISSUE?(0,v.tZ)(E.Z,{api:t,organization:s,widget:o,selection:r,limit:m,onDataFetched:x,dashboardFilters:a,children:e=>{let{tableResults:t,errorMessage:a,loading:n}=e;return(0,v.BX)(i.Fragment,{children:["function"==typeof p?p(a):null,(0,v.tZ)(T,{loading:n}),(0,v.tZ)(w,{transformedResults:t?.[0].data??[],loading:n,errorMessage:a,widget:o,organization:s,location:D,selection:r})]})}}):o.widgetType===l.l9.RELEASE?(0,v.tZ)(j.ZP,{api:t,organization:s,widget:o,selection:r,limit:o.limit??m,onDataFetched:x,dashboardFilters:a,children:e=>{let{tableResults:t,timeseriesResults:a,errorMessage:n,loading:d}=e;return(0,v.BX)(i.Fragment,{children:["function"==typeof p?p(n):null,(0,v.tZ)(u.Z,{timeseriesResults:a,tableResults:t,errorMessage:n,loading:d,location:D,widget:o,selection:r,router:O,organization:s,isMobile:c,windowWidth:g,expandNumbers:f,onZoom:h,showSlider:Z,noPadding:S,chartZoomOptions:C})]})}}):(0,v.tZ)(_.ZP,{api:t,organization:s,widget:o,selection:r,limit:m,onDataFetched:x,dashboardFilters:a,children:e=>{let{tableResults:t,timeseriesResults:a,errorMessage:n,loading:d,timeseriesResultsTypes:l}=e;return(0,v.BX)(i.Fragment,{children:["function"==typeof p?p(n):null,(0,v.tZ)(u.Z,{timeseriesResults:a,tableResults:t,errorMessage:n,loading:d,location:D,widget:o,selection:r,router:O,organization:s,isMobile:c,windowWidth:g,onZoom:h,onLegendSelectChanged:b,legendOptions:y,expandNumbers:f,showSlider:Z,noPadding:S,chartZoomOptions:C,timeseriesResultsTypes:l})]})}})}C.displayName="WidgetCardChartContainer";const D=C,O=(0,r.Z)((e=>(0,v.tZ)(o.Z,{...e,maskBackgroundColor:"transparent"})),{target:"e176tkw80"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),T=e=>{let{loading:t}=e;return t?(0,v.tZ)(O,{visible:t,children:(0,v.tZ)(a.Z,{mini:!0})}):null};T.displayName="LoadingScreen"},"./app/views/dashboards/widgetCard/widgetQueries.tsx":(e,t,s)=>{s.d(t,{FN:()=>m,ZP:()=>b,vD:()=>g}),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/react/index.js"),i=s("../node_modules/lodash/omit.js"),o=s.n(i),a=(s("./app/components/charts/utils.tsx"),s("./app/utils/discover/fieldRenderers.tsx")),n=s("./app/utils/discover/fields.tsx"),d=s("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),l=s("./app/views/dashboards/datasetConfig/errorsAndTransactions.tsx"),u=s("./app/views/dashboards/widgetCard/dashboardsMEPContext.tsx"),c=s("./app/views/dashboards/widgetCard/genericWidgetQueries.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e,t,s){const r=e.meta?.units?.[(0,n.LY)(s)],i=(r&&(a.a_[r]??a.en[r]))??1;return{seriesName:t,data:e?.data?.map((e=>{let[t,s]=e;return{name:1e3*t,value:s.reduce(((e,t)=>{let{count:s}=t;return e+s}),0)*i}}))??[]}}function g(e,t){const s=[];return Object.keys(e).forEach((r=>{Object.keys(o()(e[r],"order")).forEach((i=>{const o=`${r} : ${i}`,a=t?`${t} > ${o}`:o,n=e[r][i];s.push([e[r].order||0,m(n,a,o)])}))})),s}function h(e){let{api:t,children:s,organization:i,selection:o,widget:a,dashboardFilters:n,cursor:m,limit:g,onDataFetched:h}=e;const b=l.g,y=(0,r.useContext)(u.HH),f=(0,d.Eg)();let x;y&&(x=y.setIsMetricsData);const v=[],w=[];return(0,p.tZ)(c.Z,{config:b,api:t,organization:i,selection:o,widget:a,cursor:m,limit:g,dashboardFilters:n,onDataFetched:h,afterFetchSeriesData:e=>{e.data?void 0!==e.isMetricsData&&v.push(e.isMetricsData):Object.keys(e).forEach((t=>{const s=e[t];void 0!==s.isMetricsData&&v.push(s.isMetricsData)})),x?.(!v.includes(!1))},afterFetchTableData:e=>{void 0!==e.meta?.isMetricsData&&w.push(e.meta.isMetricsData),x?.(!w.includes(!1))},mepSetting:f.metricSettingState,children:s})}h.displayName="WidgetQueries";const b=h},"./app/views/dashboards/widgetViewer/widgetViewerContext.tsx":(e,t,s)=>{s.d(t,{M:()=>r});const r=(0,s("../node_modules/react/index.js").createContext)({setData:()=>{}})},"./app/views/discover/table/topResultsIndicator.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"ex85xd30"})("position:absolute;left:-1px;margin-top:4.5px;width:9px;height:15px;border-radius:0 3px 3px 0;background-color:",(e=>e.theme.charts.getColorPalette(e.count-2)[e.index]),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_dashboards_dashboard_tsx.248640a0932428ac5adba91c886ea9ed.js.map