(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_vitalDetail_index_tsx"],{"./app/components/charts/chartZoom.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>v});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),n=s("../node_modules/moment/moment.js"),a=s.n(n),i=s("../node_modules/query-string/index.js"),l=s("./app/actionCreators/pageFilters.tsx"),d=s("./app/components/charts/components/dataZoomInside.tsx");s("../node_modules/echarts/lib/component/dataZoomSlider.js");const c={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function p(e){return e&&Array.isArray(e)?e:[{...c,...e}]}var u=s("./app/components/charts/components/toolBox.tsx"),m=s("./app/utils/callIfFunction.tsx"),h=s("./app/utils/dates.tsx");const g=e=>e?a().utc(e).format(a().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class S extends o.Component{constructor(e){var t;super(e),t=this,(0,r.Z)(this,"history",void 0),(0,r.Z)(this,"currentPeriod",void 0),(0,r.Z)(this,"zooming",null),(0,r.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:g(e.start),end:g(e.end)}})),(0,r.Z)(this,"setPeriod",(function(e){let{period:s,start:r,end:o}=e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:a,onZoom:d,usePageDate:c}=t.props,p=g(r),u=g(o);n&&t.history.push(t.currentPeriod),d?.({period:s,start:p,end:u}),t.zooming=()=>{if(c&&a){const e={...a.location.query,pageStart:r?(0,h.v5)(r):void 0,pageEnd:o?(0,h.v5)(o):void 0,pageStatsPeriod:s??void 0};i.stringify(e)!==i.stringify(a.location.query)&&a.push({pathname:a.location.pathname,query:e})}else(0,l.dR)({period:s,start:p?(0,h.hC)(p):p,end:u?(0,h.hC)(u):u},a);t.saveCurrentPeriod({period:s,start:r,end:o})}})),(0,r.Z)(this,"handleChartReady",(e=>{this.props.onChartReady?.(e)})),(0,r.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],this.props.onRestore?.(e,t))})),(0,r.Z)(this,"handleDataZoom",((e,t)=>{const s=t.getModel(),{startValue:r,endValue:o}=s._payload.batch[0];if(null===r&&null===o){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=a().utc(r),t=a().utc(o);this.setPeriod({period:null,start:e,end:t},!0)}this.props.onDataZoom?.(e,t)})),(0,r.Z)(this,"handleChartFinished",((e,t)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const s=t._componentsViews?.find((e=>e._features&&e._features.dataZoom));s&&!s._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,m.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:s,disabled:r,children:o,xAxisIndex:n,router:a,onZoom:i,onRestore:l,onChartReady:c,onDataZoom:m,onFinished:g,showSlider:S,chartZoomOptions:v,...x}=this.props,y=e??void 0,f=t?(0,h.hC)(t):void 0,Z=s?(0,h.hC)(s):void 0;return o(r?{utc:y,start:f,end:Z,...x}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:y,start:f,end:Z,dataZoom:S?[...p({xAxisIndex:n,...v}),...(0,d.Z)({xAxisIndex:n,...v})]:(0,d.Z)({xAxisIndex:n,...v}),showTimeInTooltip:!0,toolBox:(0,u.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...x})}}S.displayName="ChartZoom";const v=S},"./app/components/charts/errorPanel.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1t1x7f30"})("display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(e=>e.height||"200px"),";position:relative;border-color:transparent;margin-bottom:0;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraLarge),";")},"./app/components/charts/lineChart.tsx":(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var r=s("./app/components/charts/series/lineSeries.tsx"),o=s("./app/components/charts/baseChart.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{series:t,seriesOptions:s,...a}=e;return(0,n.tZ)(o.Z,{...a,series:t.map((e=>{let{seriesName:t,data:o,dataArray:n,...a}=e;return(0,r.Z)({...s,...a,name:t,data:n||o?.map((e=>{let{value:t,name:s}=e;return[s,t]})),animation:!1,animationThreshold:1,animationDuration:0})}))})}a.displayName="LineChart"},"./app/components/charts/releaseSeries.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),n=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),a=s("../node_modules/lodash/isEqual.js"),i=s.n(a),l=s("../node_modules/lodash/memoize.js"),d=s.n(l),c=s("../node_modules/lodash/partition.js"),p=s.n(c),u=s("./app/actionCreators/indicator.tsx"),m=s("./app/components/charts/components/markLine.tsx"),h=s("./app/locale.tsx"),g=s("./app/utils.tsx"),S=s("./app/utils/dates.tsx"),v=s("./app/utils/formatters.tsx"),x=s("./app/utils/parseLinkHeader.tsx"),y=s("./app/utils/withApi.tsx"),f=s("./app/utils/withOrganization.tsx"),Z=s("./app/utils/withSentryRouter.tsx");function _(e,t,s){const r={};return Object.keys(s).forEach((e=>{let t=s[e];!t||"start"!==e&&"end"!==e||(t=(0,S.v5)(t)),t&&(r[e]=t)})),e.clear(),e.requestPromise(`/organizations/${t.slug}/releases/stats/`,{includeAllArgs:!0,method:"GET",query:r})}class R extends o.Component{constructor(){var e;super(...arguments),e=this,(0,r.Z)(this,"state",{releases:null,releaseSeries:[]}),(0,r.Z)(this,"_isMounted",!1),(0,r.Z)(this,"getOrganizationReleasesMemoized",d()(((e,t,s)=>_(e,t,s)),((e,t,s)=>Object.values(s).map((e=>JSON.stringify(e))).join("-")))),(0,r.Z)(this,"getReleaseSeries",(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{organization:r,router:o,tooltip:n,environments:a,start:i,end:l,period:d,preserveQueryParams:c,queryExtra:p,theme:u}=e.props,x={...p};r.features.includes("global-views")&&(x.project=o.location.query.project),c&&(x.environment=[...a],x.start=i?(0,S.v5)(i):void 0,x.end=l?(0,S.v5)(l):void 0,x.statsPeriod=d||void 0);const y=(0,m.Z)({animation:!1,lineStyle:{color:u.purple300,opacity:.3,type:"solid",...s},label:{show:!1},data:t.map((e=>({xAxis:+new Date(e.date),name:(0,v.ko)(e.version,!0),value:(0,v.ko)(e.version,!0),onClick:()=>{o.push({pathname:`/organizations/${r.slug}/releases/${e.version}/`,query:x})},label:{formatter:()=>(0,v.ko)(e.version,!0)}}))),tooltip:n||{trigger:"item",formatter:t=>{let{data:s}=t;const r=(0,S.L0)(s.value,"MMM D, YYYY LT",{local:!e.props.utc}),o=(0,g.YU)((0,v.ko)(s.name,!0));return['<div class="tooltip-series">',`<div><span class="tooltip-label"><strong>${(0,h.t)("Release")}</strong></span> ${o}</div>`,"</div>",'<div class="tooltip-footer">',r,"</div>","</div>",'<div class="tooltip-arrow"></div>'].join("")}}});return{seriesName:"Releases",color:u.purple200,data:[],markLine:y}}))}componentDidMount(){this._isMounted=!0;const{releases:e}=this.props;e?this.setReleasesWithSeries(e):this.fetchData()}componentDidUpdate(e){i()(e.projects,this.props.projects)&&i()(e.environments,this.props.environments)&&i()(e.start,this.props.start)&&i()(e.end,this.props.end)&&i()(e.period,this.props.period)&&i()(e.query,this.props.query)?i()(e.emphasizeReleases,this.props.emphasizeReleases)||this.setReleasesWithSeries(this.state.releases):this.fetchData()}componentWillUnmount(){this._isMounted=!1,this.props.api.clear()}async fetchData(){const{api:e,organization:t,projects:s,environments:r,period:o,start:n,end:a,memoized:i,query:l}=this.props,d={start:n,end:a,project:s,environment:r,statsPeriod:o,query:l};let c=!0;const p=[];for(;c;)try{const s=i?this.getOrganizationReleasesMemoized:_,[r,,o]=await s(e,t,d);p.push(...r),this._isMounted&&this.setReleasesWithSeries(p);const n=o?.getResponseHeader("Link");if(n){const e=(0,x.Z)(n);c=e?.next?.results??!1,d.cursor=e.next.cursor}else c=!1}catch{(0,u.Iw)((0,h.t)("Error fetching releases")),c=!1}}setReleasesWithSeries(e){const{emphasizeReleases:t=[]}=this.props,s=[];if(t.length){const[r,o]=p()(e,(e=>!t.includes(e.version)));r.length&&s.push(this.getReleaseSeries(r,{type:"dotted"})),o.length&&s.push(this.getReleaseSeries(o,{opacity:.8}))}else s.push(this.getReleaseSeries(e));this.setState({releases:e,releaseSeries:s})}render(){const{children:e}=this.props;return e({releases:this.state.releases,releaseSeries:this.state.releaseSeries})}}R.displayName="ReleaseSeries";const E=(0,Z.Z)((0,f.Z)((0,y.Z)((0,n.b)(R))))},"./app/components/charts/transitionChart.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/react/index.js"),n=s("./app/components/charts/loadingPanel.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const s=t.prevReloading,r=e.reloading,o=t.prevLoading,n=e.loading;return o!==n?{prevReloading:r,prevLoading:n,key:t.key+1}:n?{prevReloading:r,prevLoading:n,key:t.key}:s&&!r?{prevReloading:r,prevLoading:n,key:t.key+1}:{prevReloading:r,prevLoading:n,key:t.key}}render(){const{height:e,loading:t,reloading:s}=this.props;return t&&!s?(0,a.tZ)(n.Z,{height:e,"data-test-id":"events-request-loading"}):(0,a.tZ)(o.Fragment,{children:this.props.children},String(this.state.key))}}i.displayName="TransitionChart",(0,r.Z)(i,"defaultProps",{height:"200px"});const l=i},"./app/components/createAlertButton.tsx":(e,t,s)=>{"use strict";s.d(t,{K:()=>g,Z:()=>v});var r=s("./app/actionCreators/indicator.tsx"),o=s("./app/actionCreators/navigation.tsx"),n=s("./app/components/acl/access.tsx"),a=s("./app/components/assistant/guideAnchor.tsx"),i=s("./app/components/button.tsx"),l=s("./app/components/links/link.tsx"),d=s("./app/icons/index.tsx"),c=s("./app/locale.tsx"),p=s("./app/utils/useApi.tsx"),u=s("./app/utils/useRouter.tsx"),m=s("./app/views/alerts/wizard/options.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e){let{projects:t,eventView:s,organization:r,referrer:o,onClick:n,alertType:a,disableMetricDataset:i,...l}=e;const d=t.find((e=>e.id===`${s.project[0]}`)),p=s.generateQueryStringObject();p.query?.includes(`project:${d?.slug}`)&&(p.query=p.query.replace(`project:${d?.slug}`,""));const u=a?m.FZ[a]:m.F4,g={pathname:`/organizations/${r.slug}/alerts/new/metric/`,query:{...p,createFromDiscover:!0,disableMetricDataset:i,referrer:o,...u,project:d?.slug,aggregate:p.yAxis??u.aggregate}};return(0,h.tZ)(S,{organization:r,onClick:()=>{n?.()},to:g,"aria-label":(0,c.t)("Create Alert"),...l})}g.displayName="CreateAlertFromViewButton";const S=e=>{let{organization:t,projectSlug:s,iconProps:m,referrer:g,hideIcon:S,showPermissionGuide:v,alertOption:x,onEnter:y,...f}=e;const Z=(0,u.Z)(),_=(0,p.Z)(),R=e=>{const s=new URLSearchParams;return g&&s.append("referrer",g),":projectId"!==e&&s.append("project",e),x&&s.append("alert_option",x),`/organizations/${t.slug}/alerts/wizard/?${s.toString()}`};function E(e){e.preventDefault(),y?.(),(0,o.T)(R(":projectId"),Z)}async function T(){const e=`/organizations/${t.slug}/`;(0,r.E3)();try{await _.requestPromise(e,{method:"PUT",data:{alertsMemberWrite:!0}}),(0,r.S9)((0,c.t)("Successfully updated organization settings"))}catch(e){(0,r.Iw)((0,c.t)("Unable to update organization settings"))}}const C=(0,c._N)("Ask your organization owner or manager to [settingsLink:enable alerts access] for you.",{settingsLink:(0,h.tZ)(l.Z,{to:`/settings/${t.slug}`})}),A=e=>(0,h.tZ)(i.zx,{disabled:!e,title:e?void 0:C,icon:!S&&(0,h.tZ)(d.vr,{...m}),to:s?R(s):void 0,tooltipProps:{isHoverable:!0,position:"top",overlayStyle:{maxWidth:"270px"}},onClick:s?y:E,...f,children:f.children??(0,c.t)("Create Alert")}),w=!t.alertsMemberWrite&&!!v;return(0,h.tZ)(n.Z,{organization:t,access:["alerts:write"],children:e=>{let{hasAccess:s}=e;return w?(0,h.tZ)(n.Z,{organization:t,access:["org:write"],children:e=>{let{hasAccess:t}=e;return(0,h.tZ)(a.Z,{target:t?"alerts_write_owner":"alerts_write_member",onFinish:t?T:void 0,children:A(s)})}}):A(s)}})};S.displayName="CreateAlertButton";const v=S},"./app/components/events/searchBar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>O}),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/react/index.js"),o=s("../node_modules/lodash/assign.js"),n=s.n(o),a=s("../node_modules/lodash/flatten.js"),i=s.n(a),l=s("../node_modules/lodash/memoize.js"),d=s.n(l),c=s("../node_modules/lodash/omit.js"),p=s.n(c),u=s("./app/actionCreators/tags.tsx"),m=s("./app/components/smartSearchBar/index.tsx"),h=s("./app/constants/index.tsx"),g=s("./app/types/index.tsx"),S=s("./app/utils.tsx"),v=s("./app/utils/discover/fields.tsx"),x=s("./app/utils/fields/index.ts"),y=s("./app/utils/measurements/measurements.tsx"),f=s("./app/utils/useApi.tsx"),Z=s("./app/utils/withTags.tsx"),_=s("./app/views/dashboards/utils.tsx"),R=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const E=new RegExp(`^${h.c$}|\\${h.ir}`,"g"),T=new Set(Object.keys(v.wZ)),C=Object.keys(v.wZ).reduce(((e,t)=>(e[t]={...v.wZ[t],kind:x.IV.FIELD},e)),{}),A=p()(C,v.J8),w=v.$4.reduce(((e,t)=>(e[t]={name:t,kind:x.IV.METRICS},e)),{}),N=Object.keys(v.jg).reduce(((e,t)=>(e[t]={...v.jg[t],kind:x.IV.FIELD},e)),{});function j(e){const{maxSearchItems:t,organization:s,tags:o,omitTags:a,fields:l,projectIds:c,includeSessionTagsValues:h,maxMenuHeight:Z,customMeasurements:j}=e,O=(0,f.Z)(),b=(0,r.useMemo)((()=>(e=>e?.length?e.reduce(((e,t)=>(T.has(t.field)||(0,v.GO)(t.field)||(0,_.nk)(t.field)||(e[t.field]={key:t.field,name:t.field,kind:x.IV.FUNCTION}),e)),{}):[])(l)),[l]),I=(0,r.useMemo)((()=>Object.keys(o).reduce(((e,t)=>(e[t]={...o[t],kind:x.IV.TAG},e)),{})),[o]);(0,r.useEffect)((()=>{z.cache.clear?.()}),[c]);const z=d()(((e,t,r)=>{const o=c?.map(String);return(0,v.h1)(e.key)||(0,v.Xr)(e.key)?Promise.resolve([]):(0,x.bn)(e.key)?Promise.resolve(x.BF):(0,u.Fo)({api:O,orgSlug:s.slug,tagKey:e.key,search:t,projectIds:o,endpointParams:r,includeTransactions:!0,includeSessions:h}).then((e=>i()(e.filter((e=>{let{name:t}=e;return(0,S.ri)(t)})).map((e=>{let{name:t}=e;return t})))),(()=>{throw new Error("Unable to fetch event field values")}))}),((e,t)=>{let{key:s}=e;return`${s}-${t}`})),P=e=>{const t=((e,t)=>{const s=Object.keys(e).reduce(((t,s)=>(t[s]={...e[s],kind:x.IV.MEASUREMENT},t)),{});return t?Object.keys(t).reduce(((e,s)=>(e[s]={...t[s],kind:x.IV.MEASUREMENT},e)),s):s})(e,j),r=s.features.includes("performance-view")?Object.assign({},t,b,w,C):Object.assign({},A);return n()(r,I,C,N),r.has={key:x.Sh.HAS,name:"Has property",values:Object.keys(r).sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),predefined:!0,kind:x.IV.FIELD},a&&a.length>0?p()(r,a):r};return(0,R.tZ)(y.Z,{children:s=>{let{measurements:r}=s;return(0,R.tZ)(m.Z,{hasRecentSearches:!0,savedSearchType:g.L4.EVENT,onGetTagValues:z,supportedTags:P(r),prepareQuery:e=>e.replace(E,""),maxSearchItems:t,excludedTags:[x.Sh.ENVIRONMENT,x.Sh.TOTAL_COUNT],maxMenuHeight:Z??300,customPerformanceMetrics:j,...e})}})}j.displayName="SearchBar";const O=(0,Z.Z)(j)},"./app/components/gridEditable/sortLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react-router/es/index.js"),n=s("../node_modules/lodash/omit.js"),a=s.n(n),i=s("./app/components/links/link.tsx"),l=s("./app/icons/index.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{align:t,title:s,canSort:r,generateSortLink:n,onClick:a,direction:i,replace:l}=e;const c=n();if(!c||!r)return(0,d.tZ)(u,{align:t,children:s});const h=i?(0,d.tZ)(m,{size:"xs",direction:"desc"===i?"down":"up"}):null;return(0,d.BX)(p,{align:t,to:c,onClick:e=>{l&&(e.preventDefault(),o.browserHistory.replace(c)),a?.(e)},children:[s," ",h]})}c.displayName="SortLink";const p=(0,r.Z)((e=>{const t=a()(e,["align","css"]);return(0,d.tZ)(i.Z,{...t})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),u=(0,r.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),m=(0,r.Z)(l.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),h=c},"./app/utils/withTags.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/react/index.js"),n=s("./app/stores/tagStore.tsx"),a=s("./app/utils/getDisplayName.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{tags:n.Z.getState()}),(0,r.Z)(this,"unsubscribe",n.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:t,...s}=this.props;return(0,i.tZ)(e,{tags:t??this.state.tags,...s})}}return t.displayName="WithTags",(0,r.Z)(t,"displayName",`withTags(${(0,a.Z)(e)})`),t}},"./app/views/alerts/rules/metric/types.tsx":(e,t,s)=>{"use strict";s.d(t,{F4:()=>n,GM:()=>l,LO:()=>h,Lm:()=>g,Tb:()=>u,Us:()=>m,XH:()=>p,Yh:()=>d,hd:()=>S,lK:()=>c,lT:()=>o,qz:()=>i,t6:()=>a});var r=s("./app/locale.tsx");let o,n,a,i,l,d,c,p,u,m;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(o||(o={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(n||(n={})),function(e){e.COUNT="count",e.CHANGE="change",e.PERCENT="percent"}(a||(a={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.GENERIC_METRICS="generic_metrics",e.SESSIONS="sessions",e.METRICS="metrics"}(i||(i={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(l||(l={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(d||(d={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(c||(c={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(p||(p={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(u||(u={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(m||(m={}));const h={[m.EMAIL]:(0,r.t)("Emaiâ€‹l"),[m.SLACK]:(0,r.t)("Slack"),[m.PAGERDUTY]:(0,r.t)("Pagerduty"),[m.MSTEAMS]:(0,r.t)("MS Teams"),[m.SENTRY_APP]:(0,r.t)("Notification")};let g;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(g||(g={}));const S={[g.USER]:(0,r.t)("Member"),[g.TEAM]:(0,r.t)("Team")}},"./app/views/alerts/wizard/options.tsx":(e,t,s)=>{"use strict";s.d(t,{A_:()=>u,F4:()=>h,F7:()=>g,FZ:()=>m,LH:()=>S,S:()=>Z,Sz:()=>f,VS:()=>c,Y4:()=>y,gb:()=>p}),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("../node_modules/lodash/mapValues.js"),o=s.n(r),n=s("./app/locale.tsx"),a=s("./app/utils/fields/index.ts"),i=s("./app/views/alerts/rules/metric/types.tsx");let l,d;!function(e){e[e.ERROR=0]="ERROR",e[e.PERFORMANCE=1]="PERFORMANCE",e[e.CRASH_RATE=2]="CRASH_RATE"}(l||(l={})),function(e){e.DISCOVER="discover",e.METRICS="metrics",e.METRICS_ENHANCED="metricsEnhanced"}(d||(d={}));const c={[i.qz.ERRORS]:l.ERROR,[i.qz.TRANSACTIONS]:l.PERFORMANCE,[i.qz.GENERIC_METRICS]:l.PERFORMANCE,[i.qz.METRICS]:l.CRASH_RATE,[i.qz.SESSIONS]:l.CRASH_RATE},p={issues:(0,n.t)("Issues"),num_errors:(0,n.t)("Number of Errors"),users_experiencing_errors:(0,n.t)("Users Experiencing Errors"),throughput:(0,n.t)("Throughput"),trans_duration:(0,n.t)("Transaction Duration"),apdex:(0,n.t)("Apdex"),failure_rate:(0,n.t)("Failure Rate"),lcp:(0,n.t)("Largest Contentful Paint"),fid:(0,n.t)("First Input Delay"),cls:(0,n.t)("Cumulative Layout Shift"),custom:(0,n.t)("Custom Metric"),crash_free_sessions:(0,n.t)("Crash Free Session Rate"),crash_free_users:(0,n.t)("Crash Free User Rate")},u=e=>[{categoryHeading:(0,n.t)("Errors"),options:["issues","num_errors","users_experiencing_errors"]},...e.features.includes("crash-rate-alerts")?[{categoryHeading:(0,n.t)("Sessions"),options:["crash_free_sessions","crash_free_users"]}]:[],{categoryHeading:(0,n.t)("Performance"),options:["throughput","trans_duration","apdex","failure_rate","lcp","fid","cls"]},{categoryHeading:(0,n.t)("Other"),options:["custom"]}],m={num_errors:{aggregate:"count()",dataset:i.qz.ERRORS,eventTypes:i.GM.ERROR},users_experiencing_errors:{aggregate:"count_unique(user)",dataset:i.qz.ERRORS,eventTypes:i.GM.ERROR},throughput:{aggregate:"count()",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},trans_duration:{aggregate:"p95(transaction.duration)",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},apdex:{aggregate:"apdex(300)",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},failure_rate:{aggregate:"failure_rate()",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},lcp:{aggregate:"p95(measurements.lcp)",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},fid:{aggregate:"p95(measurements.fid)",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},cls:{aggregate:"p95(measurements.cls)",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},custom:{aggregate:"p95(measurements.fp)",dataset:i.qz.TRANSACTIONS,eventTypes:i.GM.TRANSACTION},crash_free_sessions:{aggregate:i.lK.CRASH_FREE_SESSIONS,dataset:i.qz.SESSIONS,eventTypes:i.GM.SESSION},crash_free_users:{aggregate:i.lK.CRASH_FREE_USERS,dataset:i.qz.SESSIONS,eventTypes:i.GM.USER}},h=m.num_errors,g=new Set(["num_errors","users_experiencing_errors","throughput","apdex","failure_rate","crash_free_sessions","crash_free_users"]),S=new Set(["trans_duration","lcp","fid","cls"]),v=[a.Sh.RELEASE,a.Sh.TRANSACTION,a.Sh.TRANSACTION_OP,a.Sh.TRANSACTION_STATUS,a.Sh.HTTP_METHOD],x=[a.Sh.RELEASE],y=o()({[i.qz.ERRORS]:void 0,[i.qz.TRANSACTIONS]:v,[i.qz.METRICS]:x,[i.qz.GENERIC_METRICS]:v,[i.qz.SESSIONS]:x},(e=>e?(0,a.yE)(e):void 0)),f={[i.qz.ERRORS]:[a.Sh.EVENT_TYPE,a.Sh.RELEASE_VERSION,a.Sh.RELEASE_STAGE,a.Sh.RELEASE_BUILD,a.Sh.PROJECT,...Object.values(a.Zl),...Object.values(a.$n),...Object.values(a.l1),a.Sh.TRANSACTION,a.Sh.TRANSACTION_DURATION,a.Sh.TRANSACTION_OP,a.Sh.TRANSACTION_STATUS],[i.qz.TRANSACTIONS]:void 0,[i.qz.METRICS]:void 0,[i.qz.GENERIC_METRICS]:void 0,[i.qz.SESSIONS]:void 0};function Z(e,t){return e===i.qz.ERRORS?d.DISCOVER:t?d.METRICS_ENHANCED:e===i.qz.GENERIC_METRICS?d.METRICS:d.DISCOVER}},"./app/views/performance/vitalDetail/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>we});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/react/index.js"),n=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/lodash/isEqual.js"),i=s.n(a),l=s("./app/actionCreators/tags.tsx"),d=s("./app/components/layouts/thirds.tsx"),c=s("./app/components/organizations/pageFilters/container.tsx"),p=s("./app/components/sentryDocumentTitle.tsx"),u=s("./app/locale.tsx"),m=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),h=s("./app/utils/fields/index.ts"),g=s("./app/utils/performance/contexts/performanceEventViewContext.tsx"),S=s("./app/utils/queryString.tsx"),v=s("./app/utils/withApi.tsx"),x=s("./app/utils/withDomainRequired.tsx"),y=s("./app/utils/withOrganization.tsx"),f=s("./app/utils/withPageFilters.tsx"),Z=s("./app/utils/withProjects.tsx"),_=s("./app/views/performance/data.tsx"),R=s("./app/views/performance/utils.tsx"),E=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),T=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.array.unshift.js"),s("../node_modules/lodash/omit.js")),C=s.n(T),A=s("./app/components/acl/feature.tsx"),w=s("./app/components/alert.tsx"),N=s("./app/components/buttonBar.tsx"),j=s("./app/components/charts/utils.tsx"),O=s("./app/components/createAlertButton.tsx"),b=s("./app/components/datePageFilter.tsx"),I=s("./app/components/dropdownMenu/index.tsx"),z=s("./app/components/environmentPageFilter.tsx"),P=s("./app/components/events/searchBar.tsx"),k=s("./app/components/loadingIndicator.tsx"),D=s("./app/components/organizations/pageFilterBar.tsx"),M=s("./app/components/organizations/pageFilters/parse.tsx"),q=s("./app/components/performance/teamKeyTransactionsManager.tsx"),L=s("./app/components/projectPageFilter.tsx"),F=s("./app/icons/index.tsx"),V=s("./app/styles/space.tsx"),U=s("./app/utils/dates.tsx"),H=s("./app/utils/performance/vitals/constants.tsx"),B=s("./app/utils/teams.tsx"),G=s("./app/utils/tokenizeSearch.tsx"),W=s("./app/views/performance/breadcrumb.tsx"),Y=(s("../node_modules/core-js/modules/es.array.includes.js"),s("./app/components/gridEditable/index.tsx")),$=s("./app/components/gridEditable/sortLink.tsx"),X=s("./app/components/links/link.tsx"),K=s("./app/components/pagination.tsx"),Q=s("./app/components/tag.tsx"),J=s("./app/utils/analytics.tsx"),ee=s("./app/utils/discover/eventView.tsx"),te=s("./app/utils/discover/fieldRenderers.tsx"),se=s("./app/utils/discover/fields.tsx"),re=s("./app/utils/discover/genericDiscoverQuery.tsx"),oe=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ne(e){return(0,oe.tZ)(re.ZP,{route:"events",...e})}ne.displayName="VitalsCardsDiscoverQuery";const ae=ne;var ie=s("./app/views/discover/table/cellAction.tsx"),le=s("./app/views/performance/transactionSummary/utils.tsx"),de=s("./app/views/performance/vitalDetail/utils.tsx");const ce=["Transaction","Project","Unique Users","Count"];class pe extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{widths:[]}),(0,r.Z)(this,"handleCellAction",(e=>(t,s)=>{const{eventView:r,location:o,organization:a}=this.props;(0,J.ec)({eventKey:"performance_views.overview.cellaction",eventName:"Performance Views: Cell Action Clicked",organization_id:parseInt(a.id,10),action:t});const i=(0,le.PU)(r.query);(0,ie.rh)(i,t,e,s),n.browserHistory.push({pathname:o.pathname,query:{...o.query,cursor:void 0,query:i.formatString()}})})),(0,r.Z)(this,"renderBodyCellWithData",((e,t)=>(s,r)=>this.renderBodyCell(e,s,r,t))),(0,r.Z)(this,"renderHeadCellWithMeta",((e,t)=>(s,r)=>this.renderHeadCell(s,((e,t)=>{const s=de.a7[t];return[...ce,`p50(${s})`,`p75(${s})`,`p95(${s})`,"Status"][e]})(r,e),t))),(0,r.Z)(this,"renderPrependCellWithData",((e,t)=>{const{eventView:s}=this.props,r=s.getColumns().find((e=>"team_key_transaction"===e.name));return(s,o)=>{if(r){if(s){const t=(0,oe.tZ)(F.GK,{color:"yellow400",isSolid:!0,"data-test-id":"key-transaction-header"},"keyTransaction");return[this.renderHeadCell(r,t,e?.meta?.fields)]}return[this.renderBodyCell(e,r,o,t)]}return[]}})),(0,r.Z)(this,"handleSummaryClick",(()=>{const{organization:e,projects:t,location:s}=this.props;(0,J.ec)({eventKey:"performance_views.overview.navigate.summary",eventName:"Performance Views: Overview view summary",organization_id:parseInt(e.id,10),project_platforms:(0,R.p9)(s,t)})})),(0,r.Z)(this,"handleResizeColumn",((e,t)=>{const s=[...this.state.widths];s[e]=t.width?Number(t.width):Y.z7,this.setState({widths:s})}))}renderBodyCell(e,t,s,r){const{eventView:o,organization:n,projects:a,location:i,summaryConditions:l}=this.props;if(!e||!e.meta?.fields)return s[t.key];const d=e.meta?.fields,c=String(t.key);if(c===(0,de.Ve)(r))return s[c]?(0,oe.tZ)(ue,{children:(0,oe.tZ)(ge,{children:(0,u.t)("Poor")})}):s[(0,de.q4)(r)]?(0,oe.tZ)(ue,{children:(0,oe.tZ)(he,{children:(0,u.t)("Meh")})}):(0,oe.tZ)(ue,{children:(0,oe.tZ)(me,{children:(0,u.t)("Good")})});const p=(0,te.Js)(c,d,!1)(s,{organization:n,location:i}),m=[ie.eX.ADD,ie.eX.EXCLUDE,ie.eX.SHOW_GREATER_THAN,ie.eX.SHOW_LESS_THAN];if("transaction"===c){const e=(0,R.cY)(s,a),i=o.clone(),d=new G.MY(l);d.addFilterValues("has",[`${r}`]),i.query=d.formatString();const c=String(s.transaction)||"",h=(0,le.e1)({orgSlug:n.slug,transaction:c,query:i.generateQueryStringObject(),projectID:e,showTransactions:le.K0.RECENT,display:le.DC.VITALS});return(0,oe.tZ)(ie.ZP,{column:t,dataRow:s,handleCellAction:this.handleCellAction(t),allowActions:m,children:(0,oe.tZ)(X.Z,{to:h,"aria-label":(0,u.t)("See transaction summary of the transaction %s",c),onClick:this.handleSummaryClick,children:p})})}return c.startsWith("team_key_transaction")?p:(0,oe.tZ)(ie.ZP,{column:t,dataRow:s,handleCellAction:this.handleCellAction(t),allowActions:m,children:p})}renderHeadCell(e,t,s){const{eventView:r,location:o}=this.props,n=s?{}:void 0;s&&Object.keys(s).forEach((e=>{n[(0,se.LY)(e)]=s[e]}));const a=(0,se.qG)(e.name,e.type,n),i={field:e.name,width:e.width},l=r.sortForField(i,n),d=(0,ee.M3)(i,n);return(0,oe.tZ)($.Z,{align:a,title:t||i.field,direction:l?l.kind:void 0,canSort:d,generateSortLink:function(){if(!n)return;const e=r.sortOnField(i,n).generateQueryStringObject();return{...o,query:{...o.query,sort:e.sort}}}})}getSortedEventView(e){const{eventView:t}=this.props,s=(0,se.LY)((0,de.Ve)(e)),r=(0,se.LY)((0,de.q4)(e)),o=t.sorts.some((e=>e.field.includes(s)||e.field.includes(r)))?[]:[{field:"team_key_transaction",kind:"desc"},{field:s,kind:"desc"},{field:r,kind:"desc"}];return t.withSorts([...o,...t.sorts])}render(){const{eventView:e,organization:t,location:s}=this.props,{widths:r}=this.state,n=e.clone();n.fields=[...e.fields];const a=n.getColumns().filter((e=>"team_key_transaction"!==e.name)).slice(0,-1).map(((e,t)=>"number"==typeof r[t]?{...e,width:r[t]}:e)),i=(0,de.iF)(s),l=this.getSortedEventView(i),d=l.getSorts();return(0,oe.tZ)("div",{children:(0,oe.tZ)(ae,{eventView:l,orgSlug:t.slug,location:s,limit:10,referrer:"api.performance.vital-detail",children:e=>{let{pageLinks:t,isLoading:r,tableData:n}=e;return(0,oe.BX)(o.Fragment,{children:[(0,oe.tZ)(Y.ZP,{isLoading:r,data:n?n.data:[],columnOrder:a,columnSortBy:d,grid:{onResizeColumn:this.handleResizeColumn,renderHeadCell:this.renderHeadCellWithMeta(i,n?.meta?.fields),renderBodyCell:this.renderBodyCellWithData(n,i),renderPrependColumns:this.renderPrependCellWithData(n,i),prependColumnWidths:["max-content"]},location:s}),(0,oe.tZ)(K.Z,{pageLinks:t})]})}})})}}pe.displayName="Table";const ue=(0,E.Z)("div",{target:"ewfc1di3"})({name:"1gnrgb9",styles:"text-align:right;justify-self:flex-end;flex-grow:1"}),me=(0,E.Z)(Q.Z,{target:"ewfc1di2"})("div{background-color:",(e=>e.theme[de.fL[de.SP.GOOD]]),";}span{color:",(e=>e.theme.white),";}"),he=(0,E.Z)(Q.Z,{target:"ewfc1di1"})("div{background-color:",(e=>e.theme[de.fL[de.SP.MEH]]),";}span{color:",(e=>e.theme.white),";}"),ge=(0,E.Z)(Q.Z,{target:"ewfc1di0"})("div{background-color:",(e=>e.theme[de.fL[de.SP.POOR]]),";}span{color:",(e=>e.theme.white),";}"),Se=pe;var ve=s("./app/views/performance/vitalDetail/vitalChart.tsx"),xe=s("./app/views/performance/vitalDetail/vitalInfo.tsx");const ye=[h.Zl.FCP,h.Zl.LCP,h.Zl.FID,h.Zl.CLS];function fe(e){const[t,s]=(0,o.useState)(void 0);function r(t){const{location:s}=e,r=(0,M.fK)({...s.query||{},query:t}),o=C()(r,"cursor");n.browserHistory.push({pathname:s.pathname,query:o})}const{location:a,organization:i,vitalName:l}=e,c=l||h.Zl.LCP;return(0,oe.BX)(o.Fragment,{children:[(0,oe.BX)(d.h4,{children:[(0,oe.BX)(d.oB,{children:[(0,oe.tZ)(W.Z,{organization:i,location:a,vitalName:c}),(0,oe.tZ)(d.Dx,{children:de.jo[c]})]}),(0,oe.tZ)(d.kP,{children:(0,oe.BX)(N.ZP,{gap:1,children:[function(){const{vitalName:t,location:s,organization:r}=e;if(ye.indexOf(t)<0)return null;const o=ye.reduce(((e,o)=>{const a={key:o,label:de.a7[o],onAction:function(){n.browserHistory.push({pathname:s.pathname,query:{...s.query,vitalName:o,cursor:void 0}}),(0,m.Z)("performance_views.vital_detail.switch_vital",{organization:r,from_vital:de.a7[t]??"undefined",to_vital:de.a7[o]??"undefined"})}};return t===o?e.unshift(a):e.push(a),e}),[]);return(0,oe.tZ)(I.h,{items:o,triggerLabel:de.a7[t],triggerProps:{"aria-label":`Web Vitals: ${de.a7[t]}`,prefix:(0,u.t)("Web Vitals")},position:"bottom-start"})}(),(0,oe.tZ)(A.Z,{organization:i,features:["incidents"],children:t=>{let{hasFeature:s}=t;return s&&function(){const{eventView:t,organization:s,projects:r,vitalName:o}=e;return(0,oe.tZ)(O.K,{eventView:t,organization:s,projects:r,"aria-label":(0,u.t)("Create Alert"),alertType:de.W0[o],referrer:"performance"})}()}})]})})]}),(0,oe.BX)(d.uT,{children:[t?(0,oe.tZ)(w.bZ,{type:"error",showIcon:!0,children:t}):null,(0,oe.BX)(d.or,{fullWidth:!0,children:[(0,oe.tZ)(_e,{children:de.il[l]}),(0,oe.tZ)(Ee,{children:Object.values(H.AR).map((e=>(0,oe.BX)(Te,{children:[de.cD[l]?.includes(e)?(0,oe.tZ)(F.DL,{color:"successText",size:"sm"}):(0,oe.tZ)(F.bM,{color:"dangerText",size:"sm"}),e]},e)))}),function(t){const{location:n,organization:a,eventView:i,projects:l}=e,{fields:d,start:c,end:p,statsPeriod:u,environment:m,project:h}=i,g=(0,S.ro)(n.query.query,""),v=a.slug,x=c?(0,U.hC)(c):null,y=p?(0,U.hC)(p):null,f=(0,j.ZS)({start:x,end:y,period:u},"high"),Z=function(e){const t=new G.MY(e);return t.freeText=[],t.formatString()}((0,R.Ov)(n));return(0,oe.BX)(o.Fragment,{children:[(0,oe.BX)(Ce,{children:[(0,oe.BX)(D.Z,{condensed:!0,children:[(0,oe.tZ)(L.Z,{}),(0,oe.tZ)(z.Z,{}),(0,oe.tZ)(b.Z,{alignDropdown:"left"})]}),(0,oe.tZ)(P.Z,{searchSource:"performance_vitals",organization:a,projectIds:h,query:g,fields:d,onSearch:r})]}),(0,oe.tZ)(ve.Z,{organization:a,query:g,project:h,environment:m,start:x,end:y,statsPeriod:u,interval:f}),(0,oe.tZ)(Re,{children:(0,oe.tZ)(xe.Z,{orgSlug:v,location:n,vital:t,project:h,environment:m,start:c,end:p,statsPeriod:u})}),(0,oe.tZ)(B.Z,{provideUserTeams:!0,children:e=>{let{teams:t,initiallyLoaded:r}=e;return r?(0,oe.tZ)(q.z,{organization:a,teams:t,selectedTeams:["myteams"],selectedProjects:h.map(String),children:(0,oe.tZ)(Se,{eventView:i,projects:l,organization:a,location:n,setError:s,summaryConditions:Z})}):(0,oe.tZ)(k.Z,{})}})]})}(c)]})]})]})}fe.displayName="VitalDetailContent";const Ze=(0,Z.Z)(fe),_e=(0,E.Z)("div",{target:"e1j022b04"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,V.D)(3),";"),Re=(0,E.Z)("div",{target:"e1j022b03"})("margin-bottom:",(0,V.D)(3),";"),Ee=(0,E.Z)("div",{target:"e1j022b02"})("display:inline-flex;gap:",(0,V.D)(2),";margin-bottom:",(0,V.D)(3),";"),Te=(0,E.Z)("div",{target:"e1j022b01"})("display:flex;align-items:center;gap:",(0,V.D)(1),";"),Ce=(0,E.Z)("div",{target:"e1j022b00"})("display:grid;gap:",(0,V.D)(2),";margin-bottom:",(0,V.D)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:auto 1fr;}");class Ae extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{eventView:(0,_.AM)(this.props.location,this.props.organization)})}static getDerivedStateFromProps(e,t){return{...t,eventView:(0,_.AM)(e.location,e.organization)}}componentDidMount(){const{api:e,organization:t,selection:s,location:r,projects:o}=this.props;(0,l.QK)(e,t.slug,s),(0,R.n4)(s),(0,m.Z)("performance_views.vital_detail.view",{organization:t,project_platforms:(0,R.p9)(r,o)})}componentDidUpdate(e){const{api:t,organization:s,selection:r}=this.props;i()(e.selection.projects,r.projects)&&i()(e.selection.datetime,r.datetime)||((0,l.QK)(t,s.slug,r),(0,R.n4)(r))}getDocumentTitle(){const e=(0,R.JY)(this.props.location);return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,u.t)("Performance")].join(" - "):[(0,u.t)("Vital Detail"),(0,u.t)("Performance")].join(" - ")}render(){const{organization:e,location:t,router:s,api:r}=this.props,{eventView:o}=this.state;if(!o)return n.browserHistory.replace((0,x.D)({pathname:`/organizations/${e.slug}/performance/`,query:{...t.query}})),null;const a=(0,S.ro)(t.query.vitalName),i=-1===Object.values(h.Zl).indexOf(a)?void 0:a;return(0,oe.tZ)(p.Z,{title:this.getDocumentTitle(),orgSlug:e.slug,children:(0,oe.tZ)(g.bq,{value:{eventView:this.state.eventView},children:(0,oe.tZ)(c.Z,{children:(0,oe.tZ)(d.T3,{children:(0,oe.tZ)(Ze,{location:t,organization:e,eventView:o,router:s,vitalName:i||h.Zl.LCP,api:r})})})})})}}Ae.displayName="VitalDetail";const we=(0,v.Z)((0,f.Z)((0,Z.Z)((0,y.Z)(Ae))))},"./app/views/performance/vitalDetail/vitalChart.tsx":(e,t,s)=>{"use strict";s.d(t,{S:()=>j,Z:()=>w}),s("../node_modules/core-js/modules/es.array.push.js");var r=s("../node_modules/react-router/es/index.js"),o=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),n=s("./app/components/charts/chartZoom.tsx"),a=s("./app/components/charts/errorPanel.tsx"),i=s("./app/components/charts/eventsRequest.tsx"),l=s("./app/components/charts/lineChart.tsx"),d=s("./app/components/charts/releaseSeries.tsx"),c=s("./app/components/charts/styles.tsx"),p=s("./app/components/charts/transitionChart.tsx"),u=s("./app/components/charts/transparentLoadingMask.tsx"),m=s("./app/components/panels/index.tsx"),h=s("./app/components/questionTooltip.tsx"),g=s("./app/icons/index.tsx"),S=s("./app/locale.tsx"),v=s("./app/utils/discover/charts.tsx"),x=s("./app/utils/discover/fields.tsx"),y=s("./app/utils/fields/index.ts"),f=s("./app/utils/getDynamicText.tsx"),Z=s("./app/utils/useApi.tsx"),_=s("./app/utils/useLocation.tsx"),R=s("./app/utils/useRouter.tsx"),E=s("./app/views/performance/trends/utils.tsx"),T=s("./app/views/performance/vitalDetail/utils.tsx"),C=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function A(e){let{project:t,environment:s,organization:v,query:x,statsPeriod:y,start:A,end:w,interval:N}=e;const j=(0,_.T)(),O=(0,R.Z)(),b=(0,Z.Z)(),I=(0,o.u)(),z=(0,T.iF)(j),P=`p75(${z})`,{utc:k,legend:D,vitalPoor:M,markLines:q,chartOptions:L}=(0,T.EX)({theme:I,location:j,yAxis:P,vital:z});function F(e){const{selected:t}=e,s=Object.keys(t).filter((e=>!t[e])),o={...j,query:{...j.query,unselectedSeries:s}};r.browserHistory.push(o)}return(0,C.tZ)(m.s_,{children:(0,C.BX)(c.BO,{children:[(0,C.BX)(c.ws,{children:[(0,T.Uy)(z),(0,C.tZ)(h.Z,{size:"sm",position:"top",title:(0,S.t)("The durations shown should fall under the vital threshold.")})]}),(0,C.tZ)(n.Z,{router:O,period:y,start:A,end:w,utc:k,children:e=>(0,C.tZ)(i.Z,{api:b,organization:v,period:y,project:t,environment:s,start:A,end:w,interval:N,showLoading:!1,query:x,includePrevious:!1,yAxis:[P],partial:!0,children:r=>{let{timeseriesData:o,errored:n,loading:i,reloading:c}=r;if(n)return(0,C.tZ)(a.Z,{children:(0,C.tZ)(g.FC,{color:"gray500",size:"lg"})});const m=o&&I.charts.getColorPalette(o.length-2)||[],{smoothedResults:h}=(0,E.vq)(o),S=h?h.map(((e,t)=>{let{seriesName:s,...r}=e;return{seriesName:(0,E.HF)(s)||"p75",...r,color:m[t],lineStyle:{opacity:1,width:2}}})):[],v=(0,T.vk)(S),x=Math.max(v,M);return L.yAxis.max=1.1*x,(0,C.tZ)(d.Z,{start:A,end:w,period:y,utc:k,projects:t,environments:s,children:t=>{let{releaseSeries:s}=t;return(0,C.BX)(p.Z,{loading:i,reloading:c,children:[(0,C.tZ)(u.Z,{visible:c}),(0,f.Z)({value:(0,C.tZ)(l.w,{...e,...L,legend:D,onLegendSelectChanged:F,series:[...q,...s,...S]}),fixed:"Web Vitals Chart"})]})}})}})})]})})}A.displayName="VitalChart";const w=A;function N(e,t){return e===t?.poorCountField.replace("equation|","")?T.SP.POOR:e===t?.mehCountField.replace("equation|","")?T.SP.MEH:e===t?.goodCountField.replace("equation|","")?T.SP.GOOD:void 0}function j(e){const{field:t,data:s,loading:r,reloading:n,height:a,grid:i,utc:d,vitalFields:c}=e,m=(0,o.u)();if(!s||!c)return null;const h={grid:i,seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,s)=>(0,v.CX)(e,(0,x.Px)(c[0]===y.Zl.CLS?s:t))},xAxis:{show:!1},xAxes:void 0,yAxis:{axisLabel:{color:m.chartLabel,showMaxLabel:!1,formatter:e=>(0,v.gu)(e,(0,x.Px)(t))}},utc:d,isGroupedByDate:!0,showTimeInTooltip:!0},g=s.filter((e=>!!N(e.seriesName,c))),S=g?.length?g.map((e=>{let{seriesName:t,...s}=e;const r=N(t,c)||"count";return{seriesName:r,...s,color:m[T.fL[r]],lineStyle:{opacity:1,width:2}}})):[];return(0,C.tZ)("div",{children:(0,C.BX)(p.Z,{loading:r,reloading:n,children:[(0,C.tZ)(u.Z,{visible:n}),(0,f.Z)({value:(0,C.tZ)(l.w,{height:a,...h,onLegendSelectChanged:()=>{},series:[...S],isGroupedByDate:!0}),fixed:"Web Vitals Chart"})]})})}j.displayName="_VitalChart"},"./app/views/performance/vitalDetail/vitalInfo.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),o=s("./app/utils/toArray.tsx"),n=s("./app/views/performance/landing/vitalsCards.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{vital:t,location:s,isLoading:i,hideBar:l,hideStates:d,hideVitalPercentNames:c,hideVitalThresholds:p,hideDurationDetail:u,queryExtras:m}=e;const h=(0,o.Z)(t),g={vital:t,showBar:!l,showStates:!d,showVitalPercentNames:!c,showVitalThresholds:!p,showDurationDetail:!u};return(0,a.tZ)(r.Z,{location:s,vitals:h,queryExtras:m,children:e=>{let{isLoading:t,vitalsData:s}=e;return(0,a.tZ)(n.JO,{...g,isLoading:i||t,data:s})}})}i.displayName="VitalInfo";const l=i},"../node_modules/lodash/assign.js":(e,t,s)=>{var r=s("../node_modules/lodash/_assignValue.js"),o=s("../node_modules/lodash/_copyObject.js"),n=s("../node_modules/lodash/_createAssigner.js"),a=s("../node_modules/lodash/isArrayLike.js"),i=s("../node_modules/lodash/_isPrototype.js"),l=s("../node_modules/lodash/keys.js"),d=Object.prototype.hasOwnProperty,c=n((function(e,t){if(i(t)||a(t))o(t,l(t),e);else for(var s in t)d.call(t,s)&&r(e,s,t[s])}));e.exports=c}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_vitalDetail_index_tsx.8c89ddb07bfefb1813b86b44b3c64f0f.js.map