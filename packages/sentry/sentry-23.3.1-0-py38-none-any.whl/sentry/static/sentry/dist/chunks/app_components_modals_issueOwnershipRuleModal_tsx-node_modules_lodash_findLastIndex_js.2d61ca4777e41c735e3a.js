(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_issueOwnershipRuleModal_tsx-node_modules_lodash_findLastIndex_js"],{"./app/components/modals/issueOwnershipRuleModal.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v,modalCss:()=>Z});var n=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=s("./app/locale.tsx"),r=s("./app/utils/theme.tsx"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),l=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/lodash/uniq.js")),d=s.n(l),u=s("./app/components/asyncComponent.tsx"),p=s("./app/components/links/externalLink.tsx"),c=s("./app/stores/configStore.tsx"),m=s("./app/styles/space.tsx"),h=s("./app/views/settings/project/projectOwnership/ownerInput.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(e){let{paths:t,urls:s,eventData:a}=e;const r=c.Z.get("user")?.email;if(!r)return null;const i=t.length?`path:${t[0]} ${r}`:null,l=s.length?`url:${s[0]} ${r}`:null,d=a?.tags?.find((e=>{let{key:t}=e;return"transaction"===t})),u=d?`tags.transaction:${d.value} ${r}`:null;return(0,g.BX)(_,{children:["# ",(0,o.t)("Hereâ€™s some suggestions based on this issue"),(0,g.tZ)("br",{}),[i,l,u].filter((e=>e)).map((e=>(0,g.BX)(n.Fragment,{children:[e,(0,g.tZ)("br",{})]},e)))]})}b.displayName="OwnershipSuggestions";class x extends u.Z{getEndpoints(){const{organization:e,project:t,issueId:s}=this.props;return[["ownership",`/projects/${e.slug}/${t.slug}/ownership/`],["urlTagData",`/issues/${s}/tags/url/`,{},{allowError:e=>404===e.status}]]}renderBody(){const{ownership:e,urlTagData:t}=this.state,{eventData:s,organization:a,project:r,onCancel:i}=this.props;if(!e)return null;const l=t?t.topValues.sort(((e,t)=>e.count-t.count)).map((e=>e.value)).slice(0,5):[],u=a.features.includes("streamline-targeting-context"),c=function(e){const t=e?.entries?.find((e=>{let{type:t}=e;return["exception","stacktrace"].includes(t)}));let s=[];return"exception"===t?.type?s=t?.data?.values?.[0]?.stacktrace?.frames??[]:"stacktrace"===t?.type&&(s=t?.data?.frames??[]),s=s.filter((e=>e&&e.inApp)).reverse(),d()(s.map((e=>e.filename||e.absPath||"")))}(s);return(0,g.BX)(n.Fragment,{children:[u?(0,g.BX)(n.Fragment,{children:[(0,g.tZ)(j,{children:(0,o._N)("Assign issues based on custom rules. To learn more, [docs:read the docs].",{docs:(0,g.tZ)(p.Z,{href:"https://docs.sentry.io/product/issues/issue-owners/"})})}),(0,g.tZ)(b,{paths:c,urls:l,eventData:s})]}):(0,g.tZ)("p",{children:(0,o.t)("Match against Issue Data: (globbing syntax *, ? supported)")}),(0,g.tZ)(h.Z,{organization:a,project:r,initialText:e?.raw||"",urls:l,paths:c,dateUpdated:e.lastUpdated,onCancel:i})]})}}const j=(0,i.Z)("p",{target:"e32z9mb1"})("margin-bottom:",(0,m.D)(1),";"),_=(0,i.Z)("pre",{target:"e32z9mb0"})("word-break:break-word;padding:",(0,m.D)(2),";line-height:1.6;color:",(e=>e.theme.subText),";"),w=x,f=e=>{let{Body:t,Header:s,Footer:a,organization:r,project:i,issueId:l,eventData:d,closeModal:u}=e;return(0,g.BX)(n.Fragment,{children:[(0,g.tZ)(s,{closeButton:!0,children:(0,g.tZ)("h4",{children:(0,o.t)("Edit Ownership Rules")})}),(0,g.tZ)(t,{children:(0,g.tZ)(w,{organization:r,project:i,issueId:l,eventData:d,onCancel:u})})]})};f.displayName="IssueOwnershipRuleModal";const Z=(0,a.iv)("@media (min-width: ",r.ZP.breakpoints.small,"){width:80%;}",""),v=f},"../node_modules/lodash/findLastIndex.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseFindIndex.js"),a=s("../node_modules/lodash/_baseIteratee.js"),o=s("../node_modules/lodash/toInteger.js"),r=Math.max,i=Math.min;e.exports=function(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var d=l-1;return void 0!==s&&(d=o(s),d=s<0?r(l+d,0):i(d,l-1)),n(e,a(t,3),d,!0)}},"../node_modules/lodash/uniq.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?n(e):[]}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_issueOwnershipRuleModal_tsx-node_modules_lodash_findLastIndex_js.5b7b1fa8057126ea52f7ae08b56e8812.js.map