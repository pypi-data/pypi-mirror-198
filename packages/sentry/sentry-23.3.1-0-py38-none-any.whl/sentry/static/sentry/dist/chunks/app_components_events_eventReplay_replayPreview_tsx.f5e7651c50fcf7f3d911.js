"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_eventReplay_replayPreview_tsx"],{"./app/components/events/eventReplay/replayPreview.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var a=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),o=r("./app/components/alert.tsx"),n=r("./app/components/button.tsx"),i=r("./app/components/links/externalLink.tsx"),p=r("./app/components/list/index.tsx"),l=r("./app/components/list/listItem.tsx"),d=r("./app/components/placeholder.tsx"),c=r("./app/components/replays/replayContext.tsx"),h=r("./app/components/replays/replayPlayer.tsx"),m=r("./app/components/replays/replaysFeatureBadge.tsx"),u=r("./app/components/replays/utils.tsx"),y=r("./app/icons/index.tsx"),g=r("./app/locale.tsx"),x=r("./app/styles/space.tsx"),b=r("./app/utils/getRouteStringFromRoutes.tsx"),Z=r("./app/utils/replays/hooks/useReplayData.tsx"),f=r("./app/utils/useRoutes.tsx"),v=r("./app/views/replays/detail/layout/fluidHeight.tsx"),w=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function k(e){let{orgSlug:t,replaySlug:r,event:a}=e;const d=(0,f.V)(),{fetching:x,replay:v,fetchError:k}=(0,Z.Z)({orgSlug:t,replaySlug:r}),q=a.dateCreated?1e3*Math.floor(new Date(a.dateCreated).getTime()/1e3):0,z=v?.getReplay(),C=z?.started_at.getTime()??0,P=(0,s.useMemo)((()=>q&&C?(0,u.NH)(q,C)/1e3:0),[q,C]);if(k){const e=[(0,g.t)("The replay is still processing"),(0,g.t)("The replay has been deleted by a member in your organization"),(0,g.t)("There is an internal system error")];return(0,w.BX)(o.bZ,{type:"info",showIcon:!0,"data-test-id":"replay-error",children:[(0,w.tZ)("p",{children:(0,g._N)("The replay for this event cannot be found. [link:Read the docs to understand why]. This could be due to these reasons:",{link:(0,w.tZ)(i.Z,{href:"https://docs.sentry.io/platforms/javascript/session-replay/#error-linking"})})}),(0,w.tZ)(p.Z,{symbol:"bullet",children:e.map(((e,t)=>(0,w.tZ)(l.Z,{children:e},t)))})]})}if(x||!z)return(0,w.tZ)(j,{testId:"replay-loading-placeholder",height:"400px",width:"100%"});const B={pathname:`/organizations/${t}/replays/${r}/`,query:{referrer:(0,b.Z)(d),t_main:"console",t:P}};return(0,w.tZ)(c.z,{isFetching:x,replay:v,initialTimeOffset:P,children:(0,w.BX)(D,{"data-test-id":"player-container",children:[(0,w.tZ)(R,{children:(0,w.tZ)(h.Z,{isPreview:!0})}),(0,w.tZ)(_,{children:(0,w.tZ)(n.zx,{icon:(0,w.tZ)(y.JF,{}),priority:"primary",to:B,children:(0,g.t)("Open Replay")})}),(0,w.BX)(T,{children:[(0,w.tZ)(S,{children:(0,g.t)("Replays")}),(0,w.tZ)(m.Z,{})]})]})})}k.displayName="ReplayPreview";const D=(0,a.Z)(v.Z,{target:"e7frq835"})("position:relative;margin-bottom:",(0,x.D)(2),";background:",(e=>e.theme.background),";gap:",(0,x.D)(1),";max-height:448px;"),R=(0,a.Z)(v.Z,{target:"e7frq834"})("border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";"),_=(0,a.Z)("div",{target:"e7frq833"})({name:"pw760u",styles:"position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(255, 255, 255, 0.5)"}),T=(0,a.Z)("div",{target:"e7frq832"})("display:flex;align-items:center;position:absolute;top:",(0,x.D)(1),";right:",(0,x.D)(1),";background:",(e=>e.theme.background),";border-radius:2.25rem;padding:",(0,x.D)(.75)," ",(0,x.D)(.75)," ",(0,x.D)(.75)," ",(0,x.D)(1),";box-shadow:",(e=>e.theme.dropShadowLight),";gap:0 ",(0,x.D)(.25),";"),S=(0,a.Z)("div",{target:"e7frq831"})("font-size:",(e=>e.theme.fontSizeSmall),";line-height:0;color:",(e=>e.theme.text),";"),j=(0,a.Z)(d.Z,{target:"e7frq830"})("margin-bottom:",(0,x.D)(2),";"),q=k}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_eventReplay_replayPreview_tsx.cef0d1fa090309d732515b03a580acbc.js.map