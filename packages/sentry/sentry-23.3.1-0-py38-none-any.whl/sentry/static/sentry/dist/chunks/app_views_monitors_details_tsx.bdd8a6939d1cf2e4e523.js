"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_monitors_details_tsx"],{"./app/actionCreators/monitors.tsx":(e,t,s)=>{s.d(t,{M:()=>i,s:()=>a});var r=s("./app/actionCreators/indicator.tsx"),n=s("./app/locale.tsx"),o=s("../node_modules/@sentry/core/esm/exports.js");async function i(e,t,s){(0,r.E3)((0,n.t)("Deleting Monitor..."));try{await e.requestPromise(`/organizations/${t}/monitors/${s}/`,{method:"DELETE"}),(0,r.B8)()}catch{(0,r.Iw)((0,n.t)("Unable to remove monitor."))}}async function a(e,t,s,i){(0,r.E3)();try{const n=await e.requestPromise(`/organizations/${t}/monitors/${s}/`,{method:"PUT",data:i});return(0,r.B8)(),n}catch(e){a=e,o.$e((e=>{o.Tb(a)})),window.console&&console.error&&console.error(a),(0,r.Iw)((0,n.t)("Unable to update monitor."))}var a;return null}},"./app/components/issues/groupList.tsx":(e,t,s)=>{s.d(t,{Z:()=>I});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),i=s("../node_modules/lodash/isEqual.js"),a=s.n(i),d=s("../node_modules/lodash/omit.js"),l=s.n(d),p=s("../node_modules/query-string/index.js"),c=s("./app/actionCreators/members.tsx"),u=s("./app/components/emptyStateWarning.tsx"),m=s("./app/components/loadingError.tsx"),h=s("./app/components/loadingIndicator.tsx"),g=s("./app/components/pagination.tsx"),x=s("./app/components/panels/index.tsx"),Z=s("./app/components/replays/issuesReplayCountProvider.tsx"),y=s("./app/components/searchSyntax/parser.tsx"),b=s("./app/components/searchSyntax/utils.tsx"),w=s("./app/components/stream/group.tsx"),f=s("./app/locale.tsx"),v=s("./app/stores/groupStore.tsx"),k=s("./app/utils/withApi.tsx"),S=s("./app/utils/withSentryRouter.tsx"),R=s("./app/views/alerts/rules/metric/details/relatedIssuesNotAvailable.tsx"),C=s("./app/components/issues/groupListHeader.tsx"),j=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class E extends n.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{loading:!0,error:!1,errorData:null,groups:[],pageLinks:null}),(0,r.Z)(this,"listener",v.Z.listen((()=>this.onGroupChange()),void 0)),(0,r.Z)(this,"fetchData",(async()=>{v.Z.loadInitialData([]);const{api:e,orgId:t,queryParams:s}=this.props;e.clear(),this.setState({loading:!0,error:!1,errorData:null}),(0,c.MA)(e,t).then((e=>{this.setState({memberList:(0,c.M4)(e)})}));const r=this.getGroupListEndpoint(),n=(0,y.UG)((s??this.getQueryParams()).query);if(n&&(0,b.ly)({tree:n,noResultValue:!1,visitorTest:e=>{let{token:t,returnResult:s}=e;return t.type===y.WU.LogicBoolean?s(!0):null}}))this.setState({error:!0,errorData:{detail:R.H},loading:!1});else try{const[t,,s]=await e.requestPromise(r,{includeAllArgs:!0});v.Z.add(t),this.setState({error:!1,errorData:null,loading:!1,pageLinks:s?.getResponseHeader("Link")??null},(()=>{this.props.onFetchSuccess?.(this.state,this.handleCursorChange)}))}catch(e){this.setState({error:!0,errorData:e.responseJSON,loading:!1})}}))}componentDidMount(){this.fetchData()}shouldComponentUpdate(e,t){return!a()(this.state,t)||e.endpointPath!==this.props.endpointPath||e.query!==this.props.query||!a()(e.queryParams,this.props.queryParams)}componentDidUpdate(e){const t=["end"];e.orgId===this.props.orgId&&e.endpointPath===this.props.endpointPath&&e.query===this.props.query&&a()(l()(e.queryParams,t),l()(this.props.queryParams,t))||this.fetchData()}componentWillUnmount(){v.Z.reset(),this.listener?.()}getGroupListEndpoint(){const{orgId:e,endpointPath:t,queryParams:s}=this.props,r=t??`/organizations/${e}/issues/`,n=s??this.getQueryParams();return`${r}?${p.stringify(n)}`}getQueryParams(){const{location:e,query:t}=this.props,s=e.query;return s.limit=50,s.sort="new",s.query=t,s}handleCursorChange(e,t,s,r){const n=parseInt(s.page,10);let i=isNaN(n)?r:n+r;i<=0&&(e=void 0,i=void 0),o.browserHistory.push({pathname:t,query:{...s,cursor:e,page:i}})}onGroupChange(){const e=v.Z.getAllItems();a()(e,this.state.groups)||this.setState({groups:e})}render(){const{canSelectGroups:e,withChart:t,renderEmptyMessage:s,renderErrorMessage:r,withPagination:n,useFilteredStats:o,useTintRow:i,customStatsPeriod:a,queryParams:d,queryFilterDescription:l,narrowGroups:p,source:c}=this.props,{loading:y,error:b,errorData:v,groups:k,memberList:S,pageLinks:R}=this.state;if(y)return(0,j.tZ)(h.Z,{});if(b)return"function"==typeof r&&v?r(v,this.fetchData):(0,j.tZ)(m.Z,{onRetry:this.fetchData});if(0===k.length)return"function"==typeof s?s():(0,j.tZ)(x.s_,{children:(0,j.tZ)(x.N,{children:(0,j.tZ)(u.Z,{children:(0,j.tZ)("p",{children:(0,f.t)("There don't seem to be any events fitting the query.")})})})});const E="auto"===d?.groupStatsPeriod?d?.groupStatsPeriod:w.g;return(0,j.BX)(Z.Z,{groupIds:k.map((e=>{let{id:t}=e;return t})),children:[(0,j.BX)(x.s_,{children:[(0,j.tZ)(C.Z,{withChart:!!t,narrowGroups:p}),(0,j.tZ)(x.N,{children:k.map((s=>{let{id:r,project:n}=s;const d=S?.hasOwnProperty(n.slug)?S[n.slug]:void 0;return(0,j.tZ)(w.Z,{id:r,canSelect:e,withChart:t,memberList:d,useFilteredStats:o,useTintRow:i,customStatsPeriod:a,statsPeriod:E,queryFilterDescription:l,narrowGroups:p,source:c},r)}))})]}),n&&(0,j.tZ)(g.Z,{pageLinks:R,onCursor:this.handleCursorChange})]})}}E.displayName="GroupList",(0,r.Z)(E,"defaultProps",{canSelectGroups:!0,withChart:!0,withPagination:!0,useFilteredStats:!0,useTintRow:!0,narrowGroups:!1});const I=(0,k.Z)((0,S.Z)(E))},"./app/components/issues/groupListHeader.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/components/panels/index.tsx"),o=s("./app/locale.tsx"),i=s("./app/styles/space.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=e=>{let{withChart:t=!0,narrowGroups:s=!1,showLastTriggered:r=!1}=e;return(0,a.BX)(n.V9,{disablePadding:!0,children:[(0,a.tZ)(c,{children:(0,o.t)("Issue")}),t&&(0,a.tZ)(m,{narrowGroups:s,children:(0,o.t)("Graph")}),(0,a.tZ)(u,{children:(0,o.t)("events")}),(0,a.tZ)(u,{children:(0,o.t)("users")}),(0,a.tZ)(h,{narrowGroups:s,children:(0,o.t)("Assignee")}),r&&(0,a.tZ)(u,{children:(0,o.t)("Last Triggered")})]})};d.displayName="GroupListHeader";const l=d,p=(0,r.Z)("div",{target:"ev0gesp4"})("display:flex;align-self:center;margin:0 ",(0,i.D)(2),";color:",(e=>e.theme.subText),";"),c=(0,r.Z)(p,{target:"ev0gesp3"})("flex:1;width:66.66%;@media (min-width: ",(e=>e.theme.breakpoints.medium),"){width:50%;}"),u=(0,r.Z)(p,{target:"ev0gesp2"})("justify-content:flex-end;width:60px;white-space:nowrap;@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){width:80px;}"),m=(0,r.Z)(p,{target:"ev0gesp1"})("justify-content:space-between;width:160px;@media (max-width: ",(e=>e.narrowGroups?e.theme.breakpoints.xlarge:e.theme.breakpoints.large),"){display:none;}"),h=(0,r.Z)(p,{target:"ev0gesp0"})("justify-content:flex-end;width:80px;@media (max-width: ",(e=>e.narrowGroups?e.theme.breakpoints.large:e.theme.breakpoints.medium),"){display:none;}")},"./app/components/onboardingPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/components/panels/index.tsx"),o=s("./app/styles/space.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{image:t,children:s,...r}=e;return(0,i.tZ)(n.s_,{...r,children:(0,i.BX)(d,{children:[t?(0,i.tZ)(p,{children:t}):null,(0,i.tZ)(l,{centered:!t,children:s})]})})}a.displayName="OnboardingPanel";const d=(0,r.Z)("div",{target:"euclof22"})("padding:",(0,o.D)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),l=(0,r.Z)("div",{target:"euclof21"})("z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),p=(0,r.Z)(l,{target:"euclof20"})("position:relative;min-height:100px;max-width:300px;margin:",(0,o.D)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,o.D)(3),";max-width:auto;}"),c=a},"./app/utils/discover/charts.tsx":(e,t,s)=>{s.d(t,{CX:()=>i,Xp:()=>c,gu:()=>d,x1:()=>l});var r=s("./app/locale.tsx"),n=s("./app/utils.tsx"),o=s("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,n.ri)(e)?a(e,t):"—"}function a(e,t){if(!(0,n.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,o.rl)(e,2);case"duration":return(0,o.g9)(e/1e3,2,!0);case"size":return(0,n.F)(e);default:return e.toString()}}function d(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return l(e,t,s,r)}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return s?(0,o.Du)(e):e.toLocaleString();case"percentage":return(0,o.rl)(e,0);case"duration":return p(e,r);case"size":return(0,n.F)(e,0);default:return e.toString()}}function p(e,t){if(t??=u(e),0===e)return"0";switch(t){case o.ps:{const t=(e/o.ps).toFixed(0);return(0,r.t)("%swk",t)}case o.x4:{const t=(e/o.x4).toFixed(0);return(0,r.t)("%sd",t)}case o.kr:{const t=(e/o.kr).toFixed(0);return(0,r.t)("%shr",t)}case o.EB:{const t=(e/o.EB).toFixed(0);return(0,r.t)("%smin",t)}case o.sh:{const t=(e/o.sh).toFixed(0);return(0,r.t)("%ss",t)}default:const t=e.toFixed(0);return(0,r.t)("%sms",t)}}function c(e,t){let s=0;const r=function(e,t){let s;if(e[0]?.data){let r,n=e[0];e.forEach(((s,o)=>{let{seriesName:i,data:a}=s;!1!==t?.selected?.[i]&&a.length&&(n=e[o],r??=e[o])})),r?.data&&(s={max:Math.max(...r.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...n.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return s}(e,t);if(r){const e=(r.max+r.min)/2;s=u((r.max-r.min)/5),(e/s).toFixed(0).length>6&&(s=u(e))}return s}function u(e){return e>=o.ps?o.ps:e>=o.x4?o.x4:e>=o.kr?o.kr:e>=o.EB?o.EB:e>=o.sh?o.sh:1}},"./app/utils/useApiRequests.tsx":(e,t,s)=>{s.d(t,{Z:()=>b}),s("../node_modules/core-js/modules/es.error.cause.js");var r=s("../node_modules/react/index.js"),n=s("../node_modules/@sentry/core/esm/exports.js"),o=s("./app/components/loadingError.tsx"),i=s("./app/components/loadingIndicator.tsx"),a=s("./app/locale.tsx"),d=s("./app/utils/analytics.tsx"),l=s("./app/utils/getRouteStringFromRoutes.tsx"),p=s("./app/utils/useApi.tsx"),c=s("./app/utils/useLocation.tsx"),u=s("./app/utils/useParams.tsx"),m=s("./app/utils/useRoutes.tsx"),h=s("./app/views/permissionDenied.tsx"),g=s("./app/views/routeError.tsx"),x=s("./app/utils/useEffectAfterFirstRender.ts"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(){return(0,Z.tZ)(i.Z,{})}y.displayName="renderLoading";const b=function(e){let{endpoints:t,reloadOnVisible:s=!1,shouldReload:i=!1,shouldRenderBadRequests:b=!1,disableErrorReport:w=!0,onLoadAllEndpointsSuccess:f=(()=>{}),onRequestSuccess:v=(e=>{}),onRequestError:k=((e,t)=>{})}=e;const S=(0,p.Z)(),R=(0,c.T)(),C=(0,u.U)(),j=(0,r.useMemo)((()=>({data:{},isLoading:!0,hasError:!1,isReloading:!1,errors:{},remainingRequests:t.length})),[t.length]),[E,I]=(0,r.useState)(j),D=function(){const e=(0,m.V)(),t=(0,r.useRef)({hasMeasured:!1,finished:!1,error:!1});return(0,r.useEffect)((()=>{t.current={hasMeasured:!1,finished:!1,error:!1},e&&e.length&&d.oF.mark({name:`async-component-${(0,l.Z)(e)}`})}),[e]),(0,r.useCallback)((s=>{let{finished:r,error:n}=s;if(e&&(r&&(t.current.finished=!0),n&&(t.current.error=!0),!t.current.hasMeasured&&t.current.finished)){const s=(0,l.Z)(e);d.oF.measure({name:"app.component.async-component",start:`async-component-${s}`,data:{route:s,error:t.current.error}}),t.current.hasMeasured=!0}}),[e])}(),P=(0,r.useCallback)(((e,t)=>{let{stateKey:s,data:r,resp:n}=e;I((e=>{const o={...e,data:{...e.data,[s]:r,[`${s}PageLinks`]:n?.getResponseHeader("Link")}};return t&&(o.remainingRequests=e.remainingRequests-1,o.isLoading=e.remainingRequests>1,o.isReloading=e.isReloading&&o.isLoading,D({finished:0===o.remainingRequests})),o})),v({stateKey:s,data:r,resp:n})}),[v,D]),q=(0,r.useCallback)(((e,t)=>{const[s]=t;e&&e.responseText&&n.n_({message:e.responseText,category:"xhr",level:"error"}),I((t=>{const r=t.remainingRequests>1,n={errors:{...t.errors,[s]:e},data:{...t.data,[s]:null},hasError:t.hasError||!!e,remainingRequests:t.remainingRequests-1,isLoading:r,isReloading:t.isReloading&&r};return D({finished:0===n.remainingRequests,error:!0}),n})),k(e,t)}),[D,k]),L=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.length?(S.clear(),I((s=>({...s,isLoading:!0,hasError:!1,remainingRequests:t.length,...e}))),await Promise.all(t.map((async e=>{let[t,s,r,n]=e;n=n??{};const o=R&&R.query||{};let i=r&&r.query||{};!n.paginate&&!o.cursor||n.disableEntireQuery||(i={...o,...i});try{const e=await S.requestPromise(s,{method:"GET",...r,query:i,includeAllArgs:!0}),[n,o,a]=e;P({stateKey:t,data:n,resp:a},!0)}catch(e){q(e,[t,s,r,n])}})))):I((e=>({...e,data:{},isLoading:!1,hasError:!1})))}),[S,t,q,P,R]),_=(0,r.useCallback)((()=>L({isReloading:!0})),[L]),z=(0,r.useCallback)((async()=>{try{await L()}catch(e){throw I((e=>({...e,hasError:!0}))),e}}),[L]);(0,r.useEffect)((()=>{z()}),[]);const N=(0,r.useCallback)((()=>i?_():(I({...j}),L())),[j,_,L,i]);(0,x.K)((()=>{N()}),[R?.search,R?.state,C]);const B=(0,r.useCallback)((()=>!E.isLoading&&!document.hidden&&_()),[E.isLoading,_]);(0,r.useEffect)((()=>(s&&document.addEventListener("visibilitychange",B),()=>document.removeEventListener("visibilitychange",B))),[s,B]),(0,r.useEffect)((()=>{t.length&&0===E.remainingRequests&&!E.hasError&&f()}),[E.remainingRequests,E.hasError,t.length]);const A=(0,r.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=E.errors,r=Object.values(s).some((e=>401===e?.status)),n=Object.values(s).some((e=>403===e?.status)),i=!!Object.values(s).some((e=>0!==e?.status))||t;if(r)return(0,Z.tZ)(o.Z,{message:(0,a.t)("You are not authorized to access this resource.")});if(n)return(0,Z.tZ)(h.Z,{});if(b){const e=Object.values(s).filter((e=>400===e?.status&&e?.responseJSON?.detail)).map((e=>e.responseJSON.detail));if(e.length)return(0,Z.tZ)(o.Z,{message:[...new Set(e)].join("\n")})}return(0,Z.tZ)(g.Z,{error:e,disableLogSentry:!i,disableReport:w})}),[E.errors,w,b]),T=E.isLoading&&(!i||!E.isReloading),M=(0,r.useCallback)((e=>T?y():E.hasError?A(new Error("Unable to load all required endpoints")):e),[T,E.hasError,A]);return{...E,renderComponent:M}}},"./app/utils/useEffectAfterFirstRender.ts":(e,t,s)=>{s.d(t,{K:()=>n});var r=s("../node_modules/react/index.js");const n=(e,t)=>{const s=(0,r.useRef)(!0);(0,r.useEffect)((()=>{s.current?s.current=!1:e()}),t)}},"./app/views/alerts/rules/metric/details/relatedIssuesNotAvailable.tsx":(e,t,s)=>{s.d(t,{H:()=>l,z:()=>p});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/components/acl/feature.tsx"),o=s("./app/components/alert.tsx"),i=s("./app/components/button.tsx"),a=s("./app/components/panels/index.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l='Error parsing search query: Boolean statements containing "OR" or "AND" are not supported in this search',p=e=>{let{buttonTo:t,buttonText:s}=e;return(0,d.tZ)(c,{type:"info",showIcon:!0,trailingItems:(0,d.tZ)(n.Z,{features:["discover-basic"],children:(0,d.tZ)(i.zx,{priority:"default",size:"xs",to:t,children:s})}),children:(0,d.tZ)("div",{"data-test-id":"loading-error-message",children:"Related Issues unavailable for this alert."})})};p.displayName="RelatedIssuesNotAvailable";const c=(0,r.Z)(o.bZ,{target:"e1qw7yyr0"})(a.s_," &{border-radius:0;border-width:1px 0;}")},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("./app/components/asyncComponent.tsx"),n=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends r.Z{getTitle(){return""}render(){return(0,o.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}i.displayName="AsyncView"},"./app/views/monitors/components/cronsFeedbackButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("./app/components/featureFeedback/index.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=()=>(0,n.tZ)(r.z,{featureName:"crons",buttonProps:{size:"sm"}});o.displayName="CronsFeedbackButton";const i=o},"./app/views/monitors/details.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>fe});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),i=s("./app/components/datePageFilter.tsx"),a=s("./app/components/layouts/thirds.tsx"),d=s("./app/components/organizations/pageFilterBar.tsx"),l=s("./app/styles/space.tsx"),p=s("./app/utils/routeAnalytics/withRouteAnalytics.tsx"),c=s("./app/utils/withOrganization.tsx"),u=s("./app/views/asyncView.tsx"),m=s("./app/components/button.tsx"),h=s("./app/components/duration.tsx"),g=s("./app/components/pagination.tsx"),x=s("./app/components/panels/index.tsx"),Z=s("./app/components/timeSince.tsx"),y=s("./app/components/tooltip.tsx"),b=s("./app/icons/index.tsx"),w=s("./app/locale.tsx"),f=s("./app/utils.tsx"),v=s("./app/utils/useApiRequests.tsx"),k=s("./app/views/monitors/types.tsx");const S=(0,n.Z)("div",{target:"e1gy3mdh0"})("display:inline-block;position:relative;border-radius:50%;height:",(e=>e.size),"px;width:",(e=>e.size),"px;",(e=>e.color?`background: ${e.color};`:`background: ${e.status===k.NI.ERROR?e.theme.error:e.status===k.NI.OK?e.theme.success:e.status===k.NI.MISSED?e.theme.warning:e.theme.disabled};`),";");var R=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const C=e=>{let{monitor:t,orgId:s}=e;const{data:r,hasError:n,renderComponent:i}=(0,v.Z)({endpoints:[["checkInList",`/organizations/${s}/monitors/${t.slug}/checkins/`,{query:{per_page:"10"}},{paginate:!0}]]}),a=i((0,R.BX)(o.Fragment,{children:[(0,R.BX)(x.s_,{children:[(0,R.tZ)(x.V9,{children:(0,w.t)("Recent Check-ins")}),(0,R.tZ)(x.N,{children:r.checkInList?.map((e=>{return(0,R.BX)(x.Lv,{children:[(0,R.tZ)(E,{children:(0,R.tZ)(y.u,{title:(0,w._N)("Check In Status: [status]",{status:e.status}),children:(0,R.tZ)(S,{status:e.status,size:16})})}),(0,R.tZ)(I,{children:(0,R.tZ)(Z.Z,{date:e.dateCreated})}),(0,R.tZ)(D,{children:(0,f.ri)(e.duration)&&(0,R.tZ)(h.Z,{seconds:e.duration/1e3})}),(0,R.tZ)(q,{children:e.attachmentId&&(0,R.tZ)(m.zx,{size:"xs",icon:(0,R.tZ)(b.Dj,{size:"xs"}),href:(r=e,`/api/0/organizations/${s}/monitors/${t.slug}/checkins/${r.id}/attachment/`),children:"Attachment"})})]},e.id);var r}))})]}),(0,R.tZ)(g.Z,{pageLinks:r.checkInListPageLinks})]}));return n?(0,R.tZ)(P,{children:a}):a},j=(0,n.Z)("div",{target:"e1xxdkb5"})("margin-right:",(0,l.D)(2),";"),E=(0,n.Z)(j,{target:"e1xxdkb4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),I=(0,n.Z)(j,{target:"e1xxdkb3"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),D=(0,n.Z)("div",{target:"e1xxdkb2"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),P=(0,n.Z)("div",{target:"e1xxdkb1"})("margin:",(0,l.D)(3)," ",(0,l.D)(3)," 0;"),q=(0,n.Z)("div",{target:"e1xxdkb0"})({name:"1o3nkn",styles:"margin-left:auto"});var L=s("./app/components/breadcrumbs.tsx"),_=s("./app/components/charts/styles.tsx"),z=s("./app/components/clipboard.tsx"),N=s("./app/components/idBadge/index.tsx"),B=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react-router/es/index.js")),A=s("./app/actionCreators/monitors.tsx"),T=s("./app/components/buttonBar.tsx"),M=s("./app/components/confirm.tsx"),F=s("./app/utils/useApi.tsx"),$=s("./app/utils/withDomainRequired.tsx"),O=s("./app/views/monitors/components/cronsFeedbackButton.tsx");const G=e=>{let{monitor:t,orgId:s,onUpdate:r}=e;const n=(0,F.Z)();return(0,R.BX)(T.ZP,{gap:1,children:[(0,R.tZ)(O.Z,{}),(0,R.tZ)(M.Z,{onConfirm:async()=>{await(0,A.M)(n,s,t.slug),B.browserHistory.push((0,$.D)(`/organizations/${s}/crons/`))},message:(0,w.t)("Are you sure you want to permanently delete this cron monitor?"),children:(0,R.tZ)(m.zx,{size:"sm",icon:(0,R.tZ)(b.Fz,{size:"xs"}),children:(0,w.t)("Delete")})}),(0,R.tZ)(m.zx,{size:"sm",icon:"disabled"!==t.status?(0,R.tZ)(b.ky,{size:"xs"}):(0,R.tZ)(b.JF,{size:"xs"}),onClick:()=>(async e=>{const o=await(0,A.s)(n,s,t.slug,e);r?.(o)})({status:t.status===k.wo.DISABLED?k.wo.ACTIVE:k.wo.DISABLED}),children:"disabled"!==t.status?(0,w.t)("Pause"):(0,w.t)("Resume")}),(0,R.tZ)(m.zx,{priority:"primary",size:"sm",icon:(0,R.tZ)(b.yl,{size:"xs"}),to:`/organizations/${s}/crons/${t.slug}/edit/`,children:(0,w.t)("Edit")})]})};G.displayName="MonitorHeaderActions";const X=G,U=(0,n.Z)("div",{target:"e1ym8bu50"})("display:inline-block;position:relative;border-radius:50%;height:",(e=>e.size),"px;width:",(e=>e.size),"px;",(e=>e.color?`background: ${e.color};`:`background: ${"error"===e.status?e.theme.error:"ok"===e.status?e.theme.success:"missed_checkin"===e.status?e.theme.warning:e.theme.disabled};`),";"),H={ok:(0,w.t)("Ok"),error:(0,w.t)("Failed"),disabled:(0,w.t)("Disabled"),active:(0,w.t)("Active"),missed_checkin:(0,w.t)("Missed")},V=e=>{let{monitor:t,orgId:s,onUpdate:r}=e;const n=[{label:(0,w.t)("Crons"),to:`/organizations/${s}/crons/`},{label:(0,w.t)("Cron Monitor Details")}];return(0,R.BX)(a.h4,{children:[(0,R.BX)(a.oB,{children:[(0,R.tZ)(L.Z,{crumbs:n}),(0,R.BX)(a.Dx,{children:[(0,R.tZ)(N.Z,{project:t.project,avatarSize:28,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:t.project.slug}}),t.name]}),(0,R.tZ)(z.Z,{value:t.slug,children:(0,R.BX)(K,{children:[t.slug," ",(0,R.tZ)(b.vU,{size:"xs"})]})})]}),(0,R.BX)(a.kP,{children:[(0,R.tZ)(X,{orgId:s,monitor:t,onUpdate:r}),(0,R.BX)(W,{children:[(0,R.tZ)(J,{children:(0,w.t)("Last Check-in")}),(0,R.tZ)(J,{children:(0,w.t)("Next Check-in")}),(0,R.tZ)(J,{children:(0,w.t)("Status")}),(0,R.tZ)("div",{children:t.lastCheckIn&&(0,R.tZ)(Z.Z,{date:t.lastCheckIn})}),(0,R.tZ)("div",{children:t.nextCheckIn&&(0,R.tZ)(Z.Z,{date:t.nextCheckIn})}),(0,R.BX)(Q,{children:[(0,R.tZ)(U,{status:t.status,size:16}),(0,R.tZ)(Y,{children:H[t.status]})]})]})]})]})};V.displayName="MonitorHeader";const K=(0,n.Z)("div",{target:"emeoly94"})("margin-top:",(0,l.D)(1),";color:",(e=>e.theme.subText),";cursor:pointer;width:max-content;"),W=(0,n.Z)("div",{target:"emeoly93"})("display:grid;align-self:flex-end;grid-template-columns:repeat(3, max-content);grid-column-gap:",(0,l.D)(4),";grid-row-gap:",(0,l.D)(.5),";margin-bottom:",(0,l.D)(2),";margin-top:",(0,l.D)(1),";"),J=(0,n.Z)(_.OT,{target:"emeoly92"})("text-transform:uppercase;font-size:",(e=>e.theme.fontSizeSmall),";text-align:center;"),Q=(0,n.Z)("div",{target:"emeoly91"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Y=(0,n.Z)("div",{target:"emeoly90"})("margin-left:",(0,l.D)(1),";"),ee=V;var te=s("./app/components/emptyStateWarning.tsx"),se=s("./app/components/issues/groupList.tsx"),re=s("./app/utils/dates.tsx"),ne=s("./app/utils/usePageFilters.tsx");const oe=()=>(0,R.tZ)(x.s_,{children:(0,R.tZ)(x.N,{children:(0,R.tZ)(te.Z,{children:(0,R.tZ)("p",{children:(0,w.t)("No issues relating to this cron monitor have been found.")})})})});oe.displayName="MonitorIssuesEmptyMessage";const ie=e=>{let{orgId:t,monitor:s}=e;const{selection:r}=(0,ne.Z)(),{start:n,end:o,period:i}=r.datetime,a=n&&o?{start:(0,re.v5)(n),end:(0,re.v5)(o)}:{statsPeriod:i};return(0,R.tZ)(se.Z,{orgId:t,endpointPath:`/organizations/${t}/issues/`,queryParams:{query:`monitor.id:"${s.id}"`,project:s.project.id,limit:5,...a},query:"",renderEmptyMessage:oe,canSelectGroups:!1,withPagination:!1,withChart:!1,useTintRow:!1,source:"monitors"})};ie.displayName="MonitorIssues";const ae=ie;var de=s("./app/components/charts/barChart.tsx"),le=s("./app/components/charts/miniBarChart.tsx"),pe=s("./app/components/charts/series/lineSeries.tsx"),ce=s("./app/components/emptyMessage.tsx"),ue=s("./app/utils/discover/charts.tsx"),me=s("./app/utils/theme.tsx");const he=e=>{let{monitor:t,orgId:s}=e;const{selection:r}=(0,ne.Z)(),{start:n,end:o,period:i}=r.datetime;let a,d;n&&o?(d=new Date(o).getTime()/1e3,a=new Date(n).getTime()/1e3):(d=Math.floor((new Date).getTime()/1e3),a=d-(0,re.NI)(i??"30d")/1e3);const{data:l,renderComponent:p}=(0,v.Z)({endpoints:[["stats",`/organizations/${s}/monitors/${t.slug}/stats/`,{query:{since:a.toString(),until:d.toString(),resolution:"1d"}}]]});let c=!0;const u={seriesName:(0,w.t)("Successful"),yAxisIndex:0,data:[]},m={seriesName:(0,w.t)("Failed"),yAxisIndex:0,data:[]},h={seriesName:(0,w.t)("Missed"),yAxisIndex:0,data:[]},g=[];l.stats?.forEach((e=>{(e.ok||e.error||e.missed)&&(c=!1);const t=1e3*e.ts;u.data.push({name:t,value:e.ok}),m.data.push({name:t,value:e.error}),h.data.push({name:t,value:e.missed}),g.push([t,Math.trunc(e.duration)])}));const Z=[me.ZP.green200,me.ZP.red200,me.ZP.yellow200],y=(0,w.t)("Average Duration"),b=[(0,pe.Z)({name:y,data:g,lineStyle:{color:me.ZP.purple300,width:2},itemStyle:{color:me.ZP.purple300},yAxisIndex:1,animation:!1})],f=e=>({max:(0,le.v)(150),splitLine:{show:!1},axisLabel:{formatter:t=>(0,ue.gu)(t,e,!0),showMaxLabel:!1}});return p((0,R.tZ)(x.s_,{children:(0,R.tZ)(x.N,{withPadding:!0,children:c?(0,R.tZ)(ce.Z,{title:(0,w.t)("No check-ins have been recorded for this time period.")}):(0,R.tZ)(de.v,{isGroupedByDate:!0,showTimeInTooltip:!0,useShortDate:!0,series:[u,m,h],stacked:!0,additionalSeries:b,height:150,colors:Z,tooltip:{trigger:"axis",valueFormatter:(e,t)=>t===y?(0,ue.CX)(e,"duration"):(0,ue.CX)(e,"number")},yAxes:[{...f("number")},{...f("duration")}],grid:{top:6,bottom:0,left:4,right:0},animation:!1})})}))};var ge=s("./images/spot/onboarding-preview.svg"),xe=s("./app/components/onboardingPanel.tsx");const Ze=()=>(0,R.BX)(xe.Z,{image:(0,R.tZ)("img",{src:ge}),children:[(0,R.tZ)("h3",{children:(0,w.t)("Learn how to instrument your cron monitor")}),(0,R.tZ)("p",{children:(0,w.t)("We'll tell you if this recurring job is running on schedule, failing, or succeeding.")}),(0,R.tZ)(m.zx,{priority:"primary",href:"https://docs.sentry.io/product/crons/getting-started/#step-2-set-up-health-checks",external:!0,children:(0,w.t)("Start Setup")})]});Ze.displayName="MonitorOnboarding";const ye=Ze;class be extends u.Z{constructor(){super(...arguments),(0,r.Z)(this,"onUpdate",(e=>this.setState((t=>({monitor:{...t.monitor,...e}})))))}get orgSlug(){return this.props.organization.slug}getEndpoints(){const{params:e,location:t}=this.props;return[["monitor",`/organizations/${this.orgSlug}/monitors/${e.monitorSlug}/`,{query:t.query}]]}getTitle(){return this.state.monitor?`${this.state.monitor.name} - Monitors - ${this.orgSlug}`:`Monitors - ${this.orgSlug}`}onRequestSuccess(e){this.props.setEventNames("monitors.details_page_viewed","Monitors: Details Page Viewed"),this.props.setRouteAnalyticsParams({empty_state:!e.data?.lastCheckIn})}renderBody(){const{monitor:e}=this.state;return null===e?null:(0,R.BX)(a.T3,{children:[(0,R.tZ)(ee,{monitor:e,orgId:this.orgSlug,onUpdate:this.onUpdate}),(0,R.tZ)(a.uT,{children:(0,R.tZ)(a.or,{fullWidth:!0,children:e.lastCheckIn?(0,R.BX)(o.Fragment,{children:[(0,R.tZ)(we,{condensed:!0,children:(0,R.tZ)(i.Z,{alignDropdown:"left"})}),(0,R.tZ)(he,{monitor:e,orgId:this.orgSlug}),(0,R.tZ)(ae,{monitor:e,orgId:this.orgSlug}),(0,R.tZ)(C,{monitor:e,orgId:this.orgSlug})]}):(0,R.tZ)(ye,{})})})]})}}const we=(0,n.Z)(d.Z,{target:"eokg3rx0"})("margin-bottom:",(0,l.D)(2),";"),fe=(0,p.Z)((0,c.Z)(be))},"./app/views/monitors/types.tsx":(e,t,s)=>{let r,n,o,i;s.d(t,{Ix:()=>n,NI:()=>i,wo:()=>o}),function(e){e.UNKNOWN="unknown",e.CRON_JOB="cron_job"}(r||(r={})),function(e){e.CRONTAB="crontab",e.INTERVAL="interval"}(n||(n={})),function(e){e.OK="ok",e.ERROR="error",e.DISABLED="disabled",e.ACTIVE="active",e.MISSED_CHECKIN="missed_checkin"}(o||(o={})),function(e){e.OK="ok",e.ERROR="error",e.IN_PROGRESS="in_progress",e.MISSED="missed"}(i||(i={}))},"./images/spot/onboarding-preview.svg":(e,t,s)=>{e.exports=s.p+"assets/onboarding-preview.736a954711c5b3d5be05.svg"}}]);
//# sourceMappingURL=../sourcemaps/app_views_monitors_details_tsx.fd5e79798c65ac1035ec5b776926c95b.js.map