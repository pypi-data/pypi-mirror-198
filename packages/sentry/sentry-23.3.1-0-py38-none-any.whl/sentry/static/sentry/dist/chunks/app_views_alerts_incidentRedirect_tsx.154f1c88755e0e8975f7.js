"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_incidentRedirect_tsx"],{"./app/utils/discover/charts.tsx":(e,t,r)=>{r.d(t,{CX:()=>i,Xp:()=>E,gu:()=>o,x1:()=>l});var n=r("./app/locale.tsx"),s=r("./app/utils.tsx"),a=r("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,s.ri)(e)?u(e,t):"—"}function u(e,t){if(!(0,s.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,a.rl)(e,2);case"duration":return(0,a.g9)(e/1e3,2,!0);case"size":return(0,s.F)(e);default:return e.toString()}}function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return l(e,t,r,n)}function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return r?(0,a.Du)(e):e.toLocaleString();case"percentage":return(0,a.rl)(e,0);case"duration":return c(e,n);case"size":return(0,s.F)(e,0);default:return e.toString()}}function c(e,t){if(t??=R(e),0===e)return"0";switch(t){case a.ps:{const t=(e/a.ps).toFixed(0);return(0,n.t)("%swk",t)}case a.x4:{const t=(e/a.x4).toFixed(0);return(0,n.t)("%sd",t)}case a.kr:{const t=(e/a.kr).toFixed(0);return(0,n.t)("%shr",t)}case a.EB:{const t=(e/a.EB).toFixed(0);return(0,n.t)("%smin",t)}case a.sh:{const t=(e/a.sh).toFixed(0);return(0,n.t)("%ss",t)}default:const t=e.toFixed(0);return(0,n.t)("%sms",t)}}function E(e,t){let r=0;const n=function(e,t){let r;if(e[0]?.data){let n,s=e[0];e.forEach(((r,a)=>{let{seriesName:i,data:u}=r;!1!==t?.selected?.[i]&&u.length&&(s=e[a],n??=e[a])})),n?.data&&(r={max:Math.max(...n.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...s.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return r}(e,t);if(n){const e=(n.max+n.min)/2;r=R((n.max-n.min)/5),(e/r).toFixed(0).length>6&&(r=R(e))}return r}function R(e){return e>=a.ps?a.ps:e>=a.x4?a.x4:e>=a.kr?a.kr:e>=a.EB?a.EB:e>=a.sh?a.sh:1}},"./app/views/alerts/incidentRedirect.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r("../node_modules/react/index.js"),s=r("../node_modules/react-router/es/index.js"),a=r("./app/components/loadingError.tsx"),i=r("./app/components/loadingIndicator.tsx"),u=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),o=r("./app/utils/useApi.tsx"),l=r("./app/utils/withDomainRequired.tsx"),c=r("./app/views/alerts/utils/apiCalls.tsx"),E=r("./app/views/alerts/utils/index.tsx"),R=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{organization:t,params:r}=e;const d=(0,o.Z)(),[p,S]=(0,n.useState)(!1),T=(0,n.useCallback)((()=>{(0,u.Z)("alert_details.viewed",{organization:t,alert_id:parseInt(r.alertId,10)})}),[t,r.alertId]),A=(0,n.useCallback)((async()=>{S(!1);try{const e=await(0,c.yN)(d,t.slug,r.alertId);s.browserHistory.replace((0,l.D)({pathname:(0,E.Gu)(t,e),query:{alert:e.identifier}}))}catch(e){S(!0)}}),[S,d,r.alertId,t]);return(0,n.useEffect)((()=>{A(),T()}),[A,T]),p?(0,R.tZ)(a.Z,{onRetry:A}):(0,R.tZ)(i.Z,{})}d.displayName="IncidentRedirect";const p=d},"./app/views/alerts/rules/metric/types.tsx":(e,t,r)=>{r.d(t,{F4:()=>a,GM:()=>o,LO:()=>p,Lm:()=>S,Tb:()=>R,Us:()=>d,XH:()=>E,Yh:()=>l,hd:()=>T,lK:()=>c,lT:()=>s,qz:()=>u,t6:()=>i});var n=r("./app/locale.tsx");let s,a,i,u,o,l,c,E,R,d;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(s||(s={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(a||(a={})),function(e){e.COUNT="count",e.CHANGE="change",e.PERCENT="percent"}(i||(i={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.GENERIC_METRICS="generic_metrics",e.SESSIONS="sessions",e.METRICS="metrics"}(u||(u={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(o||(o={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(l||(l={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(c||(c={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(E||(E={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(R||(R={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(d||(d={}));const p={[d.EMAIL]:(0,n.t)("Emai​l"),[d.SLACK]:(0,n.t)("Slack"),[d.PAGERDUTY]:(0,n.t)("Pagerduty"),[d.MSTEAMS]:(0,n.t)("MS Teams"),[d.SENTRY_APP]:(0,n.t)("Notification")};let S;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(S||(S={}));const T={[S.USER]:(0,n.t)("Member"),[S.TEAM]:(0,n.t)("Team")}},"./app/views/alerts/types.tsx":(e,t,r)=>{let n,s,a,i,u,o;r.d(t,{Gb:()=>u,XO:()=>o,lm:()=>s,ok:()=>n,vt:()=>a}),function(e){e.METRIC="metric",e.ISSUE="issue"}(n||(n={})),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(s||(s={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(a||(a={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(u||(u={})),function(e){e.METRIC="alert_rule",e.ISSUE="rule"}(o||(o={}))},"./app/views/alerts/utils/apiCalls.tsx":(e,t,r)=>{r.d(t,{dX:()=>s,hl:()=>a,yN:()=>i});const n=new(r("./app/api.tsx").KU);function s(e,t,r){return n.requestPromise(`/organizations/${e}/alert-rules/${t}/`,{query:r})}function a(e,t,r,s){return n.requestPromise(`/organizations/${e}/incidents/`,{query:{project:"-1",alertRule:t,includeSnapshots:!0,start:r,end:s,expand:["activities","seen_by","original_alert_rule"]}})}function i(e,t,r){return e.requestPromise(`/organizations/${t}/incidents/${r}/`)}},"./app/views/alerts/utils/index.tsx":(e,t,r)=>{r.d(t,{A4:()=>A,CM:()=>p,Eb:()=>N,Ey:()=>S,Gm:()=>d,Gu:()=>U,KC:()=>T,LI:()=>x,QR:()=>m,Vc:()=>_,g2:()=>h,lR:()=>O,qn:()=>I,t3:()=>f}),r("../node_modules/core-js/modules/es.array.includes.js");var n=r("../node_modules/lodash/round.js"),s=r.n(n),a=r("./app/locale.tsx"),i=r("./app/types/index.tsx"),u=r("./app/utils.tsx"),o=(r("./app/utils/dates.tsx"),r("./app/utils/discover/charts.tsx")),l=r("./app/utils/discover/fields.tsx"),c=r("./app/utils/toArray.tsx"),E=r("./app/views/alerts/rules/metric/types.tsx"),R=r("./app/views/alerts/types.tsx");function d(e){return!e.hasOwnProperty("triggers")}const p={[E.qz.ERRORS]:(0,a.t)("Errors"),[E.qz.TRANSACTIONS]:(0,a.t)("Transactions"),[E.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[E.Yh.ERROR]:"event.type:error",[E.Yh.DEFAULT]:"event.type:default",[E.Yh.TRANSACTION]:"event.type:transaction"},S={[E.Yh.ERROR_DEFAULT]:{dataset:E.qz.ERRORS,eventTypes:[E.GM.ERROR,E.GM.DEFAULT]},[E.Yh.ERROR]:{dataset:E.qz.ERRORS,eventTypes:[E.GM.ERROR]},[E.Yh.DEFAULT]:{dataset:E.qz.ERRORS,eventTypes:[E.GM.DEFAULT]},[E.Yh.TRANSACTION]:{dataset:E.qz.TRANSACTIONS,eventTypes:[E.GM.TRANSACTION]}};function T(e,t){return e===E.qz.TRANSACTIONS||e===E.qz.GENERIC_METRICS?E.Yh.TRANSACTION:t?t.includes(E.GM.DEFAULT)&&t.includes(E.GM.ERROR)?E.Yh.ERROR_DEFAULT:t.includes(E.GM.DEFAULT)?E.Yh.DEFAULT:E.Yh.ERROR:E.Yh.ERROR}function A(e){let t=e.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return t?"default,error"!==t.slice(1,3).sort().join(",")?null:{source:E.Yh.ERROR_DEFAULT,query:e.replace(t[0],"").trim()}:(t=e.match(/(^|\s)event\.type:(error|default|transaction)/i),t&&E.Yh[t[2].toUpperCase()]?{source:E.Yh[t[2].toUpperCase()],query:e.replace(t[0],"").trim()}:null)}function N(e){return Object.values(E.lK).includes(e)}const _={[E.lK.CRASH_FREE_SESSIONS]:i.kI.SESSIONS,[E.lK.CRASH_FREE_USERS]:i.kI.USERS};function O(e,t,r){return N(r)?(0,u.ri)(e)?`${s()(e,2)}%`:"―":(0,o.gu)(e,(0,l.Px)(t))}function I(e,t,r){return N(r)?(0,u.ri)(e)?`${e}%`:"―":(0,o.CX)(e,(0,l.Px)(t))}const f=1.03;function m(e){return N(e)}function U(e,t){return`/organizations/${e.slug}/alerts/rules/details/${t.alertRule.status===R.Gb.SNAPSHOT&&t.alertRule.originalAlertRuleId?t.alertRule.originalAlertRuleId:t.alertRule.id}/`}function h(e){return Array.isArray(e)||""===e?"all":["open","closed"].includes(e)?e:"all"}const C=["myteams","unassigned"];function x(e){return void 0===e?C:""===e?[]:(0,c.Z)(e)}}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_incidentRedirect_tsx.2531da6210c066b2f4ef0f6f6f597073.js.map