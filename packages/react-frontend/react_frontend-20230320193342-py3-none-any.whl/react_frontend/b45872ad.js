"use strict";(self.webpackChunkreact_frontend=self.webpackChunkreact_frontend||[]).push([[7955],{54919:function(e,t,n){n.d(t,{Q:function(){return r}});var r=function(e,t){return e?t.map((function(t){return t in e.attributes?"has-"+t:""})).filter((function(e){return""!==e})).join(" "):""}},98462:function(e,t,n){var r,i=n(50856),o=n(28426);n(25437),n(46959);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,n,o,a=l(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return t=u,o=[{key:"template",get:function(){return(0,i.d)(r||(e=['\n      <style>\n        :host {\n          display: block;\n        }\n\n        .title {\n          margin: 5px 0 8px;\n          color: var(--primary-text-color);\n        }\n\n        .slider-container {\n          display: flex;\n        }\n\n        ha-icon {\n          margin-top: 4px;\n          color: var(--secondary-text-color);\n        }\n\n        ha-slider {\n          flex-grow: 1;\n          background-image: var(--ha-slider-background);\n          border-radius: 4px;\n        }\n      </style>\n\n      <div class="title">[[_getTitle()]]</div>\n      <div class="extra-container"><slot name="extra"></slot></div>\n      <div class="slider-container">\n        <ha-icon icon="[[icon]]" hidden$="[[!icon]]"></ha-icon>\n        <ha-slider\n          min="[[min]]"\n          max="[[max]]"\n          step="[[step]]"\n          pin="[[pin]]"\n          disabled="[[disabled]]"\n          value="{{value}}"\n        ></ha-slider>\n      </div>\n      <template is="dom-if" if="[[helper]]">\n        <ha-input-helper-text>[[helper]]</ha-input-helper-text>\n      </template>\n    '],t||(t=e.slice(0)),r=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}},{key:"properties",get:function(){return{caption:String,disabled:Boolean,required:Boolean,min:Number,max:Number,pin:Boolean,step:Number,helper:String,extra:{type:Boolean,value:!1},ignoreBarTouch:{type:Boolean,value:!0},icon:{type:String,value:""},value:{type:Number,notify:!0}}}}],(n=[{key:"_getTitle",value:function(){return"".concat(this.caption).concat(this.caption&&this.required?" *":"")}}])&&c(t.prototype,n),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.H3);customElements.define("ha-labeled-slider",f)},97955:function(e,t,n){n.r(t);n(44577),n(66553);var r,i=n(50856),o=n(28426),a=n(54919),c=n(56311),s=(n(31508),n(25437),n(32678),n(98462),n(71133),n(84323),function(e){return e[e.SET_SPEED=1]="SET_SPEED",e[e.OSCILLATE=2]="OSCILLATE",e[e.DIRECTION=4]="DIRECTION",e[e.PRESET_MODE=8]="PRESET_MODE",e}({})),l=n(9488);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,o,l=d(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l.apply(this,arguments)}return t=u,o=[{key:"template",get:function(){return(0,i.d)(r||(e=['\n      <style include="iron-flex"></style>\n      <style>\n        .container-preset_modes,\n        .container-direction,\n        .container-percentage,\n        .container-oscillating {\n          display: none;\n        }\n\n        .has-percentage .container-percentage,\n        .has-preset_modes .container-preset_modes,\n        .has-direction .container-direction,\n        .has-oscillating .container-oscillating {\n          display: block;\n          margin-top: 8px;\n        }\n\n        ha-select {\n          width: 100%;\n        }\n      </style>\n\n      <div class$="[[computeClassNames(stateObj)]]">\n        <div class="container-percentage">\n          <ha-labeled-slider\n            caption="[[localize(\'ui.card.fan.speed\')]]"\n            min="0"\n            max="100"\n            step="[[computePercentageStepSize(stateObj)]]"\n            value="{{percentageSliderValue}}"\n            on-change="percentageChanged"\n            pin=""\n            extra=""\n          ></ha-labeled-slider>\n        </div>\n\n        <div class="container-preset_modes">\n          <ha-select\n            label="[[localize(\'ui.card.fan.preset_mode\')]]"\n            value="[[stateObj.attributes.preset_mode]]"\n            on-selected="presetModeChanged"\n            fixedMenuPosition\n            naturalMenuWidth\n            on-closed="stopPropagation"\n          >\n            <template\n              is="dom-repeat"\n              items="[[stateObj.attributes.preset_modes]]"\n            >\n              <mwc-list-item value="[[item]]">[[item]]</mwc-list-item>\n            </template>\n          </ha-select>\n        </div>\n\n        <div class="container-oscillating">\n          <div class="center horizontal layout single-row">\n            <div class="flex">[[localize(\'ui.card.fan.oscillate\')]]</div>\n            <ha-switch\n              checked="[[oscillationToggleChecked]]"\n              on-change="oscillationToggleChanged"\n            >\n            </ha-switch>\n          </div>\n        </div>\n\n        <div class="container-direction">\n          <div class="direction">\n            <div>[[localize(\'ui.card.fan.direction\')]]</div>\n            <ha-icon-button\n              on-click="onDirectionReverse"\n              title="[[localize(\'ui.card.fan.reverse\')]]"\n              disabled="[[computeIsRotatingReverse(stateObj)]]"\n            >\n              <ha-icon icon="hass:rotate-left"></ha-icon>\n            </ha-icon-button>\n            <ha-icon-button\n              on-click="onDirectionForward"\n              title="[[localize(\'ui.card.fan.forward\')]]"\n              disabled="[[computeIsRotatingForward(stateObj)]]"\n            >\n              <ha-icon icon="hass:rotate-right"></ha-icon>\n            </ha-icon-button>\n          </div>\n        </div>\n      </div>\n\n      <ha-attributes\n        hass="[[hass]]"\n        state-obj="[[stateObj]]"\n        extra-filters="percentage_step,speed,preset_mode,preset_modes,speed_list,percentage,oscillating,direction"\n      ></ha-attributes>\n    '],t||(t=e.slice(0)),r=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}},{key:"properties",get:function(){return{hass:{type:Object},stateObj:{type:Object,observer:"stateObjChanged"},oscillationToggleChecked:{type:Boolean},percentageSliderValue:{type:Number}}}}],(n=[{key:"stateObjChanged",value:function(e,t){var n=this;e&&this.setProperties({oscillationToggleChecked:e.attributes.oscillating,percentageSliderValue:e.attributes.percentage}),t&&setTimeout((function(){n.fire("iron-resize")}),500)}},{key:"computePercentageStepSize",value:function(e){return e.attributes.percentage_step?e.attributes.percentage_step:1}},{key:"computeClassNames",value:function(e){return"more-info-fan "+((0,c.e)(e,s.SET_SPEED)?"has-percentage ":"")+(e.attributes.preset_modes&&e.attributes.preset_modes.length?"has-preset_modes ":"")+(0,a.Q)(e,["oscillating","direction"])}},{key:"presetModeChanged",value:function(e){var t=this.stateObj.attributes.preset_mode,n=e.target.value;n&&t!==n&&this.hass.callService("fan","set_preset_mode",{entity_id:this.stateObj.entity_id,preset_mode:n})}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"percentageChanged",value:function(e){var t=parseInt(this.stateObj.attributes.percentage,10),n=e.target.value;isNaN(n)||t===n||this.hass.callService("fan","set_percentage",{entity_id:this.stateObj.entity_id,percentage:n})}},{key:"oscillationToggleChanged",value:function(e){var t=this.stateObj.attributes.oscillating,n=e.target.checked;t!==n&&this.hass.callService("fan","oscillate",{entity_id:this.stateObj.entity_id,oscillating:n})}},{key:"onDirectionReverse",value:function(){this.hass.callService("fan","set_direction",{entity_id:this.stateObj.entity_id,direction:"reverse"})}},{key:"onDirectionForward",value:function(){this.hass.callService("fan","set_direction",{entity_id:this.stateObj.entity_id,direction:"forward"})}},{key:"computeIsRotatingReverse",value:function(e){return"reverse"===e.attributes.direction}},{key:"computeIsRotatingForward",value:function(e){return"forward"===e.attributes.direction}}])&&f(t.prototype,n),o&&f(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}((0,n(20744).Z)((0,l.I)(o.H3)));customElements.define("more-info-fan",y)}}]);