import{P as N}from"./ListviewItem-326db3c5.js";import{g as j,b as n,d as U,r as P,G,e as S,z as D,A as E,s as v,c as Y,h as a,q as d,w as r,i as s,p as m,l as y,j as p,v as u,F as w,x as I,m as q,k as g,n as z,Q as F}from"./index-b6297644.js";import{_ as B,b as R}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-e5f347c5.js";import{g as Q,b as J}from"./MediaItemContextMenu.vue_vue_type_style_index_0_lang-32ad9ef2.js";import{b as K,V as O,a as W}from"./VCardText-db93722d.js";import{a as X,V as b}from"./VCardTitle-916720bd.js";import{u as Z,V as x,a as T,l as _}from"./VBtn-a638fdfe.js";import{V as ee}from"./VMenu-ee0bbc98.js";import{V as A}from"./VCard-32859bd2.js";import{a as te}from"./VTooltip-138f7f67.js";import{b as ie,c as ae}from"./layout-78d5b8aa.js";import{b as re}from"./VSelect-97ee24b5.js";const H=j()({name:"VLayout",props:ie(),setup(e,l){let{slots:f}=l;const{layoutClasses:k,layoutStyles:V,getLayoutItem:$,items:C,layoutRef:L}=ae(e);return Z(()=>{var h;return n("div",{ref:L,class:k.value,style:V.value},[(h=f.default)==null?void 0:h.call(f)])}),{getLayoutItem:$,items:C}}}),ne={key:0,xs5:"","pa-5":""},le={key:0},me={key:1},oe={key:2},se={style:{"padding-bottom":"10px"}},de=["onClick"],ue={style:{color:"primary"}},ce={style:{display:"flex","margin-left":"14px","padding-bottom":"10px"}},ye=["innerHTML"],ge={key:1,class:"justify-center",style:{"margin-left":"15px","padding-bottom":"20px"}},fe={style:{position:"absolute",float:"right",right:"15px",top:"15px"}},Te=U({__name:"InfoHeader",props:{item:null},setup(e){const l=e,f=P(!1),k=P(),{mobile:V}=G(),$=new URL(""+new URL("info_gradient-a4aefd1d.jpg",import.meta.url).href,self.location).href,C=S();D(()=>l.item,async t=>{t&&(v.topBarTitle=t.name,k.value=await R(l.item,F.FANART)||await R(l.item,F.THUMB),v.topBarContextMenuItems=J([t],t))},{immediate:!0}),E(()=>{v.topBarContextMenuItems=[]});const L=function(t){C.push({name:"album",params:{itemId:t.item_id,provider:t.provider}})},h=function(t){console.log("artistClick",t),C.push({name:"artist",params:{itemId:t.item_id,provider:t.provider}})},M=Y(()=>{let t="";if(!l.item)return"";l.item.metadata&&l.item.metadata.description?t=l.item.metadata.description:l.item.metadata&&l.item.metadata.copyright?t=l.item.metadata.copyright:"artists"in l.item&&l.item.artists.forEach(function(i){"metadata"in i&&i.metadata.description&&(t=i.metadata.description)});const o=V.value?160:260;return t=t.replace(`\r
`,"<br /><br /><br />"),t=t.replace("\r","<br /><br />"),t=t.replace(`
`,"<br /><br />"),f.value?t:t.length>o?t.substring(0,o)+"...":t});return(t,o)=>(a(),d("div",null,[n(A,{variant:"flat",img:g($),style:{"margin-top":"-10px","z-index":"0"},height:"30vh","max-height":"500px","min-height":"340px"},{default:r(()=>[e.item?m("",!0):(a(),s(_,{key:0,indeterminate:""})),n(K,{width:"100%",height:"100%",cover:"",class:"background-image",src:k.value,gradient:t.$vuetify.theme.current.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},null,8,["src","gradient"]),e.item?(a(),s(H,{key:1,style:{margin:"0",position:"absolute",top:"50%","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)","padding-left":"15px","align-items":"center","padding-right":"15px"}},{default:r(()=>[t.$vuetify.display.mobile?m("",!0):(a(),d("div",ne,["artists"in e.item&&e.item.media_type?(a(),d("div",le,[n(B,{item:e.item,"min-size":192,style:{"margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},null,8,["item"])])):"owner"in e.item&&e.item.media_type?(a(),d("div",me,[n(B,{item:e.item,"min-size":192,style:{"margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},null,8,["item"])])):(a(),d("div",oe,[n(B,{item:e.item,tile:!1,"min-size":192,style:{"margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},null,8,["item"])]))])),y("div",null,[n(X,null,{default:r(()=>[p(u(e.item.name),1)]),_:1}),y("div",se,["version"in e.item&&e.item.version?(a(),s(b,{key:0,class:"caption"},{default:r(()=>[p(u(e.item.version),1)]),_:1})):m("",!0),"artists"in e.item&&e.item.artists?(a(),s(b,{key:1,class:"title accent--text"},{default:r(()=>[n(x,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),(a(!0),d(w,null,I(e.item.artists,(i,c)=>(a(),d("span",{key:i.item_id},[y("a",{style:{color:"accent"},onClick:pe=>h(i)},u(i.name),9,de),c+1<e.item.artists.length?(a(),d("span",{key:c,style:{color:"accent"}},u(" / "))):m("",!0)]))),128))]),_:1})):m("",!0),"artist"in e.item&&e.item.artist?(a(),s(b,{key:2,class:"title"},{default:r(()=>[n(x,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),y("a",{onClick:o[0]||(o[0]=i=>h(e.item.artist))},u(e.item.artist.name),1)]),_:1})):m("",!0),"owner"in e.item&&e.item.owner?(a(),s(b,{key:3,class:"title"},{default:r(()=>[n(x,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-account-music"}),y("a",ue,u(e.item.owner),1)]),_:1})):m("",!0),"album"in e.item&&e.item.album?(a(),s(b,{key:4},{default:r(()=>[n(x,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-album"}),y("a",{style:{color:"secondary"},onClick:o[1]||(o[1]=i=>{var c;return L((c=e.item)==null?void 0:c.album)})},u(e.item.album.name),1)]),_:1})):m("",!0)]),y("div",ce,[n(ee,{location:"bottom"},{activator:r(({props:i})=>{var c;return[n(T,q({color:"primary"},i,{"prepend-icon":"mdi-play-circle",disabled:!((c=g(v).selectedPlayer)!=null&&c.available)||g(v).blockGlobalPlayMenu}),{default:r(()=>[p(u(t.$t("play")),1)]),_:2},1040,["disabled"])]}),default:r(()=>[n(A,{"min-width":"300"},{default:r(()=>[n(te,{lines:"one",density:"comfortable"},{default:r(()=>[(a(!0),d(w,null,I(g(Q)([e.item]),i=>(a(),s(O,{key:i.label,title:t.$t(i.label,i.labelArgs),onClick:c=>i.action?i.action():""},{prepend:r(()=>[n(W,{style:{"padding-right":"10px"}},{default:r(()=>[n(x,{icon:i.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})]),_:1}),!t.$vuetify.display.mobile&&!e.item.in_library?(a(),s(T,{key:0,style:{"margin-left":"10px"},color:"primary",tile:"","prepend-icon":"mdi-heart-outline",onClick:o[2]||(o[2]=i=>g(z).addItemsToLibrary([e.item]))},{default:r(()=>[p(u(t.$t("add_library")),1)]),_:1})):m("",!0),!t.$vuetify.display.mobile&&e.item.in_library?(a(),s(T,{key:1,style:{"margin-left":"10px"},color:"primary",tile:"","prepend-icon":"mdi-heart",onClick:o[3]||(o[3]=i=>g(z).removeItemsFromLibrary([e.item]))},{default:r(()=>[p(u(t.$t("remove_library")),1)]),_:1})):m("",!0)]),g(M)?(a(),s(b,{key:0,class:"body-2 justify-left",style:{"padding-bottom":"10px","white-space":"pre-line",cursor:"pointer"},onClick:o[4]||(o[4]=i=>f.value=!f.value)},{default:r(()=>[y("div",{innerHTML:g(M)},null,8,ye)]),_:1})):m("",!0),e.item&&e.item.metadata.genres?(a(),d("div",ge,[(a(!0),d(w,null,I(e.item.metadata.genres,i=>(a(),s(re,{key:i,color:"blue-grey lighten-1",style:{"margin-right":"5px","margin-bottom":"5px"},small:"",outlined:""},{default:r(()=>[p(u(i),1)]),_:2},1024))),128))])):m("",!0)])]),_:1})):m("",!0),e.item?(a(),s(H,{key:2,style:{"z-index":"800",height:"100%","padding-left":"15px"}},{default:r(()=>[y("div",fe,[n(N,{"provider-mappings":e.item.provider_mappings,height:25,"enable-link":!0},null,8,["provider-mappings"])])]),_:1})):m("",!0)]),_:1},8,["img"])]))}});export{Te as _};
