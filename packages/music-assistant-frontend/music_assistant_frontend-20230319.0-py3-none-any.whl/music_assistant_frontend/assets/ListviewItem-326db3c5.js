import{g as K,Y as O,c as F,ao as H,b as l,m as k,d as q,f as Q,a2 as W,ag as $,h as s,q as m,w as r,ah as v,k as t,N as u,l as d,v as n,j as g,p as c,i as b,M as T,n as I,U as Y}from"./index-b6297644.js";import{_ as G,a as J,b as X,g as Z,c as _}from"./ProviderIcons.vue_vue_type_style_index_0_scoped_f7db673c_lang-31b56941.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as ee,c as te,p as ie,a as x,f as ae,t as L}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-e5f347c5.js";import{m as ne,u as se,f as oe,V as le}from"./VLabel-ae9cbd15.js";import{m as me,f as re,V as de}from"./VCheckboxBtn-1f7e1e73.js";import{u as ce,a as P,V as y}from"./VBtn-a638fdfe.js";import{V as B,a as ue}from"./VTooltip-138f7f67.js";import{b as ve,V as ye}from"./VCardText-db93722d.js";import{V as fe}from"./VCard-32859bd2.js";import{V as R}from"./VDivider-6186aa73.js";import{V as he}from"./VMenu-ee0bbc98.js";const ge=z(G,[["__scopeId","data-v-f7db673c"]]);const be=K()({name:"VCheckbox",inheritAttrs:!1,props:{...ne(),...me()},emits:{"update:focused":e=>!0},setup(e,f){let{attrs:w,slots:V}=f;const{isFocused:p,focus:C,blur:A}=se(e),D=O(),a=F(()=>e.id||`checkbox-${D}`);return ce(()=>{const[i,o]=H(w),[h,We]=oe(e),[M,Ye]=re(e);return l(le,k({class:"v-checkbox"},i,h,{id:a.value,focused:p.value}),{...V,default:N=>{let{id:U,messagesId:S,isDisabled:j,isReadonly:E}=N;return l(de,k(M,{id:U.value,"aria-describedby":S.value,disabled:j.value,readonly:E.value},o,{onFocus:C,onBlur:A}),V)}})}),{}}}),ke={key:0,class:"listitem-thumb"},pe={key:1,class:"listitem-thumb"},xe={key:2,class:"listitem-thumb"},we={key:0},Ve={key:1},Ce={key:0},$e={key:0},Ie={key:1},Be={key:2},Ae={key:3},De={key:4},Le={key:5},Pe={key:6},Te={class:"listitem-actions"},Re={key:2,class:"listitem-action"},Fe={key:3,class:"listitem-action"},ze={class:"text-h5",style:{padding:"10px"}},Me={style:{height:"50px",display:"flex","align-items":"center"}},Ne=["src"],Ue={style:{height:"50px",display:"flex","align-items":"center"}},Se={key:0,style:{height:"50px",display:"flex","align-items":"center"}},je=["href"],Ee={style:{height:"50px",display:"flex","align-items":"center"}},Ke=["src"],Oe={key:1},He={style:{height:"50px",display:"flex","align-items":"center"}},qe=["src"],Qe=q({__name:"ListviewItem",props:{item:null,showTrackNumber:{type:Boolean,default:!0},showProviders:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showLibrary:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0}},emits:["menu","click","select"],setup(e,{emit:f}){const w=e,{t:V}=Q(),p=W({}),C=F(()=>{for(const a of w.item.provider_mappings)if(a.content_type!=null&&a.content_type in[$.DSF,$.FLAC,$.AIFF,$.WAV]&&(a.sample_rate>48e3||a.bit_depth>16))return`${a.sample_rate}kHz ${a.bit_depth} bits`;return""}),A=function(a){var i;if(a.media_type==u.FOLDER||!w.item.provider_mappings)return!0;for(const o of a.provider_mappings)if(o.available&&((i=I.providers[o.provider_instance])!=null&&i.available))return!0;return!1},D=async function(a,i){const o=`${a}.${i}`;if(o in p)return;const h=await I.getTrackPreviewUrl(a,i);p[o]=h};return(a,i)=>(s(),m("div",null,[l(ye,{ripple:"",class:Y(A(e.item)?"":"unavailable"),style:{height:"60px"},lines:"two",density:"compact",onClick:i[8]||(i[8]=v(o=>f("click",e.item),["stop"])),onContextmenu:i[9]||(i[9]=v(o=>f("menu",e.item),["right","prevent"]))},{prepend:r(()=>[e.showCheckboxes?(s(),m("div",ke,[l(be,{"model-value":e.isSelected,onClick:i[0]||(i[0]=v(()=>{},["stop"])),"onUpdate:modelValue":i[1]||(i[1]=o=>{f("select",e.item,o)})},null,8,["model-value"])])):e.item.media_type==t(u).FOLDER?(s(),m("div",pe,[l(P,{variant:"plain",icon:""},{default:r(()=>[l(y,{icon:"mdi-folder",size:"60",style:{align:"center"}})]),_:1})])):(s(),m("div",xe,[l(ee,{item:e.item,size:50},null,8,["item"])]))]),title:r(()=>[e.item.media_type==t(u).FOLDER?(s(),m("span",we,[d("span",null,n(t(te)(e.item,t(V))),1)])):(s(),m("span",Ve,[g(n(e.item.name)+" ",1),"version"in e.item&&e.item.version?(s(),m("span",Ce,"("+n(e.item.version)+")",1)):c("",!0)])),l(t(B),{location:"bottom"},{activator:r(({props:o})=>[t(ie)(e.item.metadata.explicit||!1)?(s(),b(y,k({key:0},o,{class:"listitem-action",icon:"mdi-alpha-e-box",width:"35"}),null,16)):c("",!0)]),default:r(()=>[d("span",null,n(a.$t("tooltip.explicit")),1)]),_:1})]),subtitle:r(()=>[e.item.media_type==t(u).TRACK&&"album"in e.item&&e.item.album&&!e.showTrackNumber?(s(),m("div",$e,n(t(x)(e.item.artists))+" • "+n(e.item.album.name),1)):e.item.media_type==t(u).TRACK&&"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(s(),m("div",Ie,n(t(x)(e.item.artists))+" • disc "+n(e.item.disc_number)+" track "+n(e.item.track_number),1)):e.item.media_type==t(u).ALBUM&&"artists"in e.item&&e.item.artists&&"year"in e.item&&e.item.year&&"album_type"in e.item?(s(),m("div",Be,n(a.$t("album_type."+e.item.album_type))+" • "+n(t(x)(e.item.artists))+" • "+n(e.item.year),1)):e.item.media_type==t(u).ALBUM&&"artists"in e.item&&e.item.artists&&"album_type"in e.item?(s(),m("div",Ae,n(a.$t("album_type."+e.item.album_type))+" • "+n(t(x)(e.item.artists)),1)):"artists"in e.item&&e.item.artists?(s(),m("div",De,n(t(x)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(s(),m("div",Le,n(e.item.owner),1)):c("",!0),e.item.media_type==t(u).RADIO&&e.item.metadata.description?(s(),m("div",Pe,n(e.item.metadata.description),1)):c("",!0)]),append:r(()=>[d("div",Te,[t(C)?(s(),b(ve,{key:0,class:"listitem-action",src:t(J),width:"35",style:T(a.$vuetify.theme.current.dark?"margin-top:5px;":"margin-top:5px;filter: invert(100%);")},{default:r(()=>[l(t(B),{activator:"parent",location:"bottom"},{default:r(()=>[g(n(t(C)),1)]),_:1})]),_:1},8,["src","style"])):c("",!0),e.item.provider_mappings&&e.showProviders&&!a.$vuetify.display.mobile?(s(),b(ge,{key:1,"provider-mappings":e.item.provider_mappings,height:20,class:"listitem-actions"},null,8,["provider-mappings"])):c("",!0),"in_library"in e.item&&e.showLibrary&&!a.$vuetify.display.mobile?(s(),m("div",Re,[l(t(B),{location:"bottom"},{activator:r(({props:o})=>[l(P,k({variant:"plain",ripple:""},o,{icon:e.item.in_library?"mdi-heart":"mdi-heart-outline",onClick:[i[2]||(i[2]=h=>t(I).toggleLibrary(e.item)),i[3]||(i[3]=v(()=>{},["prevent"])),i[4]||(i[4]=v(()=>{},["stop"]))]}),null,16,["icon"])]),default:r(()=>[d("span",null,n(a.$t("tooltip.library")),1)]),_:1})])):c("",!0),l(t(B),{location:"bottom"},{activator:r(({props:o})=>[e.parentItem&&e.parentItem.provider_mappings.find(h=>h.item_id===e.item.item_id)?(s(),b(y,k({key:0},o,{class:"listitem-action",icon:"mdi-link-variant",size:"30"}),null,16)):c("",!0)]),default:r(()=>[d("span",null,n(a.$t("tooltip.linked")),1)]),_:1}),e.showDuration&&e.item.media_type==t(u).TRACK&&"duration"in e.item&&e.item.duration!=null&&!a.$vuetify.display.mobile?(s(),m("div",Fe,[d("span",null,n(t(ae)(e.item.duration)),1)])):c("",!0)]),e.showDetails?(s(),b(he,{key:0,location:"bottom end","onClick:outside":i[6]||(i[6]=v(()=>{},["stop"]))},{activator:r(({props:o})=>[l(y,k({icon:"mdi-information-outline",size:"30",class:"listitem-action",style:{"margin-left":"10px","margin-right":"5px"}},o),null,16)]),default:r(()=>[l(fe,{class:"mx-auto","min-width":"300"},{default:r(()=>[l(ue,{style:{overflow:"hidden"}},{default:r(()=>[d("span",ze,n(a.$t("provider_details")),1),l(R),d("div",Me,[d("img",{height:"30",width:"50",center:"",src:t(X)(e.item.provider),style:{"object-fit":"contain"}},null,8,Ne),g(" "+n(t(L)(t(I).providers[e.item.provider_mappings[0].provider_domain].name,25)),1)]),d("div",Ue,[l(y,{size:"40",icon:"mdi-identifier",style:{"margin-left":"10px","padding-right":"10px"}}),g(" "+n(t(L)(e.item.item_id,30)),1)]),e.item.provider_mappings[0].url&&!e.item.provider.includes("file")?(s(),m("div",Se,[l(y,{size:"40",icon:"mdi-share-outline",style:{"margin-left":"10px","padding-right":"5px"}}),d("a",{href:e.item.provider_mappings[0].url,target:"_blank"},n(t(L)(e.item.provider_mappings[0].url,25)),9,je)])):c("",!0),d("div",Ee,[d("img",{height:"30",width:"50",src:t(Z)(e.item.provider_mappings[0].content_type),style:T(a.$vuetify.theme.current.dark?"object-fit: contain;":"object-fit: contain;filter: invert(100%);")},null,12,Ke),g(" "+n(t(_)(e.item.provider_mappings[0])),1)]),e.item.media_type==t(u).TRACK?(s(),m("div",Oe,[d("div",He,[l(y,{icon:"mdi-headphones",size:"40",style:{"margin-left":"10px","padding-right":"15px"}}),g(" Preview ")]),d("div",{style:{height:"50px",display:"flex","align-items":"center","margin-left":"10px","margin-right":"10px"},onMouseover:i[5]||(i[5]=o=>D(e.item.provider,e.item.item_id))},[d("audio",{controls:"",src:p[`${e.item.provider}.${e.item.item_id}`]},null,8,qe)],32)])):c("",!0)]),_:1})]),_:1})]),_:1})):c("",!0),e.showMenu?(s(),b(P,{key:1,icon:"mdi-dots-vertical",variant:"plain",style:{position:"absolute",right:"-3px",width:"10px"},onClick:i[7]||(i[7]=v(o=>f("menu",e.item),["stop"]))})):c("",!0)]),_:1},8,["class"]),l(R)]))}});const lt=z(Qe,[["__scopeId","data-v-1e1cd74f"]]);export{lt as L,ge as P,be as V};
