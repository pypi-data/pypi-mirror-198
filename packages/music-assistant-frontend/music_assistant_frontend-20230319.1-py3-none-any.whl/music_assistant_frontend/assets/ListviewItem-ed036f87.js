import{g as U,Y as E,c as D,ao as K,b as l,m as V,d as O,f as H,ag as w,h as s,q as o,w as r,ah as y,k as t,N as d,l as v,v as n,j as $,p as u,i as g,M as j,n as A,U as q}from"./index-a7cfb084.js";import{_ as W,a as Y}from"./ProviderIcons.vue_vue_type_style_index_0_scoped_49ec30c1_lang-cd2a9a15.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as G}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-2143ab29.js";import{b as J,p as Q,a as f,f as X}from"./utils-19cbba22.js";import{m as Z,u as _,f as ee,V as te}from"./VLabel-e503b321.js";import{m as ie,f as ae,V as se}from"./VCheckboxBtn-c7655917.js";import{u as ne,a as B,V as p}from"./VBtn-48709670.js";import{V as x}from"./VTooltip-651180bd.js";import{c as oe,V as me}from"./VCardText-47c6afd9.js";import{V as le}from"./VDivider-ecb40747.js";const re=L(W,[["__scopeId","data-v-49ec30c1"]]);const de=U()({name:"VCheckbox",inheritAttrs:!1,props:{...Z(),...ie()},emits:{"update:focused":e=>!0},setup(e,c){let{attrs:b,slots:k}=c;const{isFocused:h,focus:C,blur:a}=_(e),i=E(),m=D(()=>e.id||`checkbox-${i}`);return ne(()=>{const[I,R]=K(b),[F,pe]=ee(e),[P,De]=ae(e);return l(te,V({class:"v-checkbox"},I,F,{id:m.value,focused:h.value}),{...k,default:T=>{let{id:N,messagesId:M,isDisabled:S,isReadonly:z}=T;return l(se,V(P,{id:N.value,"aria-describedby":M.value,disabled:S.value,readonly:z.value},R,{onFocus:C,onBlur:a}),k)}})}),{}}}),ue={key:0,class:"listitem-thumb"},ce={key:1,class:"listitem-thumb"},ye={key:2,class:"listitem-thumb"},ve={key:0},fe={key:1},be={key:0},ke={key:0},he={key:1},we={key:2},ge={key:3},Ve={key:4},Ce={key:5},Be={key:6},xe={class:"listitem-actions"},Ie={key:2,class:"listitem-action"},$e={key:3,class:"listitem-action"},Ae=O({__name:"ListviewItem",props:{item:null,showTrackNumber:{type:Boolean,default:!0},showProviders:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showLibrary:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0}},emits:["menu","click","select"],setup(e,{emit:c}){const b=e,{t:k}=H(),h=D(()=>{for(const a of b.item.provider_mappings)if(a.content_type!=null&&a.content_type in[w.DSF,w.FLAC,w.AIFF,w.WAV]&&(a.sample_rate>48e3||a.bit_depth>16))return`${a.sample_rate}kHz ${a.bit_depth} bits`;return""}),C=function(a){var i;if(a.media_type==d.FOLDER||!b.item.provider_mappings)return!0;for(const m of a.provider_mappings)if(m.available&&((i=A.providers[m.provider_instance])!=null&&i.available))return!0;return!1};return(a,i)=>(s(),o("div",null,[l(me,{ripple:"",class:q(C(e.item)?"":"unavailable"),style:{height:"60px"},lines:"two",density:"compact",onClick:i[6]||(i[6]=y(m=>c("click",e.item),["stop"])),onContextmenu:i[7]||(i[7]=y(m=>c("menu",e.item),["right","prevent"]))},{prepend:r(()=>[e.showCheckboxes?(s(),o("div",ue,[l(de,{"model-value":e.isSelected,onClick:i[0]||(i[0]=y(()=>{},["stop"])),"onUpdate:modelValue":i[1]||(i[1]=m=>{c("select",e.item,m)})},null,8,["model-value"])])):e.item.media_type==t(d).FOLDER?(s(),o("div",ce,[l(B,{variant:"plain",icon:""},{default:r(()=>[l(p,{icon:"mdi-folder",size:"60",style:{align:"center"}})]),_:1})])):(s(),o("div",ye,[l(G,{item:e.item,size:50},null,8,["item"])]))]),title:r(()=>[e.item.media_type==t(d).FOLDER?(s(),o("span",ve,[v("span",null,n(t(J)(e.item,t(k))),1)])):(s(),o("span",fe,[$(n(e.item.name)+" ",1),"version"in e.item&&e.item.version?(s(),o("span",be,"("+n(e.item.version)+")",1)):u("",!0)])),l(t(x),{location:"bottom"},{activator:r(({props:m})=>[t(Q)(e.item.metadata.explicit||!1)?(s(),g(p,V({key:0},m,{class:"listitem-action",icon:"mdi-alpha-e-box",width:"35"}),null,16)):u("",!0)]),default:r(()=>[v("span",null,n(a.$t("tooltip.explicit")),1)]),_:1})]),subtitle:r(()=>[e.item.media_type==t(d).TRACK&&"album"in e.item&&e.item.album&&!e.showTrackNumber?(s(),o("div",ke,n(t(f)(e.item.artists))+" • "+n(e.item.album.name),1)):e.item.media_type==t(d).TRACK&&"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(s(),o("div",he,n(t(f)(e.item.artists))+" • disc "+n(e.item.disc_number)+" track "+n(e.item.track_number),1)):e.item.media_type==t(d).ALBUM&&"artists"in e.item&&e.item.artists&&"year"in e.item&&e.item.year&&"album_type"in e.item?(s(),o("div",we,n(a.$t("album_type."+e.item.album_type))+" • "+n(t(f)(e.item.artists))+" • "+n(e.item.year),1)):e.item.media_type==t(d).ALBUM&&"artists"in e.item&&e.item.artists&&"album_type"in e.item?(s(),o("div",ge,n(a.$t("album_type."+e.item.album_type))+" • "+n(t(f)(e.item.artists)),1)):"artists"in e.item&&e.item.artists?(s(),o("div",Ve,n(t(f)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(s(),o("div",Ce,n(e.item.owner),1)):u("",!0),e.item.media_type==t(d).RADIO&&e.item.metadata.description?(s(),o("div",Be,n(e.item.metadata.description),1)):u("",!0)]),append:r(()=>[v("div",xe,[t(h)?(s(),g(oe,{key:0,class:"listitem-action",src:t(Y),width:"35",style:j(a.$vuetify.theme.current.dark?"margin-top:5px;":"margin-top:5px;filter: invert(100%);")},{default:r(()=>[l(t(x),{activator:"parent",location:"bottom"},{default:r(()=>[$(n(t(h)),1)]),_:1})]),_:1},8,["src","style"])):u("",!0),e.item.provider_mappings&&e.showProviders&&!a.$vuetify.display.mobile?(s(),g(re,{key:1,"provider-mappings":e.item.provider_mappings,height:20,"enable-details":e.showDetails,"enable-preview":e.item.media_type==t(d).TRACK,class:"listitem-actions"},null,8,["provider-mappings","enable-details","enable-preview"])):u("",!0),"in_library"in e.item&&e.showLibrary&&!a.$vuetify.display.mobile?(s(),o("div",Ie,[l(t(x),{location:"bottom"},{activator:r(({props:m})=>[l(B,V({variant:"plain",ripple:""},m,{icon:e.item.in_library?"mdi-heart":"mdi-heart-outline",onClick:[i[2]||(i[2]=I=>t(A).toggleLibrary(e.item)),i[3]||(i[3]=y(()=>{},["prevent"])),i[4]||(i[4]=y(()=>{},["stop"]))]}),null,16,["icon"])]),default:r(()=>[v("span",null,n(a.$t("tooltip.library")),1)]),_:1})])):u("",!0),e.showDuration&&e.item.media_type==t(d).TRACK&&"duration"in e.item&&e.item.duration!=null&&!a.$vuetify.display.mobile?(s(),o("div",$e,[v("span",null,n(t(X)(e.item.duration)),1)])):u("",!0)]),e.showMenu?(s(),g(B,{key:0,icon:"mdi-dots-vertical",variant:"plain",style:{position:"absolute",right:"-3px",width:"10px"},onClick:i[5]||(i[5]=y(m=>c("menu",e.item),["stop"]))})):u("",!0)]),_:1},8,["class"]),l(le)]))}});const Ke=L(Ae,[["__scopeId","data-v-718c6c67"]]);export{Ke as L,re as P,de as V};
