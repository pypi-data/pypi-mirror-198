import{d as k,e as y,r as V,a2 as w,o as C,n as c,z as D,h as s,q as f,b as r,w as l,j as d,v as i,i as v,l as n,p as u}from"./index-a7cfb084.js";import{_ as $}from"./EditConfig.vue_vue_type_style_index_0_lang-9212dbe9.js";import{d as B,b as p,h as N}from"./VCardText-47c6afd9.js";import{V as x}from"./VDivider-ecb40747.js";/* empty css                             */import"./VSelect-7d204a59.js";import"./VLabel-e503b321.js";import"./VBtn-48709670.js";import"./VTooltip-651180bd.js";import"./VMenu-40f27db7.js";import"./VCheckboxBtn-c7655917.js";import"./VExpansionPanel-99a6bc2c.js";const S={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},T=n("br",null,null,-1),j=["href"],M=n("br",null,null,-1),P=n("br",null,null,-1),q=n("br",null,null,-1),O=k({__name:"AddProvider",props:{domain:null},setup(_){const m=_,g=y(),e=V(),o=w({});C(async()=>{const a=await c.getData("providers/available");for(const t of a)o[t.domain]=t}),D(()=>m.domain,async a=>{a&&(e.value=await c.getData("config/providers/add",{provider_domain:m.domain}))},{immediate:!0});const h=async function(a){e.value.enabled=a.enabled,e.value.name=a.name;for(const t in a.values)e.value.values[t].value=a.values[t];c.getData("config/providers/add",{provider_domain:m.domain,config:e.value}).then(()=>{g.push({name:"providersettings"})}).catch(t=>{alert(t)})};return(a,t)=>(s(),f("section",null,[r(N,null,{default:l(()=>[e.value&&o[e.value.domain]?(s(),f("div",S,[r(B,null,{default:l(()=>[d(i(a.$t("settings.setup_provider",[o[e.value.domain].name])),1)]),_:1}),r(p,null,{default:l(()=>[d(i(o[e.value.domain].description),1)]),_:1}),T,o[e.value.domain].codeowners.length?(s(),v(p,{key:0},{default:l(()=>[n("b",null,i(a.$t("settings.codeowners"))+": ",1),d(i(o[e.value.domain].codeowners.join(" / ")),1)]),_:1})):u("",!0),o[e.value.domain].documentation?(s(),v(p,{key:1},{default:l(()=>[n("b",null,i(a.$t("settings.need_help_setup_provider")),1),d("Â  "),n("a",{href:o[e.value.domain].documentation,target:"_blank"},i(a.$t("settings.check_docs")),9,j)]),_:1})):u("",!0)])):u("",!0),M,r(x),P,q,e.value?(s(),v($,{key:1,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=b=>h(b))},null,8,["model-value"])):u("",!0)]),_:1})]))}});export{O as default};
